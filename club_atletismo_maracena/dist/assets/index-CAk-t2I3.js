function Tx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F0={exports:{}},Zc={},U0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),xx=Symbol.for("react.portal"),Ax=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),Rx=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Px=Symbol.for("react.context"),Nx=Symbol.for("react.forward_ref"),Dx=Symbol.for("react.suspense"),bx=Symbol.for("react.memo"),Ox=Symbol.for("react.lazy"),Hy=Symbol.iterator;function Lx(t){return t===null||typeof t!="object"?null:(t=Hy&&t[Hy]||t["@@iterator"],typeof t=="function"?t:null)}var $0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B0=Object.assign,z0={};function Po(t,e,n){this.props=t,this.context=e,this.refs=z0,this.updater=n||$0}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q0(){}q0.prototype=Po.prototype;function zp(t,e,n){this.props=t,this.context=e,this.refs=z0,this.updater=n||$0}var qp=zp.prototype=new q0;qp.constructor=zp;B0(qp,Po.prototype);qp.isPureReactComponent=!0;var Wy=Array.isArray,H0=Object.prototype.hasOwnProperty,Hp={current:null},W0={key:!0,ref:!0,__self:!0,__source:!0};function K0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)H0.call(e,r)&&!W0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Sl,type:t,key:s,ref:o,props:i,_owner:Hp.current}}function Vx(t,e){return{$$typeof:Sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sl}function jx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ky=/\/+/g;function vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jx(""+t.key):e.toString(36)}function Mu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sl:case xx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vd(o,0):r,Wy(i)?(n="",t!=null&&(n=t.replace(Ky,"$&/")+"/"),Mu(i,e,n,"",function(f){return f})):i!=null&&(Wp(i)&&(i=Vx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ky,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wy(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+vd(s,l);o+=Mu(s,e,n,c,i)}else if(c=Lx(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+vd(s,l++),o+=Mu(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uu(t,e,n){if(t==null)return t;var r=[],i=0;return Mu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Mx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Fu={transition:null},Fx={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Hp};Se.Children={map:uu,forEach:function(t,e,n){uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uu(t,function(){e++}),e},toArray:function(t){return uu(t,function(e){return e})||[]},only:function(t){if(!Wp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Po;Se.Fragment=Ax;Se.Profiler=Rx;Se.PureComponent=zp;Se.StrictMode=Cx;Se.Suspense=Dx;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)H0.call(e,c)&&!W0.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Sl,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:Px,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kx,_context:t},t.Consumer=t};Se.createElement=K0;Se.createFactory=function(t){var e=K0.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:Nx,render:t}};Se.isValidElement=Wp;Se.lazy=function(t){return{$$typeof:Ox,_payload:{_status:-1,_result:t},_init:Mx}};Se.memo=function(t,e){return{$$typeof:bx,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Se.useContext=function(t){return Xt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Se.useId=function(){return Xt.current.useId()};Se.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Se.useRef=function(t){return Xt.current.useRef(t)};Se.useState=function(t){return Xt.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return Xt.current.useTransition()};Se.version="18.2.0";U0.exports=Se;var H=U0.exports;const Ux=Sx(H),$x=Tx({__proto__:null,default:Ux},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=H,zx=Symbol.for("react.element"),qx=Symbol.for("react.fragment"),Hx=Object.prototype.hasOwnProperty,Wx=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kx={key:!0,ref:!0,__self:!0,__source:!0};function G0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hx.call(e,r)&&!Kx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zx,type:t,key:s,ref:o,props:i,_owner:Wx.current}}Zc.Fragment=qx;Zc.jsx=G0;Zc.jsxs=G0;F0.exports=Zc;var y=F0.exports,Q0={exports:{}},yn={},X0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,ue){var Ee=Z.length;Z.push(ue);e:for(;0<Ee;){var ze=Ee-1>>>1,et=Z[ze];if(0<i(et,ue))Z[ze]=ue,Z[Ee]=et,Ee=ze;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],Ee=Z.pop();if(Ee!==ue){Z[0]=Ee;e:for(var ze=0,et=Z.length,$r=et>>>1;ze<$r;){var Hn=2*(ze+1)-1,qo=Z[Hn],yr=Hn+1,As=Z[yr];if(0>i(qo,Ee))yr<et&&0>i(As,qo)?(Z[ze]=As,Z[yr]=Ee,ze=yr):(Z[ze]=qo,Z[Hn]=Ee,ze=Hn);else if(yr<et&&0>i(As,Ee))Z[ze]=As,Z[yr]=Ee,ze=yr;else break e}}return ue}function i(Z,ue){var Ee=Z.sortIndex-ue.sortIndex;return Ee!==0?Ee:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],m=1,_=null,E=3,R=!1,k=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Z){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=Z)r(f),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=n(f)}}function b(Z){if(N=!1,A(Z),!k)if(n(c)!==null)k=!0,zo(U);else{var ue=n(f);ue!==null&&ln(b,ue.startTime-Z)}}function U(Z,ue){k=!1,N&&(N=!1,S(J),J=-1),R=!0;var Ee=E;try{for(A(ue),_=n(c);_!==null&&(!(_.expirationTime>ue)||Z&&!an());){var ze=_.callback;if(typeof ze=="function"){_.callback=null,E=_.priorityLevel;var et=ze(_.expirationTime<=ue);ue=t.unstable_now(),typeof et=="function"?_.callback=et:_===n(c)&&r(c),A(ue)}else r(c);_=n(c)}if(_!==null)var $r=!0;else{var Hn=n(f);Hn!==null&&ln(b,Hn.startTime-ue),$r=!1}return $r}finally{_=null,E=Ee,R=!1}}var K=!1,d=null,J=-1,se=5,we=-1;function an(){return!(t.unstable_now()-we<se)}function Oi(){if(d!==null){var Z=t.unstable_now();we=Z;var ue=!0;try{ue=d(!0,Z)}finally{ue?Ae():(K=!1,d=null)}}else K=!1}var Ae;if(typeof I=="function")Ae=function(){I(Oi)};else if(typeof MessageChannel<"u"){var Ur=new MessageChannel,Xh=Ur.port2;Ur.port1.onmessage=Oi,Ae=function(){Xh.postMessage(null)}}else Ae=function(){j(Oi,0)};function zo(Z){d=Z,K||(K=!0,Ae())}function ln(Z,ue){J=j(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){k||R||(k=!0,zo(U))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var Ee=E;E=ue;try{return Z()}finally{E=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ee=E;E=Z;try{return ue()}finally{E=Ee}},t.unstable_scheduleCallback=function(Z,ue,Ee){var ze=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ze+Ee:ze):Ee=ze,Z){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=Ee+et,Z={id:m++,callback:ue,priorityLevel:Z,startTime:Ee,expirationTime:et,sortIndex:-1},Ee>ze?(Z.sortIndex=Ee,e(f,Z),n(c)===null&&Z===n(f)&&(N?(S(J),J=-1):N=!0,ln(b,Ee-ze))):(Z.sortIndex=et,e(c,Z),k||R||(k=!0,zo(U))),Z},t.unstable_shouldYield=an,t.unstable_wrapCallback=function(Z){var ue=E;return function(){var Ee=E;E=ue;try{return Z.apply(this,arguments)}finally{E=Ee}}}})(Y0);X0.exports=Y0;var Gx=X0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=H,mn=Gx;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z0=new Set,$a={};function vs(t,e){po(t,e),po(t+"Capture",e)}function po(t,e){for($a[t]=e,t=0;t<e.length;t++)Z0.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=Object.prototype.hasOwnProperty,Qx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gy={},Qy={};function Xx(t){return ff.call(Qy,t)?!0:ff.call(Gy,t)?!1:Qx.test(t)?Qy[t]=!0:(Gy[t]=!0,!1)}function Yx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jx(t,e,n,r){if(e===null||typeof e>"u"||Yx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kp=/[\-:]([a-z])/g;function Gp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kp,Gp);Dt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kp,Gp);Dt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kp,Gp);Dt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qp(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jx(e,n,i,r)&&(n=null),r||i===null?Xx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=J0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),Jp=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),nw=Symbol.for("react.offscreen"),Xy=Symbol.iterator;function na(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,_d;function pa(t){if(_d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_d=e&&e[1]||""}return`
`+_d+t}var wd=!1;function Ed(t,e){if(!t||wd)return"";wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{wd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pa(t):""}function Zx(t){switch(t.tag){case 5:return pa(t.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return t=Ed(t.type,!1),t;case 11:return t=Ed(t.type.render,!1),t;case 1:return t=Ed(t.type,!0),t;default:return""}}function yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Bs:return"Portal";case pf:return"Profiler";case Xp:return"StrictMode";case mf:return"Suspense";case gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tw:return(t.displayName||"Context")+".Consumer";case ew:return(t._context.displayName||"Context")+".Provider";case Yp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jp:return e=t.displayName||null,e!==null?e:yf(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return yf(t(e))}catch{}}return null}function eA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(e);case 8:return e===Xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tA(t){var e=rw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hu(t){t._valueTracker||(t._valueTracker=tA(t))}function iw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vf(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sw(t,e){e=e.checked,e!=null&&Qp(t,"checked",e,!1)}function _f(t,e){sw(t,e);var n=wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&wf(t,e.type,wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wf(t,e,n){(e!=="number"||ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ma=Array.isArray;function to(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ma(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wi(n)}}function ow(t,e){var n=wi(e.value),r=wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ev(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var du,lw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(du=du||document.createElement("div"),du.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=du.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ba(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nA=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(t){nA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sa[e]=Sa[t]})});function uw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sa.hasOwnProperty(t)&&Sa[t]?(""+e).trim():e+"px"}function cw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rA=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function If(t,e){if(e){if(rA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=null;function Zp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Af=null,no=null,ro=null;function tv(t){if(t=Cl(t)){if(typeof Af!="function")throw Error(W(280));var e=t.stateNode;e&&(e=ih(e),Af(t.stateNode,t.type,e))}}function hw(t){no?ro?ro.push(t):ro=[t]:no=t}function dw(){if(no){var t=no,e=ro;if(ro=no=null,tv(t),e)for(t=0;t<e.length;t++)tv(e[t])}}function fw(t,e){return t(e)}function pw(){}var Td=!1;function mw(t,e,n){if(Td)return t(e,n);Td=!0;try{return fw(t,e,n)}finally{Td=!1,(no!==null||ro!==null)&&(pw(),dw())}}function za(t,e){var n=t.stateNode;if(n===null)return null;var r=ih(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Cf=!1;if(Nr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Cf=!1}function iA(t,e,n,r,i,s,o,l,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var xa=!1,sc=null,oc=!1,Rf=null,sA={onError:function(t){xa=!0,sc=t}};function oA(t,e,n,r,i,s,o,l,c){xa=!1,sc=null,iA.apply(sA,arguments)}function aA(t,e,n,r,i,s,o,l,c){if(oA.apply(this,arguments),xa){if(xa){var f=sc;xa=!1,sc=null}else throw Error(W(198));oc||(oc=!0,Rf=f)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nv(t){if(_s(t)!==t)throw Error(W(188))}function lA(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nv(i),t;if(s===r)return nv(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function yw(t){return t=lA(t),t!==null?vw(t):null}function vw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vw(t);if(e!==null)return e;t=t.sibling}return null}var _w=mn.unstable_scheduleCallback,rv=mn.unstable_cancelCallback,uA=mn.unstable_shouldYield,cA=mn.unstable_requestPaint,it=mn.unstable_now,hA=mn.unstable_getCurrentPriorityLevel,em=mn.unstable_ImmediatePriority,ww=mn.unstable_UserBlockingPriority,ac=mn.unstable_NormalPriority,dA=mn.unstable_LowPriority,Ew=mn.unstable_IdlePriority,eh=null,ar=null;function fA(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:gA,pA=Math.log,mA=Math.LN2;function gA(t){return t>>>=0,t===0?32:31-(pA(t)/mA|0)|0}var fu=64,pu=4194304;function ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ga(l):(s&=o,s!==0&&(r=ga(s)))}else o=n&~i,o!==0?r=ga(o):s!==0&&(r=ga(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function yA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=yA(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tw(){var t=fu;return fu<<=1,!(fu&4194240)&&(fu=64),t}function Id(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function _A(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function Iw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sw,nm,xw,Aw,Cw,Pf=!1,mu=[],li=null,ui=null,ci=null,qa=new Map,Ha=new Map,Jr=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(e.pointerId)}}function ia(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cl(e),e!==null&&nm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EA(t,e,n,r,i){switch(e){case"focusin":return li=ia(li,t,e,n,r,i),!0;case"dragenter":return ui=ia(ui,t,e,n,r,i),!0;case"mouseover":return ci=ia(ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qa.set(s,ia(qa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ha.set(s,ia(Ha.get(s)||null,t,e,n,r,i)),!0}return!1}function Rw(t){var e=Wi(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=gw(n),e!==null){t.blockedOn=e,Cw(t.priority,function(){xw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xf=r,n.target.dispatchEvent(r),xf=null}else return e=Cl(n),e!==null&&nm(e),t.blockedOn=n,!1;e.shift()}return!0}function sv(t,e,n){Uu(t)&&n.delete(e)}function TA(){Pf=!1,li!==null&&Uu(li)&&(li=null),ui!==null&&Uu(ui)&&(ui=null),ci!==null&&Uu(ci)&&(ci=null),qa.forEach(sv),Ha.forEach(sv)}function sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,TA)))}function Wa(t){function e(i){return sa(i,t)}if(0<mu.length){sa(mu[0],t);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(li!==null&&sa(li,t),ui!==null&&sa(ui,t),ci!==null&&sa(ci,t),qa.forEach(e),Ha.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)Rw(n),n.blockedOn===null&&Jr.shift()}var io=Mr.ReactCurrentBatchConfig,uc=!0;function IA(t,e,n,r){var i=be,s=io.transition;io.transition=null;try{be=1,rm(t,e,n,r)}finally{be=i,io.transition=s}}function SA(t,e,n,r){var i=be,s=io.transition;io.transition=null;try{be=4,rm(t,e,n,r)}finally{be=i,io.transition=s}}function rm(t,e,n,r){if(uc){var i=Nf(t,e,n,r);if(i===null)bd(t,e,r,cc,n),iv(t,r);else if(EA(i,t,e,n,r))r.stopPropagation();else if(iv(t,r),e&4&&-1<wA.indexOf(t)){for(;i!==null;){var s=Cl(i);if(s!==null&&Sw(s),s=Nf(t,e,n,r),s===null&&bd(t,e,r,cc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bd(t,e,r,null,n)}}var cc=null;function Nf(t,e,n,r){if(cc=null,t=Zp(r),t=Wi(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cc=t,null}function kw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hA()){case em:return 1;case ww:return 4;case ac:case dA:return 16;case Ew:return 536870912;default:return 16}default:return 16}}var ii=null,im=null,$u=null;function Pw(){if($u)return $u;var t,e=im,n=e.length,r,i="value"in ii?ii.value:ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $u=i.slice(t,1<r?1-r:void 0)}function Bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gu(){return!0}function ov(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gu:ov,this.isPropagationStopped=ov,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sm=vn(No),Al=Ke({},No,{view:0,detail:0}),xA=vn(Al),Sd,xd,oa,th=Ke({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Sd=t.screenX-oa.screenX,xd=t.screenY-oa.screenY):xd=Sd=0,oa=t),Sd)},movementY:function(t){return"movementY"in t?t.movementY:xd}}),av=vn(th),AA=Ke({},th,{dataTransfer:0}),CA=vn(AA),RA=Ke({},Al,{relatedTarget:0}),Ad=vn(RA),kA=Ke({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),PA=vn(kA),NA=Ke({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DA=vn(NA),bA=Ke({},No,{data:0}),lv=vn(bA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VA[t])?!!e[t]:!1}function om(){return jA}var MA=Ke({},Al,{key:function(t){if(t.key){var e=OA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(t){return t.type==="keypress"?Bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FA=vn(MA),UA=Ke({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=vn(UA),$A=Ke({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),BA=vn($A),zA=Ke({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),qA=vn(zA),HA=Ke({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WA=vn(HA),KA=[9,13,27,32],am=Nr&&"CompositionEvent"in window,Aa=null;Nr&&"documentMode"in document&&(Aa=document.documentMode);var GA=Nr&&"TextEvent"in window&&!Aa,Nw=Nr&&(!am||Aa&&8<Aa&&11>=Aa),cv=" ",hv=!1;function Dw(t,e){switch(t){case"keyup":return KA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function QA(t,e){switch(t){case"compositionend":return bw(e);case"keypress":return e.which!==32?null:(hv=!0,cv);case"textInput":return t=e.data,t===cv&&hv?null:t;default:return null}}function XA(t,e){if(qs)return t==="compositionend"||!am&&Dw(t,e)?(t=Pw(),$u=im=ii=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nw&&e.locale!=="ko"?null:e.data;default:return null}}var YA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YA[t.type]:e==="textarea"}function Ow(t,e,n,r){hw(r),e=hc(e,"onChange"),0<e.length&&(n=new sm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ca=null,Ka=null;function JA(t){Hw(t,0)}function nh(t){var e=Ks(t);if(iw(e))return t}function ZA(t,e){if(t==="change")return e}var Lw=!1;if(Nr){var Cd;if(Nr){var Rd="oninput"in document;if(!Rd){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Rd=typeof fv.oninput=="function"}Cd=Rd}else Cd=!1;Lw=Cd&&(!document.documentMode||9<document.documentMode)}function pv(){Ca&&(Ca.detachEvent("onpropertychange",Vw),Ka=Ca=null)}function Vw(t){if(t.propertyName==="value"&&nh(Ka)){var e=[];Ow(e,Ka,t,Zp(t)),mw(JA,e)}}function eC(t,e,n){t==="focusin"?(pv(),Ca=e,Ka=n,Ca.attachEvent("onpropertychange",Vw)):t==="focusout"&&pv()}function tC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nh(Ka)}function nC(t,e){if(t==="click")return nh(e)}function rC(t,e){if(t==="input"||t==="change")return nh(e)}function iC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:iC;function Ga(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ff.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function mv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gv(t,e){var n=mv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mv(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mw(){for(var t=window,e=ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ic(t.document)}return e}function lm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sC(t){var e=Mw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&lm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gv(n,s);var o=gv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oC=Nr&&"documentMode"in document&&11>=document.documentMode,Hs=null,Df=null,Ra=null,bf=!1;function yv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bf||Hs==null||Hs!==ic(r)||(r=Hs,"selectionStart"in r&&lm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ra&&Ga(Ra,r)||(Ra=r,r=hc(Df,"onSelect"),0<r.length&&(e=new sm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},kd={},Fw={};Nr&&(Fw=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function rh(t){if(kd[t])return kd[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fw)return kd[t]=e[n];return t}var Uw=rh("animationend"),$w=rh("animationiteration"),Bw=rh("animationstart"),zw=rh("transitionend"),qw=new Map,vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){qw.set(t,e),vs(e,[t])}for(var Pd=0;Pd<vv.length;Pd++){var Nd=vv[Pd],aC=Nd.toLowerCase(),lC=Nd[0].toUpperCase()+Nd.slice(1);Ai(aC,"on"+lC)}Ai(Uw,"onAnimationEnd");Ai($w,"onAnimationIteration");Ai(Bw,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(zw,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function _v(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aA(r,e,void 0,t),t.currentTarget=null}function Hw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;_v(i,l,f),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,f=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;_v(i,l,f),s=c}}}if(oc)throw t=Rf,oc=!1,Rf=null,t}function Fe(t,e){var n=e[Mf];n===void 0&&(n=e[Mf]=new Set);var r=t+"__bubble";n.has(r)||(Ww(e,t,2,!1),n.add(r))}function Dd(t,e,n){var r=0;e&&(r|=4),Ww(n,t,r,e)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[vu]){t[vu]=!0,Z0.forEach(function(n){n!=="selectionchange"&&(uC.has(n)||Dd(n,!1,t),Dd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vu]||(e[vu]=!0,Dd("selectionchange",!1,e))}}function Ww(t,e,n,r){switch(kw(e)){case 1:var i=IA;break;case 4:i=SA;break;default:i=rm}n=i.bind(null,e,n,t),i=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Wi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}mw(function(){var f=s,m=Zp(n),_=[];e:{var E=qw.get(t);if(E!==void 0){var R=sm,k=t;switch(t){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":R=FA;break;case"focusin":k="focus",R=Ad;break;case"focusout":k="blur",R=Ad;break;case"beforeblur":case"afterblur":R=Ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=BA;break;case Uw:case $w:case Bw:R=PA;break;case zw:R=qA;break;case"scroll":R=xA;break;case"wheel":R=WA;break;case"copy":case"cut":case"paste":R=DA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=uv}var N=(e&4)!==0,j=!N&&t==="scroll",S=N?E!==null?E+"Capture":null:E;N=[];for(var I=f,A;I!==null;){A=I;var b=A.stateNode;if(A.tag===5&&b!==null&&(A=b,S!==null&&(b=za(I,S),b!=null&&N.push(Xa(I,b,A)))),j)break;I=I.return}0<N.length&&(E=new R(E,k,null,n,m),_.push({event:E,listeners:N}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",E&&n!==xf&&(k=n.relatedTarget||n.fromElement)&&(Wi(k)||k[Dr]))break e;if((R||E)&&(E=m.window===m?m:(E=m.ownerDocument)?E.defaultView||E.parentWindow:window,R?(k=n.relatedTarget||n.toElement,R=f,k=k?Wi(k):null,k!==null&&(j=_s(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(R=null,k=f),R!==k)){if(N=av,b="onMouseLeave",S="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(N=uv,b="onPointerLeave",S="onPointerEnter",I="pointer"),j=R==null?E:Ks(R),A=k==null?E:Ks(k),E=new N(b,I+"leave",R,n,m),E.target=j,E.relatedTarget=A,b=null,Wi(m)===f&&(N=new N(S,I+"enter",k,n,m),N.target=A,N.relatedTarget=j,b=N),j=b,R&&k)t:{for(N=R,S=k,I=0,A=N;A;A=js(A))I++;for(A=0,b=S;b;b=js(b))A++;for(;0<I-A;)N=js(N),I--;for(;0<A-I;)S=js(S),A--;for(;I--;){if(N===S||S!==null&&N===S.alternate)break t;N=js(N),S=js(S)}N=null}else N=null;R!==null&&wv(_,E,R,N,!1),k!==null&&j!==null&&wv(_,j,k,N,!0)}}e:{if(E=f?Ks(f):window,R=E.nodeName&&E.nodeName.toLowerCase(),R==="select"||R==="input"&&E.type==="file")var U=ZA;else if(dv(E))if(Lw)U=rC;else{U=tC;var K=eC}else(R=E.nodeName)&&R.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(U=nC);if(U&&(U=U(t,f))){Ow(_,U,n,m);break e}K&&K(t,E,f),t==="focusout"&&(K=E._wrapperState)&&K.controlled&&E.type==="number"&&wf(E,"number",E.value)}switch(K=f?Ks(f):window,t){case"focusin":(dv(K)||K.contentEditable==="true")&&(Hs=K,Df=f,Ra=null);break;case"focusout":Ra=Df=Hs=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,yv(_,n,m);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":yv(_,n,m)}var d;if(am)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else qs?Dw(t,n)&&(J="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(Nw&&n.locale!=="ko"&&(qs||J!=="onCompositionStart"?J==="onCompositionEnd"&&qs&&(d=Pw()):(ii=m,im="value"in ii?ii.value:ii.textContent,qs=!0)),K=hc(f,J),0<K.length&&(J=new lv(J,t,null,n,m),_.push({event:J,listeners:K}),d?J.data=d:(d=bw(n),d!==null&&(J.data=d)))),(d=GA?QA(t,n):XA(t,n))&&(f=hc(f,"onBeforeInput"),0<f.length&&(m=new lv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=d))}Hw(_,e)})}function Xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=za(t,n),s!=null&&r.unshift(Xa(t,s,i)),s=za(t,e),s!=null&&r.push(Xa(t,s,i))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,f=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&f!==null&&(l=f,i?(c=za(n,s),c!=null&&o.unshift(Xa(n,c,l))):i||(c=za(n,s),c!=null&&o.push(Xa(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cC=/\r\n?/g,hC=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(cC,`
`).replace(hC,"")}function _u(t,e,n){if(e=Ev(e),Ev(t)!==e&&n)throw Error(W(425))}function dc(){}var Of=null,Lf=null;function Vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jf=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch(pC)}:jf;function pC(t){setTimeout(function(){throw t})}function Od(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wa(e)}function hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),tr="__reactFiber$"+Do,Ya="__reactProps$"+Do,Dr="__reactContainer$"+Do,Mf="__reactEvents$"+Do,mC="__reactListeners$"+Do,gC="__reactHandles$"+Do;function Wi(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iv(t);t!==null;){if(n=t[tr])return n;t=Iv(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[tr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function ih(t){return t[Ya]||null}var Ff=[],Gs=-1;function Ci(t){return{current:t}}function Be(t){0>Gs||(t.current=Ff[Gs],Ff[Gs]=null,Gs--)}function Le(t,e){Gs++,Ff[Gs]=t.current,t.current=e}var Ei={},Bt=Ci(Ei),rn=Ci(!1),ss=Ei;function mo(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function fc(){Be(rn),Be(Bt)}function Sv(t,e,n){if(Bt.current!==Ei)throw Error(W(168));Le(Bt,e),Le(rn,n)}function Kw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,eA(t)||"Unknown",i));return Ke({},n,r)}function pc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,ss=Bt.current,Le(Bt,t),Le(rn,rn.current),!0}function xv(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Kw(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,Be(rn),Be(Bt),Le(Bt,t)):Be(rn),Le(rn,n)}var Tr=null,sh=!1,Ld=!1;function Gw(t){Tr===null?Tr=[t]:Tr.push(t)}function yC(t){sh=!0,Gw(t)}function Ri(){if(!Ld&&Tr!==null){Ld=!0;var t=0,e=be;try{var n=Tr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tr=null,sh=!1}catch(i){throw Tr!==null&&(Tr=Tr.slice(t+1)),_w(em,Ri),i}finally{be=e,Ld=!1}}return null}var Qs=[],Xs=0,mc=null,gc=0,En=[],Tn=0,os=null,Ir=1,Sr="";function Bi(t,e){Qs[Xs++]=gc,Qs[Xs++]=mc,mc=t,gc=e}function Qw(t,e,n){En[Tn++]=Ir,En[Tn++]=Sr,En[Tn++]=os,os=t;var r=Ir;t=Sr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ir=1<<32-Un(e)+i|n<<i|r,Sr=s+t}else Ir=1<<s|n<<i|r,Sr=t}function um(t){t.return!==null&&(Bi(t,1),Qw(t,1,0))}function cm(t){for(;t===mc;)mc=Qs[--Xs],Qs[Xs]=null,gc=Qs[--Xs],Qs[Xs]=null;for(;t===os;)os=En[--Tn],En[Tn]=null,Sr=En[--Tn],En[Tn]=null,Ir=En[--Tn],En[Tn]=null}var pn=null,dn=null,qe=!1,Mn=null;function Xw(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Av(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,dn=hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:Ir,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,dn=null,!0):!1;default:return!1}}function Uf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $f(t){if(qe){var e=dn;if(e){var n=e;if(!Av(t,e)){if(Uf(t))throw Error(W(418));e=hi(n.nextSibling);var r=pn;e&&Av(t,e)?Xw(r,n):(t.flags=t.flags&-4097|2,qe=!1,pn=t)}}else{if(Uf(t))throw Error(W(418));t.flags=t.flags&-4097|2,qe=!1,pn=t}}}function Cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function wu(t){if(t!==pn)return!1;if(!qe)return Cv(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vf(t.type,t.memoizedProps)),e&&(e=dn)){if(Uf(t))throw Yw(),Error(W(418));for(;e;)Xw(t,e),e=hi(e.nextSibling)}if(Cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=pn?hi(t.stateNode.nextSibling):null;return!0}function Yw(){for(var t=dn;t;)t=hi(t.nextSibling)}function go(){dn=pn=null,qe=!1}function hm(t){Mn===null?Mn=[t]:Mn.push(t)}var vC=Mr.ReactCurrentBatchConfig;function Vn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yc=Ci(null),vc=null,Ys=null,dm=null;function fm(){dm=Ys=vc=null}function pm(t){var e=yc.current;Be(yc),t._currentValue=e}function Bf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){vc=t,dm=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(dm!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(vc===null)throw Error(W(308));Ys=t,vc.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Ki=null;function mm(t){Ki===null?Ki=[t]:Ki.push(t)}function Jw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mm(e)):(n.next=i.next,i.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,br(t,n)}return i=r.interleaved,i===null?(e.next=e,mm(r)):(e.next=i.next,i.next=e),r.interleaved=e,br(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tm(t,n)}}function Rv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _c(t,e,n,r){var i=t.updateQueue;Yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,f=c.next;c.next=null,o===null?s=f:o.next=f,o=c;var m=t.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=f:l.next=f,m.lastBaseUpdate=c))}if(s!==null){var _=i.baseState;o=0,m=f=c=null,l=s;do{var E=l.lane,R=l.eventTime;if((r&E)===E){m!==null&&(m=m.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,N=l;switch(E=e,R=n,N.tag){case 1:if(k=N.payload,typeof k=="function"){_=k.call(R,_,E);break e}_=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,E=typeof k=="function"?k.call(R,_,E):k,E==null)break e;_=Ke({},_,E);break e;case 2:Yr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[l]:E.push(l))}else R={eventTime:R,lane:E,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(f=m=R,c=_):m=m.next=R,o|=E;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;E=l,l=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(m===null&&(c=_),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ls|=o,t.lanes=o,t.memoizedState=_}}function kv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var eE=new J0.Component().refs;function zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oh={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=pi(t),s=Rr(r,i);s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&($n(e,t,i,r),zu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=pi(t),s=Rr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&($n(e,t,i,r),zu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=pi(t),i=Rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=di(t,i,r),e!==null&&($n(e,t,r,n),zu(e,t,r))}};function Pv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,s):!0}function tE(t,e,n){var r=!1,i=Ei,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=sn(e)?ss:Bt.current,r=e.contextTypes,s=(r=r!=null)?mo(t,i):Ei),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function qf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=eE,gm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=sn(e)?ss:Bt.current,i.context=mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oh.enqueueReplaceState(i,i.state,null),_c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===eE&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Eu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dv(t){var e=t._init;return e(t._payload)}function nE(t){function e(S,I){if(t){var A=S.deletions;A===null?(S.deletions=[I],S.flags|=16):A.push(I)}}function n(S,I){if(!t)return null;for(;I!==null;)e(S,I),I=I.sibling;return null}function r(S,I){for(S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function i(S,I){return S=mi(S,I),S.index=0,S.sibling=null,S}function s(S,I,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<I?(S.flags|=2,I):A):(S.flags|=2,I)):(S.flags|=1048576,I)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,I,A,b){return I===null||I.tag!==6?(I=Bd(A,S.mode,b),I.return=S,I):(I=i(I,A),I.return=S,I)}function c(S,I,A,b){var U=A.type;return U===zs?m(S,I,A.props.children,b,A.key):I!==null&&(I.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Xr&&Dv(U)===I.type)?(b=i(I,A.props),b.ref=aa(S,I,A),b.return=S,b):(b=Qu(A.type,A.key,A.props,null,S.mode,b),b.ref=aa(S,I,A),b.return=S,b)}function f(S,I,A,b){return I===null||I.tag!==4||I.stateNode.containerInfo!==A.containerInfo||I.stateNode.implementation!==A.implementation?(I=zd(A,S.mode,b),I.return=S,I):(I=i(I,A.children||[]),I.return=S,I)}function m(S,I,A,b,U){return I===null||I.tag!==7?(I=ts(A,S.mode,b,U),I.return=S,I):(I=i(I,A),I.return=S,I)}function _(S,I,A){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Bd(""+I,S.mode,A),I.return=S,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case cu:return A=Qu(I.type,I.key,I.props,null,S.mode,A),A.ref=aa(S,null,I),A.return=S,A;case Bs:return I=zd(I,S.mode,A),I.return=S,I;case Xr:var b=I._init;return _(S,b(I._payload),A)}if(ma(I)||na(I))return I=ts(I,S.mode,A,null),I.return=S,I;Eu(S,I)}return null}function E(S,I,A,b){var U=I!==null?I.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return U!==null?null:l(S,I,""+A,b);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case cu:return A.key===U?c(S,I,A,b):null;case Bs:return A.key===U?f(S,I,A,b):null;case Xr:return U=A._init,E(S,I,U(A._payload),b)}if(ma(A)||na(A))return U!==null?null:m(S,I,A,b,null);Eu(S,A)}return null}function R(S,I,A,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(A)||null,l(I,S,""+b,U);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cu:return S=S.get(b.key===null?A:b.key)||null,c(I,S,b,U);case Bs:return S=S.get(b.key===null?A:b.key)||null,f(I,S,b,U);case Xr:var K=b._init;return R(S,I,A,K(b._payload),U)}if(ma(b)||na(b))return S=S.get(A)||null,m(I,S,b,U,null);Eu(I,b)}return null}function k(S,I,A,b){for(var U=null,K=null,d=I,J=I=0,se=null;d!==null&&J<A.length;J++){d.index>J?(se=d,d=null):se=d.sibling;var we=E(S,d,A[J],b);if(we===null){d===null&&(d=se);break}t&&d&&we.alternate===null&&e(S,d),I=s(we,I,J),K===null?U=we:K.sibling=we,K=we,d=se}if(J===A.length)return n(S,d),qe&&Bi(S,J),U;if(d===null){for(;J<A.length;J++)d=_(S,A[J],b),d!==null&&(I=s(d,I,J),K===null?U=d:K.sibling=d,K=d);return qe&&Bi(S,J),U}for(d=r(S,d);J<A.length;J++)se=R(d,S,J,A[J],b),se!==null&&(t&&se.alternate!==null&&d.delete(se.key===null?J:se.key),I=s(se,I,J),K===null?U=se:K.sibling=se,K=se);return t&&d.forEach(function(an){return e(S,an)}),qe&&Bi(S,J),U}function N(S,I,A,b){var U=na(A);if(typeof U!="function")throw Error(W(150));if(A=U.call(A),A==null)throw Error(W(151));for(var K=U=null,d=I,J=I=0,se=null,we=A.next();d!==null&&!we.done;J++,we=A.next()){d.index>J?(se=d,d=null):se=d.sibling;var an=E(S,d,we.value,b);if(an===null){d===null&&(d=se);break}t&&d&&an.alternate===null&&e(S,d),I=s(an,I,J),K===null?U=an:K.sibling=an,K=an,d=se}if(we.done)return n(S,d),qe&&Bi(S,J),U;if(d===null){for(;!we.done;J++,we=A.next())we=_(S,we.value,b),we!==null&&(I=s(we,I,J),K===null?U=we:K.sibling=we,K=we);return qe&&Bi(S,J),U}for(d=r(S,d);!we.done;J++,we=A.next())we=R(d,S,J,we.value,b),we!==null&&(t&&we.alternate!==null&&d.delete(we.key===null?J:we.key),I=s(we,I,J),K===null?U=we:K.sibling=we,K=we);return t&&d.forEach(function(Oi){return e(S,Oi)}),qe&&Bi(S,J),U}function j(S,I,A,b){if(typeof A=="object"&&A!==null&&A.type===zs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case cu:e:{for(var U=A.key,K=I;K!==null;){if(K.key===U){if(U=A.type,U===zs){if(K.tag===7){n(S,K.sibling),I=i(K,A.props.children),I.return=S,S=I;break e}}else if(K.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Xr&&Dv(U)===K.type){n(S,K.sibling),I=i(K,A.props),I.ref=aa(S,K,A),I.return=S,S=I;break e}n(S,K);break}else e(S,K);K=K.sibling}A.type===zs?(I=ts(A.props.children,S.mode,b,A.key),I.return=S,S=I):(b=Qu(A.type,A.key,A.props,null,S.mode,b),b.ref=aa(S,I,A),b.return=S,S=b)}return o(S);case Bs:e:{for(K=A.key;I!==null;){if(I.key===K)if(I.tag===4&&I.stateNode.containerInfo===A.containerInfo&&I.stateNode.implementation===A.implementation){n(S,I.sibling),I=i(I,A.children||[]),I.return=S,S=I;break e}else{n(S,I);break}else e(S,I);I=I.sibling}I=zd(A,S.mode,b),I.return=S,S=I}return o(S);case Xr:return K=A._init,j(S,I,K(A._payload),b)}if(ma(A))return k(S,I,A,b);if(na(A))return N(S,I,A,b);Eu(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,I!==null&&I.tag===6?(n(S,I.sibling),I=i(I,A),I.return=S,S=I):(n(S,I),I=Bd(A,S.mode,b),I.return=S,S=I),o(S)):n(S,I)}return j}var yo=nE(!0),rE=nE(!1),Rl={},lr=Ci(Rl),Ja=Ci(Rl),Za=Ci(Rl);function Gi(t){if(t===Rl)throw Error(W(174));return t}function ym(t,e){switch(Le(Za,e),Le(Ja,t),Le(lr,Rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tf(e,t)}Be(lr),Le(lr,e)}function vo(){Be(lr),Be(Ja),Be(Za)}function iE(t){Gi(Za.current);var e=Gi(lr.current),n=Tf(e,t.type);e!==n&&(Le(Ja,t),Le(lr,n))}function vm(t){Ja.current===t&&(Be(lr),Be(Ja))}var He=Ci(0);function wc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vd=[];function _m(){for(var t=0;t<Vd.length;t++)Vd[t]._workInProgressVersionPrimary=null;Vd.length=0}var qu=Mr.ReactCurrentDispatcher,jd=Mr.ReactCurrentBatchConfig,as=0,We=null,pt=null,Et=null,Ec=!1,ka=!1,el=0,_C=0;function Ot(){throw Error(W(321))}function wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function Em(t,e,n,r,i,s){if(as=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qu.current=t===null||t.memoizedState===null?IC:SC,t=n(r,i),ka){s=0;do{if(ka=!1,el=0,25<=s)throw Error(W(301));s+=1,Et=pt=null,e.updateQueue=null,qu.current=xC,t=n(r,i)}while(ka)}if(qu.current=Tc,e=pt!==null&&pt.next!==null,as=0,Et=pt=We=null,Ec=!1,e)throw Error(W(300));return t}function Tm(){var t=el!==0;return el=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?We.memoizedState=Et=t:Et=Et.next=t,Et}function kn(){if(pt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?We.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error(W(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?We.memoizedState=Et=t:Et=Et.next=t}return Et}function tl(t,e){return typeof e=="function"?e(t):e}function Md(t){var e=kn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,f=s;do{var m=f.lane;if((as&m)===m)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(l=c=_,o=r):c=c.next=_,We.lanes|=m,ls|=m}f=f.next}while(f!==null&&f!==s);c===null?o=r:c.next=l,Bn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,We.lanes|=s,ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fd(t){var e=kn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sE(){}function oE(t,e){var n=We,r=kn(),i=e(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,Im(uE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,nl(9,lE.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(W(349));as&30||aE(n,e,i)}return i}function aE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lE(t,e,n,r){e.value=n,e.getSnapshot=r,cE(e)&&hE(t)}function uE(t,e,n){return n(function(){cE(e)&&hE(t)})}function cE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function hE(t){var e=br(t,1);e!==null&&$n(e,t,1,-1)}function bv(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:t},e.queue=t,t=t.dispatch=TC.bind(null,We,t),[e.memoizedState,t]}function nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dE(){return kn().memoizedState}function Hu(t,e,n,r){var i=er();We.flags|=t,i.memoizedState=nl(1|e,n,void 0,r===void 0?null:r)}function ah(t,e,n,r){var i=kn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&wm(r,o.deps)){i.memoizedState=nl(e,n,s,r);return}}We.flags|=t,i.memoizedState=nl(1|e,n,s,r)}function Ov(t,e){return Hu(8390656,8,t,e)}function Im(t,e){return ah(2048,8,t,e)}function fE(t,e){return ah(4,2,t,e)}function pE(t,e){return ah(4,4,t,e)}function mE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gE(t,e,n){return n=n!=null?n.concat([t]):null,ah(4,4,mE.bind(null,e,t),n)}function Sm(){}function yE(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vE(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _E(t,e,n){return as&21?(Bn(n,e)||(n=Tw(),We.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function wC(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=jd.transition;jd.transition={};try{t(!1),e()}finally{be=n,jd.transition=r}}function wE(){return kn().memoizedState}function EC(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EE(t))TE(e,n);else if(n=Jw(t,e,n,r),n!==null){var i=Qt();$n(n,t,r,i),IE(n,e,r)}}function TC(t,e,n){var r=pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EE(t))TE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Bn(l,o)){var c=e.interleaved;c===null?(i.next=i,mm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Jw(t,e,i,r),n!==null&&(i=Qt(),$n(n,t,r,i),IE(n,e,r))}}function EE(t){var e=t.alternate;return t===We||e!==null&&e===We}function TE(t,e){ka=Ec=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tm(t,n)}}var Tc={readContext:Rn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},IC={readContext:Rn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:Ov,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4194308,4,mE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hu(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EC.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:bv,useDebugValue:Sm,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=bv(!1),e=t[0];return t=wC.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=er();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Tt===null)throw Error(W(349));as&30||aE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ov(uE.bind(null,r,s,t),[t]),r.flags|=2048,nl(9,lE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=Tt.identifierPrefix;if(qe){var n=Sr,r=Ir;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=el++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_C++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SC={readContext:Rn,useCallback:yE,useContext:Rn,useEffect:Im,useImperativeHandle:gE,useInsertionEffect:fE,useLayoutEffect:pE,useMemo:vE,useReducer:Md,useRef:dE,useState:function(){return Md(tl)},useDebugValue:Sm,useDeferredValue:function(t){var e=kn();return _E(e,pt.memoizedState,t)},useTransition:function(){var t=Md(tl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:sE,useSyncExternalStore:oE,useId:wE,unstable_isNewReconciler:!1},xC={readContext:Rn,useCallback:yE,useContext:Rn,useEffect:Im,useImperativeHandle:gE,useInsertionEffect:fE,useLayoutEffect:pE,useMemo:vE,useReducer:Fd,useRef:dE,useState:function(){return Fd(tl)},useDebugValue:Sm,useDeferredValue:function(t){var e=kn();return pt===null?e.memoizedState=t:_E(e,pt.memoizedState,t)},useTransition:function(){var t=Fd(tl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:sE,useSyncExternalStore:oE,useId:wE,unstable_isNewReconciler:!1};function _o(t,e){try{var n="",r=e;do n+=Zx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ud(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AC=typeof WeakMap=="function"?WeakMap:Map;function SE(t,e,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sc||(Sc=!0,tp=r),Hf(t,e)},n}function xE(t,e,n){n=Rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hf(t,e),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UC.bind(null,t,e,n),e.then(t,t))}function Vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rr(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var CC=Mr.ReactCurrentOwner,nn=!1;function Kt(t,e,n,r){e.child=t===null?rE(e,null,n,r):yo(e,t.child,n,r)}function Mv(t,e,n,r,i){n=n.render;var s=e.ref;return so(e,i),r=Em(t,e,n,r,s,i),n=Tm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(qe&&n&&um(e),e.flags|=1,Kt(t,e,r,i),e.child)}function Fv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Dm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AE(t,e,s,r,i)):(t=Qu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return Or(t,e,i)}return e.flags|=1,t=mi(s,r),t.ref=e.ref,t.return=e,e.child=t}function AE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ga(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Or(t,e,i)}return Wf(t,e,n,r,i)}function CE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Zs,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Zs,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(Zs,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(Zs,cn),cn|=r;return Kt(t,e,i,n),e.child}function RE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wf(t,e,n,r,i){var s=sn(n)?ss:Bt.current;return s=mo(e,s),so(e,i),n=Em(t,e,n,r,s,i),r=Tm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(qe&&r&&um(e),e.flags|=1,Kt(t,e,n,i),e.child)}function Uv(t,e,n,r,i){if(sn(n)){var s=!0;pc(e)}else s=!1;if(so(e,i),e.stateNode===null)Wu(t,e),tE(e,n,r),qf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Rn(f):(f=sn(n)?ss:Bt.current,f=mo(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==f)&&Nv(e,o,r,f),Yr=!1;var E=e.memoizedState;o.state=E,_c(e,r,o,i),c=e.memoizedState,l!==r||E!==c||rn.current||Yr?(typeof m=="function"&&(zf(e,n,m,r),c=e.memoizedState),(l=Yr||Pv(e,n,l,r,E,c,f))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=f,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zw(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:Vn(e.type,l),o.props=f,_=e.pendingProps,E=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rn(c):(c=sn(n)?ss:Bt.current,c=mo(e,c));var R=n.getDerivedStateFromProps;(m=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==_||E!==c)&&Nv(e,o,r,c),Yr=!1,E=e.memoizedState,o.state=E,_c(e,r,o,i);var k=e.memoizedState;l!==_||E!==k||rn.current||Yr?(typeof R=="function"&&(zf(e,n,R,r),k=e.memoizedState),(f=Yr||Pv(e,n,f,r,E,k,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=c,r=f):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return Kf(t,e,n,r,s,i)}function Kf(t,e,n,r,i,s){RE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xv(e,n,!1),Or(t,e,s);r=e.stateNode,CC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yo(e,t.child,null,s),e.child=yo(e,null,l,s)):Kt(t,e,l,s),e.memoizedState=r.state,i&&xv(e,n,!0),e.child}function kE(t){var e=t.stateNode;e.pendingContext?Sv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sv(t,e.context,!1),ym(t,e.containerInfo)}function $v(t,e,n,r,i){return go(),hm(i),e.flags|=256,Kt(t,e,n,r),e.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Qf(t){return{baseLanes:t,cachePool:null,transitions:null}}function PE(t,e,n){var r=e.pendingProps,i=He.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(He,i&1),t===null)return $f(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ch(o,r,0,null),t=ts(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qf(n),e.memoizedState=Gf,t):xm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return RC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=mi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=mi(l,s):(s=ts(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Gf,r}return s=t.child,t=s.sibling,r=mi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xm(t,e){return e=ch({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&hm(r),yo(e,t.child,null,n),t=xm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ud(Error(W(422))),Tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ch({mode:"visible",children:r.children},i,0,null),s=ts(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&yo(e,t.child,null,o),e.child.memoizedState=Qf(o),e.memoizedState=Gf,s);if(!(e.mode&1))return Tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=Ud(s,r,void 0),Tu(t,e,o,r)}if(l=(o&t.childLanes)!==0,nn||l){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,br(t,i),$n(r,t,i,-1))}return Nm(),r=Ud(Error(W(421))),Tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$C.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=hi(i.nextSibling),pn=e,qe=!0,Mn=null,t!==null&&(En[Tn++]=Ir,En[Tn++]=Sr,En[Tn++]=os,Ir=t.id,Sr=t.overflow,os=e),e=xm(e,r.children),e.flags|=4096,e)}function Bv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bf(t.return,e,n)}function $d(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bv(t,n,e);else if(t.tag===19)Bv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$d(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$d(e,!0,n,null,s);break;case"together":$d(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kC(t,e,n){switch(e.tag){case 3:kE(e),go();break;case 5:iE(e);break;case 1:sn(e.type)&&pc(e);break;case 4:ym(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(yc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?PE(t,e,n):(Le(He,He.current&1),t=Or(t,e,n),t!==null?t.sibling:null);Le(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,CE(t,e,n)}return Or(t,e,n)}var DE,Xf,bE,OE;DE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xf=function(){};bE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gi(lr.current);var s=null;switch(n){case"input":i=vf(t,i),r=vf(t,r),s=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":i=Ef(t,i),r=Ef(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dc)}If(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&($a.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&($a.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Fe("scroll",t),s||l===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};OE=function(t,e,n,r){n!==r&&(e.flags|=4)};function la(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PC(t,e,n){var r=e.pendingProps;switch(cm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return sn(e.type)&&fc(),Lt(e),null;case 3:return r=e.stateNode,vo(),Be(rn),Be(Bt),_m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(ip(Mn),Mn=null))),Xf(t,e),Lt(e),null;case 5:vm(e);var i=Gi(Za.current);if(n=e.type,t!==null&&e.stateNode!=null)bE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Lt(e),null}if(t=Gi(lr.current),wu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[Ya]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<ya.length;i++)Fe(ya[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Yy(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":Zy(r,s),Fe("invalid",r)}If(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,l,t),i=["children",""+l]):$a.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":hu(r),Jy(r,s,!0);break;case"textarea":hu(r),ev(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[Ya]=r,DE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sf(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ya.length;i++)Fe(ya[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":Yy(t,r),i=vf(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Zy(t,r),i=Ef(t,r),Fe("invalid",t);break;default:i=r}If(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?cw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ba(t,c):typeof c=="number"&&Ba(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($a.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fe("scroll",t):c!=null&&Qp(t,s,c,o))}switch(n){case"input":hu(t),Jy(t,r,!1);break;case"textarea":hu(t),ev(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?to(t,!!r.multiple,s,!1):r.defaultValue!=null&&to(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)OE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Gi(Za.current),Gi(lr.current),wu(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Lt(e),null;case 13:if(Be(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&dn!==null&&e.mode&1&&!(e.flags&128))Yw(),go(),e.flags|=98560,s=!1;else if(s=wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[tr]=e}else go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Mn!==null&&(ip(Mn),Mn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?mt===0&&(mt=3):Nm())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return vo(),Xf(t,e),t===null&&Qa(e.stateNode.containerInfo),Lt(e),null;case 10:return pm(e.type._context),Lt(e),null;case 17:return sn(e.type)&&fc(),Lt(e),null;case 19:if(Be(He),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)la(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wc(t),o!==null){for(e.flags|=128,la(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>wo&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304)}else{if(!r)if(t=wc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Lt(e),null}else 2*it()-s.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=He.current,Le(He,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function NC(t,e){switch(cm(e),e.tag){case 1:return sn(e.type)&&fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vo(),Be(rn),Be(Bt),_m(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vm(e),null;case 13:if(Be(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(He),null;case 4:return vo(),null;case 10:return pm(e.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var Iu=!1,Mt=!1,DC=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function Yf(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var zv=!1;function bC(t,e){if(Of=uc,t=Mw(),lm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,f=0,m=0,_=t,E=null;t:for(;;){for(var R;_!==n||i!==0&&_.nodeType!==3||(l=o+i),_!==s||r!==0&&_.nodeType!==3||(c=o+r),_.nodeType===3&&(o+=_.nodeValue.length),(R=_.firstChild)!==null;)E=_,_=R;for(;;){if(_===t)break t;if(E===n&&++f===i&&(l=o),E===s&&++m===r&&(c=o),(R=_.nextSibling)!==null)break;_=E,E=_.parentNode}_=R}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lf={focusedElem:t,selectionRange:n},uc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,j=k.memoizedState,S=e.stateNode,I=S.getSnapshotBeforeUpdate(e.elementType===e.type?N:Vn(e.type,N),j);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){Xe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return k=zv,zv=!1,k}function Pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yf(e,n,s)}i=i.next}while(i!==r)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LE(t){var e=t.alternate;e!==null&&(t.alternate=null,LE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[Ya],delete e[Mf],delete e[mC],delete e[gC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VE(t){return t.tag===5||t.tag===3||t.tag===4}function qv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dc));else if(r!==4&&(t=t.child,t!==null))for(Zf(t,e,n),t=t.sibling;t!==null;)Zf(t,e,n),t=t.sibling}function ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}var xt=null,jn=!1;function Hr(t,e,n){for(n=n.child;n!==null;)jE(t,e,n),n=n.sibling}function jE(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(eh,n)}catch{}switch(n.tag){case 5:Mt||Js(n,e);case 6:var r=xt,i=jn;xt=null,Hr(t,e,n),xt=r,jn=i,xt!==null&&(jn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(jn?(t=xt,n=n.stateNode,t.nodeType===8?Od(t.parentNode,n):t.nodeType===1&&Od(t,n),Wa(t)):Od(xt,n.stateNode));break;case 4:r=xt,i=jn,xt=n.stateNode.containerInfo,jn=!0,Hr(t,e,n),xt=r,jn=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yf(n,e,o),i=i.next}while(i!==r)}Hr(t,e,n);break;case 1:if(!Mt&&(Js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xe(n,e,l)}Hr(t,e,n);break;case 21:Hr(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Hr(t,e,n),Mt=r):Hr(t,e,n);break;default:Hr(t,e,n)}}function Hv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DC),e.forEach(function(r){var i=BC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,jn=!1;break e;case 3:xt=l.stateNode.containerInfo,jn=!0;break e;case 4:xt=l.stateNode.containerInfo,jn=!0;break e}l=l.return}if(xt===null)throw Error(W(160));jE(s,o,i),xt=null,jn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){Xe(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ME(e,t),e=e.sibling}function ME(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Jn(t),r&4){try{Pa(3,t,t.return),lh(3,t)}catch(N){Xe(t,t.return,N)}try{Pa(5,t,t.return)}catch(N){Xe(t,t.return,N)}}break;case 1:Ln(e,t),Jn(t),r&512&&n!==null&&Js(n,n.return);break;case 5:if(Ln(e,t),Jn(t),r&512&&n!==null&&Js(n,n.return),t.flags&32){var i=t.stateNode;try{Ba(i,"")}catch(N){Xe(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&sw(i,s),Sf(l,o);var f=Sf(l,s);for(o=0;o<c.length;o+=2){var m=c[o],_=c[o+1];m==="style"?cw(i,_):m==="dangerouslySetInnerHTML"?lw(i,_):m==="children"?Ba(i,_):Qp(i,m,_,f)}switch(l){case"input":_f(i,s);break;case"textarea":ow(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var R=s.value;R!=null?to(i,!!s.multiple,R,!1):E!==!!s.multiple&&(s.defaultValue!=null?to(i,!!s.multiple,s.defaultValue,!0):to(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ya]=s}catch(N){Xe(t,t.return,N)}}break;case 6:if(Ln(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Xe(t,t.return,N)}}break;case 3:if(Ln(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(e.containerInfo)}catch(N){Xe(t,t.return,N)}break;case 4:Ln(e,t),Jn(t);break;case 13:Ln(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rm=it())),r&4&&Hv(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(f=Mt)||m,Ln(e,t),Mt=f):Ln(e,t),Jn(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(ne=t,m=t.child;m!==null;){for(_=ne=m;ne!==null;){switch(E=ne,R=E.child,E.tag){case 0:case 11:case 14:case 15:Pa(4,E,E.return);break;case 1:Js(E,E.return);var k=E.stateNode;if(typeof k.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(N){Xe(r,n,N)}}break;case 5:Js(E,E.return);break;case 22:if(E.memoizedState!==null){Kv(_);continue}}R!==null?(R.return=E,ne=R):Kv(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{i=_.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=_.stateNode,c=_.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uw("display",o))}catch(N){Xe(t,t.return,N)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(N){Xe(t,t.return,N)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Ln(e,t),Jn(t),r&4&&Hv(t);break;case 21:break;default:Ln(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VE(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ba(i,""),r.flags&=-33);var s=qv(t);ep(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=qv(t);Zf(t,l,o);break;default:throw Error(W(161))}}catch(c){Xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OC(t,e,n){ne=t,FE(t)}function FE(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Iu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Mt;l=Iu;var f=Mt;if(Iu=o,(Mt=c)&&!f)for(ne=i;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?Gv(i):c!==null?(c.return=o,ne=c):Gv(i);for(;s!==null;)ne=s,FE(s),s=s.sibling;ne=i,Iu=l,Mt=f}Wv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Wv(t)}}function Wv(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&Wa(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Mt||e.flags&512&&Jf(e)}catch(E){Xe(e,e.return,E)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Kv(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Gv(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lh(4,e)}catch(c){Xe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Xe(e,i,c)}}var s=e.return;try{Jf(e)}catch(c){Xe(e,s,c)}break;case 5:var o=e.return;try{Jf(e)}catch(c){Xe(e,o,c)}}}catch(c){Xe(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var LC=Math.ceil,Ic=Mr.ReactCurrentDispatcher,Am=Mr.ReactCurrentOwner,An=Mr.ReactCurrentBatchConfig,Pe=0,Tt=null,lt=null,kt=0,cn=0,Zs=Ci(0),mt=0,rl=null,ls=0,uh=0,Cm=0,Na=null,tn=null,Rm=0,wo=1/0,Er=null,Sc=!1,tp=null,fi=null,Su=!1,si=null,xc=0,Da=0,np=null,Ku=-1,Gu=0;function Qt(){return Pe&6?it():Ku!==-1?Ku:Ku=it()}function pi(t){return t.mode&1?Pe&2&&kt!==0?kt&-kt:vC.transition!==null?(Gu===0&&(Gu=Tw()),Gu):(t=be,t!==0||(t=window.event,t=t===void 0?16:kw(t.type)),t):1}function $n(t,e,n,r){if(50<Da)throw Da=0,np=null,Error(W(185));xl(t,n,r),(!(Pe&2)||t!==Tt)&&(t===Tt&&(!(Pe&2)&&(uh|=n),mt===4&&Zr(t,kt)),on(t,r),n===1&&Pe===0&&!(e.mode&1)&&(wo=it()+500,sh&&Ri()))}function on(t,e){var n=t.callbackNode;vA(t,e);var r=lc(t,t===Tt?kt:0);if(r===0)n!==null&&rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rv(n),e===1)t.tag===0?yC(Qv.bind(null,t)):Gw(Qv.bind(null,t)),fC(function(){!(Pe&6)&&Ri()}),n=null;else{switch(Iw(r)){case 1:n=em;break;case 4:n=ww;break;case 16:n=ac;break;case 536870912:n=Ew;break;default:n=ac}n=KE(n,UE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UE(t,e){if(Ku=-1,Gu=0,Pe&6)throw Error(W(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=lc(t,t===Tt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ac(t,r);else{e=r;var i=Pe;Pe|=2;var s=BE();(Tt!==t||kt!==e)&&(Er=null,wo=it()+500,es(t,e));do try{MC();break}catch(l){$E(t,l)}while(!0);fm(),Ic.current=s,Pe=i,lt!==null?e=0:(Tt=null,kt=0,e=mt)}if(e!==0){if(e===2&&(i=kf(t),i!==0&&(r=i,e=rp(t,i))),e===1)throw n=rl,es(t,0),Zr(t,r),on(t,it()),n;if(e===6)Zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!VC(i)&&(e=Ac(t,r),e===2&&(s=kf(t),s!==0&&(r=s,e=rp(t,s))),e===1))throw n=rl,es(t,0),Zr(t,r),on(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:zi(t,tn,Er);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=Rm+500-it(),10<e)){if(lc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jf(zi.bind(null,t,tn,Er),e);break}zi(t,tn,Er);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LC(r/1960))-r,10<r){t.timeoutHandle=jf(zi.bind(null,t,tn,Er),r);break}zi(t,tn,Er);break;case 5:zi(t,tn,Er);break;default:throw Error(W(329))}}}return on(t,it()),t.callbackNode===n?UE.bind(null,t):null}function rp(t,e){var n=Na;return t.current.memoizedState.isDehydrated&&(es(t,e).flags|=256),t=Ac(t,e),t!==2&&(e=tn,tn=n,e!==null&&ip(e)),t}function ip(t){tn===null?tn=t:tn.push.apply(tn,t)}function VC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~Cm,e&=~uh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function Qv(t){if(Pe&6)throw Error(W(327));oo();var e=lc(t,0);if(!(e&1))return on(t,it()),null;var n=Ac(t,e);if(t.tag!==0&&n===2){var r=kf(t);r!==0&&(e=r,n=rp(t,r))}if(n===1)throw n=rl,es(t,0),Zr(t,e),on(t,it()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,tn,Er),on(t,it()),null}function km(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(wo=it()+500,sh&&Ri())}}function us(t){si!==null&&si.tag===0&&!(Pe&6)&&oo();var e=Pe;Pe|=1;var n=An.transition,r=be;try{if(An.transition=null,be=1,t)return t()}finally{be=r,An.transition=n,Pe=e,!(Pe&6)&&Ri()}}function Pm(){cn=Zs.current,Be(Zs)}function es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dC(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(cm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fc();break;case 3:vo(),Be(rn),Be(Bt),_m();break;case 5:vm(r);break;case 4:vo();break;case 13:Be(He);break;case 19:Be(He);break;case 10:pm(r.type._context);break;case 22:case 23:Pm()}n=n.return}if(Tt=t,lt=t=mi(t.current,null),kt=cn=e,mt=0,rl=null,Cm=uh=ls=0,tn=Na=null,Ki!==null){for(e=0;e<Ki.length;e++)if(n=Ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ki=null}return t}function $E(t,e){do{var n=lt;try{if(fm(),qu.current=Tc,Ec){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ec=!1}if(as=0,Et=pt=We=null,ka=!1,el=0,Am.current=null,n===null||n.return===null){mt=1,rl=e,lt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,m=l,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var E=m.alternate;E?(m.updateQueue=E.updateQueue,m.memoizedState=E.memoizedState,m.lanes=E.lanes):(m.updateQueue=null,m.memoizedState=null)}var R=Vv(o);if(R!==null){R.flags&=-257,jv(R,o,l,s,e),R.mode&1&&Lv(s,f,e),e=R,c=f;var k=e.updateQueue;if(k===null){var N=new Set;N.add(c),e.updateQueue=N}else k.add(c);break e}else{if(!(e&1)){Lv(s,f,e),Nm();break e}c=Error(W(426))}}else if(qe&&l.mode&1){var j=Vv(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),jv(j,o,l,s,e),hm(_o(c,l));break e}}s=c=_o(c,l),mt!==4&&(mt=2),Na===null?Na=[s]:Na.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=SE(s,c,e);Rv(s,S);break e;case 1:l=c;var I=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(fi===null||!fi.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=xE(s,l,e);Rv(s,b);break e}}s=s.return}while(s!==null)}qE(n)}catch(U){e=U,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function BE(){var t=Ic.current;return Ic.current=Tc,t===null?Tc:t}function Nm(){(mt===0||mt===3||mt===2)&&(mt=4),Tt===null||!(ls&268435455)&&!(uh&268435455)||Zr(Tt,kt)}function Ac(t,e){var n=Pe;Pe|=2;var r=BE();(Tt!==t||kt!==e)&&(Er=null,es(t,e));do try{jC();break}catch(i){$E(t,i)}while(!0);if(fm(),Pe=n,Ic.current=r,lt!==null)throw Error(W(261));return Tt=null,kt=0,mt}function jC(){for(;lt!==null;)zE(lt)}function MC(){for(;lt!==null&&!uA();)zE(lt)}function zE(t){var e=WE(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?qE(t):lt=e,Am.current=null}function qE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NC(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,lt=null;return}}else if(n=PC(n,e,cn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);mt===0&&(mt=5)}function zi(t,e,n){var r=be,i=An.transition;try{An.transition=null,be=1,FC(t,e,n,r)}finally{An.transition=i,be=r}return null}function FC(t,e,n,r){do oo();while(si!==null);if(Pe&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_A(t,s),t===Tt&&(lt=Tt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,KE(ac,function(){return oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=be;be=1;var l=Pe;Pe|=4,Am.current=null,bC(t,n),ME(n,t),sC(Lf),uc=!!Of,Lf=Of=null,t.current=n,OC(n),cA(),Pe=l,be=o,An.transition=s}else t.current=n;if(Su&&(Su=!1,si=t,xc=i),s=t.pendingLanes,s===0&&(fi=null),fA(n.stateNode),on(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sc)throw Sc=!1,t=tp,tp=null,t;return xc&1&&t.tag!==0&&oo(),s=t.pendingLanes,s&1?t===np?Da++:(Da=0,np=t):Da=0,Ri(),null}function oo(){if(si!==null){var t=Iw(xc),e=An.transition,n=be;try{if(An.transition=null,be=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,xc=0,Pe&6)throw Error(W(331));var i=Pe;for(Pe|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var f=l[c];for(ne=f;ne!==null;){var m=ne;switch(m.tag){case 0:case 11:case 15:Pa(8,m,s)}var _=m.child;if(_!==null)_.return=m,ne=_;else for(;ne!==null;){m=ne;var E=m.sibling,R=m.return;if(LE(m),m===f){ne=null;break}if(E!==null){E.return=R,ne=E;break}ne=R}}}var k=s.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pa(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ne=S;break e}ne=s.return}}var I=t.current;for(ne=I;ne!==null;){o=ne;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,ne=A;else e:for(o=I;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lh(9,l)}}catch(U){Xe(l,l.return,U)}if(l===o){ne=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ne=b;break e}ne=l.return}}if(Pe=i,Ri(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(eh,t)}catch{}r=!0}return r}finally{be=n,An.transition=e}}return!1}function Xv(t,e,n){e=_o(n,e),e=SE(t,e,1),t=di(t,e,1),e=Qt(),t!==null&&(xl(t,1,e),on(t,e))}function Xe(t,e,n){if(t.tag===3)Xv(t,t,n);else for(;e!==null;){if(e.tag===3){Xv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){t=_o(n,t),t=xE(e,t,1),e=di(e,t,1),t=Qt(),e!==null&&(xl(e,1,t),on(e,t));break}}e=e.return}}function UC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(kt&n)===n&&(mt===4||mt===3&&(kt&130023424)===kt&&500>it()-Rm?es(t,0):Cm|=n),on(t,e)}function HE(t,e){e===0&&(t.mode&1?(e=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):e=1);var n=Qt();t=br(t,e),t!==null&&(xl(t,e,n),on(t,n))}function $C(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HE(t,n)}function BC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),HE(t,n)}var WE;WE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,kC(t,e,n);nn=!!(t.flags&131072)}else nn=!1,qe&&e.flags&1048576&&Qw(e,gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wu(t,e),t=e.pendingProps;var i=mo(e,Bt.current);so(e,n),i=Em(null,e,r,t,i,n);var s=Tm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,pc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gm(e),i.updater=oh,e.stateNode=i,i._reactInternals=e,qf(e,r,t,n),e=Kf(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&um(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qC(r),t=Vn(r,t),i){case 0:e=Wf(null,e,r,t,n);break e;case 1:e=Uv(null,e,r,t,n);break e;case 11:e=Mv(null,e,r,t,n);break e;case 14:e=Fv(null,e,r,Vn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Wf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Uv(t,e,r,i,n);case 3:e:{if(kE(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zw(t,e),_c(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_o(Error(W(423)),e),e=$v(t,e,r,n,i);break e}else if(r!==i){i=_o(Error(W(424)),e),e=$v(t,e,r,n,i);break e}else for(dn=hi(e.stateNode.containerInfo.firstChild),pn=e,qe=!0,Mn=null,n=rE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===i){e=Or(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return iE(e),t===null&&$f(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vf(r,i)?o=null:s!==null&&Vf(r,s)&&(e.flags|=32),RE(t,e),Kt(t,e,o,n),e.child;case 6:return t===null&&$f(e),null;case 13:return PE(t,e,n);case 4:return ym(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yo(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Mv(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(yc,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!rn.current){e=Or(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Rr(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?c.next=c:(c.next=m.next,m.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Bf(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,so(e,n),i=Rn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),Fv(t,e,r,i,n);case 15:return AE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Wu(t,e),e.tag=1,sn(r)?(t=!0,pc(e)):t=!1,so(e,n),tE(e,r,i),qf(e,r,i,n),Kf(null,e,r,!0,t,n);case 19:return NE(t,e,n);case 22:return CE(t,e,n)}throw Error(W(156,e.tag))};function KE(t,e){return _w(t,e)}function zC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new zC(t,e,n,r)}function Dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qC(t){if(typeof t=="function")return Dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yp)return 11;if(t===Jp)return 14}return 2}function mi(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return ts(n.children,i,s,e);case Xp:o=8,i|=8;break;case pf:return t=xn(12,n,e,i|2),t.elementType=pf,t.lanes=s,t;case mf:return t=xn(13,n,e,i),t.elementType=mf,t.lanes=s,t;case gf:return t=xn(19,n,e,i),t.elementType=gf,t.lanes=s,t;case nw:return ch(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ew:o=10;break e;case tw:o=9;break e;case Yp:o=11;break e;case Jp:o=14;break e;case Xr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ts(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function ch(t,e,n,r){return t=xn(22,t,r,e),t.elementType=nw,t.lanes=n,t.stateNode={isHidden:!1},t}function Bd(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function zd(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Id(0),this.expirationTimes=Id(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Id(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bm(t,e,n,r,i,s,o,l,c){return t=new HC(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gm(s),t}function WC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GE(t){if(!t)return Ei;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(sn(n))return Kw(t,n,e)}return e}function QE(t,e,n,r,i,s,o,l,c){return t=bm(n,r,!0,t,i,s,o,l,c),t.context=GE(null),n=t.current,r=Qt(),i=pi(n),s=Rr(r,i),s.callback=e??null,di(n,s,i),t.current.lanes=i,xl(t,i,r),on(t,r),t}function hh(t,e,n,r){var i=e.current,s=Qt(),o=pi(i);return n=GE(n),e.context===null?e.context=n:e.pendingContext=n,e=Rr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(i,e,o),t!==null&&($n(t,i,o,s),zu(t,i,o)),o}function Cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Om(t,e){Yv(t,e),(t=t.alternate)&&Yv(t,e)}function KC(){return null}var XE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lm(t){this._internalRoot=t}dh.prototype.render=Lm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));hh(t,e,null,null)};dh.prototype.unmount=Lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){hh(null,t,null,null)}),e[Dr]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Aw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&Rw(t)}};function Vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function GC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Cc(o);s.call(f)}}var o=QE(e,r,t,0,null,!1,!1,"",Jv);return t._reactRootContainer=o,t[Dr]=o.current,Qa(t.nodeType===8?t.parentNode:t),us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Cc(c);l.call(f)}}var c=bm(t,0,!1,null,null,!1,!1,"",Jv);return t._reactRootContainer=c,t[Dr]=c.current,Qa(t.nodeType===8?t.parentNode:t),us(function(){hh(e,c,n,r)}),c}function ph(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Cc(o);l.call(c)}}hh(e,o,t,i)}else o=GC(n,e,t,i,r);return Cc(o)}Sw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ga(e.pendingLanes);n!==0&&(tm(e,n|1),on(e,it()),!(Pe&6)&&(wo=it()+500,Ri()))}break;case 13:us(function(){var r=br(t,1);if(r!==null){var i=Qt();$n(r,t,1,i)}}),Om(t,1)}};nm=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=Qt();$n(e,t,134217728,n)}Om(t,134217728)}};xw=function(t){if(t.tag===13){var e=pi(t),n=br(t,e);if(n!==null){var r=Qt();$n(n,t,e,r)}Om(t,e)}};Aw=function(){return be};Cw=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Af=function(t,e,n){switch(e){case"input":if(_f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ih(r);if(!i)throw Error(W(90));iw(r),_f(r,i)}}}break;case"textarea":ow(t,n);break;case"select":e=n.value,e!=null&&to(t,!!n.multiple,e,!1)}};fw=km;pw=us;var QC={usingClientEntryPoint:!1,Events:[Cl,Ks,ih,hw,dw,km]},ua={findFiberByHostInstance:Wi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XC={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yw(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||KC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{eh=xu.inject(XC),ar=xu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(e))throw Error(W(200));return WC(t,e,null,n)};yn.createRoot=function(t,e){if(!Vm(t))throw Error(W(299));var n=!1,r="",i=XE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bm(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,Qa(t.nodeType===8?t.parentNode:t),new Lm(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=yw(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return us(t)};yn.hydrate=function(t,e,n){if(!fh(e))throw Error(W(200));return ph(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!Vm(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QE(e,null,t,1,n??null,i,!1,s,o),t[Dr]=e.current,Qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dh(e)};yn.render=function(t,e,n){if(!fh(e))throw Error(W(200));return ph(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!fh(t))throw Error(W(40));return t._reactRootContainer?(us(function(){ph(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};yn.unstable_batchedUpdates=km;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return ph(t,e,n,!1,r)};yn.version="18.2.0-next-9e3b772b8-20220608";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(t){console.error(t)}}YE(),Q0.exports=yn;var YC=Q0.exports,JE,Zv=YC;JE=Zv.createRoot,Zv.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const e_="popstate";function JC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return sp("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rc(i)}return eR(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZC(){return Math.random().toString(36).substr(2,8)}function t_(t,e){return{usr:t.state,key:t.key,idx:e}}function sp(t,e,n,r){return n===void 0&&(n=null),il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:n,key:e&&e.key||r||ZC()})}function Rc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=oi.Pop,c=null,f=m();f==null&&(f=0,o.replaceState(il({},o.state,{idx:f}),""));function m(){return(o.state||{idx:null}).idx}function _(){l=oi.Pop;let j=m(),S=j==null?null:j-f;f=j,c&&c({action:l,location:N.location,delta:S})}function E(j,S){l=oi.Push;let I=sp(N.location,j,S);n&&n(I,j),f=m()+1;let A=t_(I,f),b=N.createHref(I);try{o.pushState(A,"",b)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(b)}s&&c&&c({action:l,location:N.location,delta:1})}function R(j,S){l=oi.Replace;let I=sp(N.location,j,S);n&&n(I,j),f=m();let A=t_(I,f),b=N.createHref(I);o.replaceState(A,"",b),s&&c&&c({action:l,location:N.location,delta:0})}function k(j){let S=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof j=="string"?j:Rc(j);return I=I.replace(/ $/,"%20"),ct(S,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,S)}let N={get action(){return l},get location(){return t(i,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(e_,_),c=j,()=>{i.removeEventListener(e_,_),c=null}},createHref(j){return e(i,j)},createURL:k,encodeLocation(j){let S=k(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:E,replace:R,go(j){return o.go(j)}};return N}var n_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(n_||(n_={}));function tR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?bo(e):e,i=jm(r.pathname||"/",n);if(i==null)return null;let s=eT(t);nR(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=pR(i);o=hR(s[l],c)}return o}function eT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=gi([r,c.relativePath]),m=n.concat(c);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),eT(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:uR(f,s.index),routesMeta:m})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of tT(s.path))i(s,o,c)}),e}function tT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tT(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function nR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rR=/^:[\w-]+$/,iR=3,sR=2,oR=1,aR=10,lR=-2,r_=t=>t==="*";function uR(t,e){let n=t.split("/"),r=n.length;return n.some(r_)&&(r+=lR),e&&(r+=sR),n.filter(i=>!r_(i)).reduce((i,s)=>i+(rR.test(s)?iR:s===""?oR:aR),r)}function cR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hR(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=dR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f);if(!m)return null;Object.assign(r,m.params);let _=l.route;s.push({params:r,pathname:gi([i,m.pathname]),pathnameBase:vR(gi([i,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(i=gi([i,m.pathnameBase]))}return s}function dR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,m,_)=>{let{paramName:E,isOptional:R}=m;if(E==="*"){let N=l[_]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const k=l[_];return R&&!k?f[E]=void 0:f[E]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:t}}function fR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:n?n.startsWith("/")?n:gR(n,e):e,search:_R(r),hash:wR(i)}}function gR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nT(t,e){let n=yR(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bo(t):(i=il({},t),ct(!i.pathname||!i.pathname.includes("?"),qd("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),qd("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),qd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let _=e.length-1;if(!r&&o.startsWith("..")){let E=o.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}l=_>=0?e[_]:"/"}let c=mR(i,l),f=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||m)&&(c.pathname+="/"),c}const gi=t=>t.join("/").replace(/\/\/+/g,"/"),vR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_R=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ER(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iT=["post","put","patch","delete"];new Set(iT);const TR=["get",...iT];new Set(TR);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}const Mm=H.createContext(null),IR=H.createContext(null),ws=H.createContext(null),mh=H.createContext(null),Es=H.createContext({outlet:null,matches:[],isDataRoute:!1}),sT=H.createContext(null);function SR(t,e){let{relative:n}=e===void 0?{}:e;kl()||ct(!1);let{basename:r,navigator:i}=H.useContext(ws),{hash:s,pathname:o,search:l}=lT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:gi([r,o])),i.createHref({pathname:c,search:l,hash:s})}function kl(){return H.useContext(mh)!=null}function Oo(){return kl()||ct(!1),H.useContext(mh).location}function oT(t){H.useContext(ws).static||H.useLayoutEffect(t)}function aT(){let{isDataRoute:t}=H.useContext(Es);return t?jR():xR()}function xR(){kl()||ct(!1);let t=H.useContext(Mm),{basename:e,future:n,navigator:r}=H.useContext(ws),{matches:i}=H.useContext(Es),{pathname:s}=Oo(),o=JSON.stringify(nT(i,n.v7_relativeSplatPath)),l=H.useRef(!1);return oT(()=>{l.current=!0}),H.useCallback(function(f,m){if(m===void 0&&(m={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let _=rT(f,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:gi([e,_.pathname])),(m.replace?r.replace:r.push)(_,m.state,m)},[e,r,o,s,t])}function lT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=H.useContext(ws),{matches:i}=H.useContext(Es),{pathname:s}=Oo(),o=JSON.stringify(nT(i,r.v7_relativeSplatPath));return H.useMemo(()=>rT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function AR(t,e){return CR(t,e)}function CR(t,e,n,r){kl()||ct(!1);let{navigator:i}=H.useContext(ws),{matches:s}=H.useContext(Es),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let f=Oo(),m;if(e){var _;let j=typeof e=="string"?bo(e):e;c==="/"||(_=j.pathname)!=null&&_.startsWith(c)||ct(!1),m=j}else m=f;let E=m.pathname||"/",R=E;if(c!=="/"){let j=c.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=tR(t,{pathname:R}),N=DR(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:gi([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:gi([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,n,r);return e&&N?H.createElement(mh.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:oi.Pop}},N):N}function RR(){let t=VR(),e=ER(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:i},n):null,null)}const kR=H.createElement(RR,null);class PR extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(Es.Provider,{value:this.props.routeContext},H.createElement(sT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NR(t){let{routeContext:e,match:n,children:r}=t,i=H.useContext(Mm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(Es.Provider,{value:e},r)}function DR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id]));m>=0||ct(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let _=o[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=m),_.route.id){let{loaderData:E,errors:R}=n,k=_.route.loader&&E[_.route.id]===void 0&&(!R||R[_.route.id]===void 0);if(_.route.lazy||k){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,_,E)=>{let R,k=!1,N=null,j=null;n&&(R=l&&_.route.id?l[_.route.id]:void 0,N=_.route.errorElement||kR,c&&(f<0&&E===0?(MR("route-fallback",!1),k=!0,j=null):f===E&&(k=!0,j=_.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,E+1)),I=()=>{let A;return R?A=N:k?A=j:_.route.Component?A=H.createElement(_.route.Component,null):_.route.element?A=_.route.element:A=m,H.createElement(NR,{match:_,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:A})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?H.createElement(PR,{location:n.location,revalidation:n.revalidation,component:N,error:R,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}var uT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uT||{}),kc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kc||{});function bR(t){let e=H.useContext(Mm);return e||ct(!1),e}function OR(t){let e=H.useContext(IR);return e||ct(!1),e}function LR(t){let e=H.useContext(Es);return e||ct(!1),e}function cT(t){let e=LR(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function VR(){var t;let e=H.useContext(sT),n=OR(kc.UseRouteError),r=cT(kc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jR(){let{router:t}=bR(uT.UseNavigateStable),e=cT(kc.UseNavigateStable),n=H.useRef(!1);return oT(()=>{n.current=!0}),H.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sl({fromRouteId:e},s)))},[t,e])}const i_={};function MR(t,e,n){!e&&!i_[t]&&(i_[t]=!0)}function Zn(t){ct(!1)}function FR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=oi.Pop,navigator:s,static:o=!1,future:l}=t;kl()&&ct(!1);let c=e.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:c,navigator:s,static:o,future:sl({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=bo(r));let{pathname:m="/",search:_="",hash:E="",state:R=null,key:k="default"}=r,N=H.useMemo(()=>{let j=jm(m,c);return j==null?null:{location:{pathname:j,search:_,hash:E,state:R,key:k},navigationType:i}},[c,m,_,E,R,k,i]);return N==null?null:H.createElement(ws.Provider,{value:f},H.createElement(mh.Provider,{children:n,value:N}))}function UR(t){let{children:e,location:n}=t;return AR(op(e),n)}new Promise(()=>{});function op(t,e){e===void 0&&(e=[]);let n=[];return H.Children.forEach(t,(r,i)=>{if(!H.isValidElement(r))return;let s=[...e,i];if(r.type===H.Fragment){n.push.apply(n,op(r.props.children,s));return}r.type!==Zn&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=op(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function $R(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zR(t,e){return t.button===0&&(!e||e==="_self")&&!BR(t)}const qR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],HR="6";try{window.__reactRouterVersion=HR}catch{}const WR="startTransition",s_=$x[WR];function KR(t){let{basename:e,children:n,future:r,window:i}=t,s=H.useRef();s.current==null&&(s.current=JC({window:i,v5Compat:!0}));let o=s.current,[l,c]=H.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},m=H.useCallback(_=>{f&&s_?s_(()=>c(_)):c(_)},[c,f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(FR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const GR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=H.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:f,preventScrollReset:m,unstable_viewTransition:_}=e,E=$R(e,qR),{basename:R}=H.useContext(ws),k,N=!1;if(typeof f=="string"&&QR.test(f)&&(k=f,GR))try{let A=new URL(window.location.href),b=f.startsWith("//")?new URL(A.protocol+f):new URL(f),U=jm(b.pathname,R);b.origin===A.origin&&U!=null?f=U+b.search+b.hash:N=!0}catch{}let j=SR(f,{relative:i}),S=XR(f,{replace:o,state:l,target:c,preventScrollReset:m,relative:i,unstable_viewTransition:_});function I(A){r&&r(A),A.defaultPrevented||S(A)}return H.createElement("a",ap({},E,{href:k||j,onClick:N||s?r:I,ref:n,target:c}))});var o_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(o_||(o_={}));var a_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(a_||(a_={}));function XR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=aT(),f=Oo(),m=lT(t,{relative:o});return H.useCallback(_=>{if(zR(_,n)){_.preventDefault();let E=r!==void 0?r:Rc(f)===Rc(m);c(t,{replace:E,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[f,c,m,r,i,n,t,s,o,l])}var YR={exports:{}};/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:Ix,function(e,n){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(a){return r.flat.call(a)}:function(a){return r.concat.apply([],a)},l=r.push,c=r.indexOf,f={},m=f.toString,_=f.hasOwnProperty,E=_.toString,R=E.call(Object),k={},N=function(a){return typeof a=="function"&&typeof a.nodeType!="number"&&typeof a.item!="function"},j=function(a){return a!=null&&a===a.window},S=e.document,I={type:!0,src:!0,nonce:!0,noModule:!0};function A(a,u,h){var p,g,v=(h=h||S).createElement("script");if(v.text=a,u)for(p in I)(g=u[p]||u.getAttribute&&u.getAttribute(p))&&v.setAttribute(p,g);h.head.appendChild(v).parentNode.removeChild(v)}function b(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?f[m.call(a)]||"object":typeof a}var U="3.7.1",K=/HTML$/i,d=function(a,u){return new d.fn.init(a,u)};function J(a){var u=!!a&&"length"in a&&a.length,h=b(a);return!N(a)&&!j(a)&&(h==="array"||u===0||typeof u=="number"&&0<u&&u-1 in a)}function se(a,u){return a.nodeName&&a.nodeName.toLowerCase()===u.toLowerCase()}d.fn=d.prototype={jquery:U,constructor:d,length:0,toArray:function(){return s.call(this)},get:function(a){return a==null?s.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var u=d.merge(this.constructor(),a);return u.prevObject=this,u},each:function(a){return d.each(this,a)},map:function(a){return this.pushStack(d.map(this,function(u,h){return a.call(u,h,u)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(a,u){return(u+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(a,u){return u%2}))},eq:function(a){var u=this.length,h=+a+(a<0?u:0);return this.pushStack(0<=h&&h<u?[this[h]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:r.sort,splice:r.splice},d.extend=d.fn.extend=function(){var a,u,h,p,g,v,w=arguments[0]||{},C=1,x=arguments.length,D=!1;for(typeof w=="boolean"&&(D=w,w=arguments[C]||{},C++),typeof w=="object"||N(w)||(w={}),C===x&&(w=this,C--);C<x;C++)if((a=arguments[C])!=null)for(u in a)p=a[u],u!=="__proto__"&&w!==p&&(D&&p&&(d.isPlainObject(p)||(g=Array.isArray(p)))?(h=w[u],v=g&&!Array.isArray(h)?[]:g||d.isPlainObject(h)?h:{},g=!1,w[u]=d.extend(D,v,p)):p!==void 0&&(w[u]=p));return w},d.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var u,h;return!(!a||m.call(a)!=="[object Object]")&&(!(u=i(a))||typeof(h=_.call(u,"constructor")&&u.constructor)=="function"&&E.call(h)===R)},isEmptyObject:function(a){var u;for(u in a)return!1;return!0},globalEval:function(a,u,h){A(a,{nonce:u&&u.nonce},h)},each:function(a,u){var h,p=0;if(J(a))for(h=a.length;p<h&&u.call(a[p],p,a[p])!==!1;p++);else for(p in a)if(u.call(a[p],p,a[p])===!1)break;return a},text:function(a){var u,h="",p=0,g=a.nodeType;if(!g)for(;u=a[p++];)h+=d.text(u);return g===1||g===11?a.textContent:g===9?a.documentElement.textContent:g===3||g===4?a.nodeValue:h},makeArray:function(a,u){var h=u||[];return a!=null&&(J(Object(a))?d.merge(h,typeof a=="string"?[a]:a):l.call(h,a)),h},inArray:function(a,u,h){return u==null?-1:c.call(u,a,h)},isXMLDoc:function(a){var u=a&&a.namespaceURI,h=a&&(a.ownerDocument||a).documentElement;return!K.test(u||h&&h.nodeName||"HTML")},merge:function(a,u){for(var h=+u.length,p=0,g=a.length;p<h;p++)a[g++]=u[p];return a.length=g,a},grep:function(a,u,h){for(var p=[],g=0,v=a.length,w=!h;g<v;g++)!u(a[g],g)!==w&&p.push(a[g]);return p},map:function(a,u,h){var p,g,v=0,w=[];if(J(a))for(p=a.length;v<p;v++)(g=u(a[v],v,h))!=null&&w.push(g);else for(v in a)(g=u(a[v],v,h))!=null&&w.push(g);return o(w)},guid:1,support:k}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=r[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,u){f["[object "+u+"]"]=u.toLowerCase()});var we=r.pop,an=r.sort,Oi=r.splice,Ae="[\\x20\\t\\r\\n\\f]",Ur=new RegExp("^"+Ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ae+"+$","g");d.contains=function(a,u){var h=u&&u.parentNode;return a===h||!(!h||h.nodeType!==1||!(a.contains?a.contains(h):a.compareDocumentPosition&&16&a.compareDocumentPosition(h)))};var Xh=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function zo(a,u){return u?a==="\0"?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}d.escapeSelector=function(a){return(a+"").replace(Xh,zo)};var ln=S,Z=l;(function(){var a,u,h,p,g,v,w,C,x,D,V=Z,F=d.expando,O=0,B=0,ie=nt(),he=nt(),de=nt(),tt=nt(),yt=function(T,P){return T===P&&(g=!0),0},Gn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Qn="(?:\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Te="\\["+Ae+"*("+Qn+")(?:"+Ae+"*([*^$|!~]?=)"+Ae+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Qn+"))|)"+Ae+"*\\]",Fi=":("+Qn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Te+")*)|.*)\\)|)",ke=new RegExp(Ae+"+","g"),Qe=new RegExp("^"+Ae+"*,"+Ae+"*"),Zo=new RegExp("^"+Ae+"*([>+~]|"+Ae+")"+Ae+"*"),dd=new RegExp(Ae+"|>"),Xn=new RegExp(Fi),ea=new RegExp("^"+Qn+"$"),wr={ID:new RegExp("^#("+Qn+")"),CLASS:new RegExp("^\\.("+Qn+")"),TAG:new RegExp("^("+Qn+"|[*])"),ATTR:new RegExp("^"+Te),PSEUDO:new RegExp("^"+Fi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ae+"*(even|odd|(([+-]|)(\\d*)n|)"+Ae+"*(?:([+-]|)"+Ae+"*(\\d+)|))"+Ae+"*\\)|)","i"),bool:new RegExp("^(?:"+Gn+")$","i"),needsContext:new RegExp("^"+Ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ae+"*((?:-\\d)?\\d*)"+Ae+"*\\)|)(?=[^-]|$)","i")},Br=/^(?:input|select|textarea|button)$/i,Ls=/^h\d$/i,wn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,st=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\([^\\r\\n\\f])","g"),qt=function(T,P){var L="0x"+T.slice(1)-65536;return P||(L<0?String.fromCharCode(L+65536):String.fromCharCode(L>>10|55296,1023&L|56320))},zr=function(){qr()},Ht=ou(function(T){return T.disabled===!0&&se(T,"fieldset")},{dir:"parentNode",next:"legend"});try{V.apply(r=s.call(ln.childNodes),ln.childNodes),r[ln.childNodes.length].nodeType}catch{V={apply:function(P,L){Z.apply(P,s.call(L))},call:function(P){Z.apply(P,s.call(arguments,1))}}}function le(T,P,L,M){var $,ee,te,re,X,Ne,me,ve=P&&P.ownerDocument,Ce=P?P.nodeType:9;if(L=L||[],typeof T!="string"||!T||Ce!==1&&Ce!==9&&Ce!==11)return L;if(!M&&(qr(P),P=P||v,C)){if(Ce!==11&&(X=wn.exec(T)))if($=X[1]){if(Ce===9){if(!(te=P.getElementById($)))return L;if(te.id===$)return V.call(L,te),L}else if(ve&&(te=ve.getElementById($))&&le.contains(P,te)&&te.id===$)return V.call(L,te),L}else{if(X[2])return V.apply(L,P.getElementsByTagName(T)),L;if(($=X[3])&&P.getElementsByClassName)return V.apply(L,P.getElementsByClassName($)),L}if(!(tt[T+" "]||x&&x.test(T))){if(me=T,ve=P,Ce===1&&(dd.test(T)||Zo.test(T))){for((ve=vt.test(T)&&fd(P.parentNode)||P)==P&&k.scope||((re=P.getAttribute("id"))?re=d.escapeSelector(re):P.setAttribute("id",re=F)),ee=(Ne=ta(T)).length;ee--;)Ne[ee]=(re?"#"+re:":scope")+" "+su(Ne[ee]);me=Ne.join(",")}try{return V.apply(L,ve.querySelectorAll(me)),L}catch{tt(T,!0)}finally{re===F&&P.removeAttribute("id")}}}return By(T.replace(Ur,"$1"),P,L,M)}function nt(){var T=[];return function P(L,M){return T.push(L+" ")>u.cacheLength&&delete P[T.shift()],P[L+" "]=M}}function rt(T){return T[F]=!0,T}function je(T){var P=v.createElement("fieldset");try{return!!T(P)}catch{return!1}finally{P.parentNode&&P.parentNode.removeChild(P),P=null}}function Yn(T){return function(P){return se(P,"input")&&P.type===T}}function Vs(T){return function(P){return(se(P,"input")||se(P,"button"))&&P.type===T}}function iu(T){return function(P){return"form"in P?P.parentNode&&P.disabled===!1?"label"in P?"label"in P.parentNode?P.parentNode.disabled===T:P.disabled===T:P.isDisabled===T||P.isDisabled!==!T&&Ht(P)===T:P.disabled===T:"label"in P&&P.disabled===T}}function Ui(T){return rt(function(P){return P=+P,rt(function(L,M){for(var $,ee=T([],L.length,P),te=ee.length;te--;)L[$=ee[te]]&&(L[$]=!(M[$]=L[$]))})})}function fd(T){return T&&typeof T.getElementsByTagName<"u"&&T}function qr(T){var P,L=T?T.ownerDocument||T:ln;return L!=v&&L.nodeType===9&&L.documentElement&&(w=(v=L).documentElement,C=!d.isXMLDoc(v),D=w.matches||w.webkitMatchesSelector||w.msMatchesSelector,w.msMatchesSelector&&ln!=v&&(P=v.defaultView)&&P.top!==P&&P.addEventListener("unload",zr),k.getById=je(function(M){return w.appendChild(M).id=d.expando,!v.getElementsByName||!v.getElementsByName(d.expando).length}),k.disconnectedMatch=je(function(M){return D.call(M,"*")}),k.scope=je(function(){return v.querySelectorAll(":scope")}),k.cssHas=je(function(){try{return v.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),k.getById?(u.filter.ID=function(M){var $=M.replace(st,qt);return function(ee){return ee.getAttribute("id")===$}},u.find.ID=function(M,$){if(typeof $.getElementById<"u"&&C){var ee=$.getElementById(M);return ee?[ee]:[]}}):(u.filter.ID=function(M){var $=M.replace(st,qt);return function(ee){var te=typeof ee.getAttributeNode<"u"&&ee.getAttributeNode("id");return te&&te.value===$}},u.find.ID=function(M,$){if(typeof $.getElementById<"u"&&C){var ee,te,re,X=$.getElementById(M);if(X){if((ee=X.getAttributeNode("id"))&&ee.value===M)return[X];for(re=$.getElementsByName(M),te=0;X=re[te++];)if((ee=X.getAttributeNode("id"))&&ee.value===M)return[X]}return[]}}),u.find.TAG=function(M,$){return typeof $.getElementsByTagName<"u"?$.getElementsByTagName(M):$.querySelectorAll(M)},u.find.CLASS=function(M,$){if(typeof $.getElementsByClassName<"u"&&C)return $.getElementsByClassName(M)},x=[],je(function(M){var $;w.appendChild(M).innerHTML="<a id='"+F+"' href='' disabled='disabled'></a><select id='"+F+"-\r\\' disabled='disabled'><option selected=''></option></select>",M.querySelectorAll("[selected]").length||x.push("\\["+Ae+"*(?:value|"+Gn+")"),M.querySelectorAll("[id~="+F+"-]").length||x.push("~="),M.querySelectorAll("a#"+F+"+*").length||x.push(".#.+[+~]"),M.querySelectorAll(":checked").length||x.push(":checked"),($=v.createElement("input")).setAttribute("type","hidden"),M.appendChild($).setAttribute("name","D"),w.appendChild(M).disabled=!0,M.querySelectorAll(":disabled").length!==2&&x.push(":enabled",":disabled"),($=v.createElement("input")).setAttribute("name",""),M.appendChild($),M.querySelectorAll("[name='']").length||x.push("\\["+Ae+"*name"+Ae+"*="+Ae+`*(?:''|"")`)}),k.cssHas||x.push(":has"),x=x.length&&new RegExp(x.join("|")),yt=function(M,$){if(M===$)return g=!0,0;var ee=!M.compareDocumentPosition-!$.compareDocumentPosition;return ee||(1&(ee=(M.ownerDocument||M)==($.ownerDocument||$)?M.compareDocumentPosition($):1)||!k.sortDetached&&$.compareDocumentPosition(M)===ee?M===v||M.ownerDocument==ln&&le.contains(ln,M)?-1:$===v||$.ownerDocument==ln&&le.contains(ln,$)?1:p?c.call(p,M)-c.call(p,$):0:4&ee?-1:1)}),v}for(a in le.matches=function(T,P){return le(T,null,null,P)},le.matchesSelector=function(T,P){if(qr(T),C&&!tt[P+" "]&&(!x||!x.test(P)))try{var L=D.call(T,P);if(L||k.disconnectedMatch||T.document&&T.document.nodeType!==11)return L}catch{tt(P,!0)}return 0<le(P,v,null,[T]).length},le.contains=function(T,P){return(T.ownerDocument||T)!=v&&qr(T),d.contains(T,P)},le.attr=function(T,P){(T.ownerDocument||T)!=v&&qr(T);var L=u.attrHandle[P.toLowerCase()],M=L&&_.call(u.attrHandle,P.toLowerCase())?L(T,P,!C):void 0;return M!==void 0?M:T.getAttribute(P)},le.error=function(T){throw new Error("Syntax error, unrecognized expression: "+T)},d.uniqueSort=function(T){var P,L=[],M=0,$=0;if(g=!k.sortStable,p=!k.sortStable&&s.call(T,0),an.call(T,yt),g){for(;P=T[$++];)P===T[$]&&(M=L.push($));for(;M--;)Oi.call(T,L[M],1)}return p=null,T},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(s.apply(this)))},(u=d.expr={cacheLength:50,createPseudo:rt,match:wr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(T){return T[1]=T[1].replace(st,qt),T[3]=(T[3]||T[4]||T[5]||"").replace(st,qt),T[2]==="~="&&(T[3]=" "+T[3]+" "),T.slice(0,4)},CHILD:function(T){return T[1]=T[1].toLowerCase(),T[1].slice(0,3)==="nth"?(T[3]||le.error(T[0]),T[4]=+(T[4]?T[5]+(T[6]||1):2*(T[3]==="even"||T[3]==="odd")),T[5]=+(T[7]+T[8]||T[3]==="odd")):T[3]&&le.error(T[0]),T},PSEUDO:function(T){var P,L=!T[6]&&T[2];return wr.CHILD.test(T[0])?null:(T[3]?T[2]=T[4]||T[5]||"":L&&Xn.test(L)&&(P=ta(L,!0))&&(P=L.indexOf(")",L.length-P)-L.length)&&(T[0]=T[0].slice(0,P),T[2]=L.slice(0,P)),T.slice(0,3))}},filter:{TAG:function(T){var P=T.replace(st,qt).toLowerCase();return T==="*"?function(){return!0}:function(L){return se(L,P)}},CLASS:function(T){var P=ie[T+" "];return P||(P=new RegExp("(^|"+Ae+")"+T+"("+Ae+"|$)"))&&ie(T,function(L){return P.test(typeof L.className=="string"&&L.className||typeof L.getAttribute<"u"&&L.getAttribute("class")||"")})},ATTR:function(T,P,L){return function(M){var $=le.attr(M,T);return $==null?P==="!=":!P||($+="",P==="="?$===L:P==="!="?$!==L:P==="^="?L&&$.indexOf(L)===0:P==="*="?L&&-1<$.indexOf(L):P==="$="?L&&$.slice(-L.length)===L:P==="~="?-1<(" "+$.replace(ke," ")+" ").indexOf(L):P==="|="&&($===L||$.slice(0,L.length+1)===L+"-"))}},CHILD:function(T,P,L,M,$){var ee=T.slice(0,3)!=="nth",te=T.slice(-4)!=="last",re=P==="of-type";return M===1&&$===0?function(X){return!!X.parentNode}:function(X,Ne,me){var ve,Ce,ce,ft,bt,_t=ee!==te?"nextSibling":"previousSibling",en=X.parentNode,un=re&&X.nodeName.toLowerCase(),bn=!me&&!re,Me=!1;if(en){if(ee){for(;_t;){for(ce=X;ce=ce[_t];)if(re?se(ce,un):ce.nodeType===1)return!1;bt=_t=T==="only"&&!bt&&"nextSibling"}return!0}if(bt=[te?en.firstChild:en.lastChild],te&&bn){for(Me=(ft=(ve=(Ce=en[F]||(en[F]={}))[T]||[])[0]===O&&ve[1])&&ve[2],ce=ft&&en.childNodes[ft];ce=++ft&&ce&&ce[_t]||(Me=ft=0)||bt.pop();)if(ce.nodeType===1&&++Me&&ce===X){Ce[T]=[O,ft,Me];break}}else if(bn&&(Me=ft=(ve=(Ce=X[F]||(X[F]={}))[T]||[])[0]===O&&ve[1]),Me===!1)for(;(ce=++ft&&ce&&ce[_t]||(Me=ft=0)||bt.pop())&&!((re?se(ce,un):ce.nodeType===1)&&++Me&&(bn&&((Ce=ce[F]||(ce[F]={}))[T]=[O,Me]),ce===X)););return(Me-=$)===M||Me%M==0&&0<=Me/M}}},PSEUDO:function(T,P){var L,M=u.pseudos[T]||u.setFilters[T.toLowerCase()]||le.error("unsupported pseudo: "+T);return M[F]?M(P):1<M.length?(L=[T,T,"",P],u.setFilters.hasOwnProperty(T.toLowerCase())?rt(function($,ee){for(var te,re=M($,P),X=re.length;X--;)$[te=c.call($,re[X])]=!(ee[te]=re[X])}):function($){return M($,0,L)}):M}},pseudos:{not:rt(function(T){var P=[],L=[],M=yd(T.replace(Ur,"$1"));return M[F]?rt(function($,ee,te,re){for(var X,Ne=M($,null,re,[]),me=$.length;me--;)(X=Ne[me])&&($[me]=!(ee[me]=X))}):function($,ee,te){return P[0]=$,M(P,null,te,L),P[0]=null,!L.pop()}}),has:rt(function(T){return function(P){return 0<le(T,P).length}}),contains:rt(function(T){return T=T.replace(st,qt),function(P){return-1<(P.textContent||d.text(P)).indexOf(T)}}),lang:rt(function(T){return ea.test(T||"")||le.error("unsupported lang: "+T),T=T.replace(st,qt).toLowerCase(),function(P){var L;do if(L=C?P.lang:P.getAttribute("xml:lang")||P.getAttribute("lang"))return(L=L.toLowerCase())===T||L.indexOf(T+"-")===0;while((P=P.parentNode)&&P.nodeType===1);return!1}}),target:function(T){var P=e.location&&e.location.hash;return P&&P.slice(1)===T.id},root:function(T){return T===w},focus:function(T){return T===function(){try{return v.activeElement}catch{}}()&&v.hasFocus()&&!!(T.type||T.href||~T.tabIndex)},enabled:iu(!1),disabled:iu(!0),checked:function(T){return se(T,"input")&&!!T.checked||se(T,"option")&&!!T.selected},selected:function(T){return T.parentNode&&T.parentNode.selectedIndex,T.selected===!0},empty:function(T){for(T=T.firstChild;T;T=T.nextSibling)if(T.nodeType<6)return!1;return!0},parent:function(T){return!u.pseudos.empty(T)},header:function(T){return Ls.test(T.nodeName)},input:function(T){return Br.test(T.nodeName)},button:function(T){return se(T,"input")&&T.type==="button"||se(T,"button")},text:function(T){var P;return se(T,"input")&&T.type==="text"&&((P=T.getAttribute("type"))==null||P.toLowerCase()==="text")},first:Ui(function(){return[0]}),last:Ui(function(T,P){return[P-1]}),eq:Ui(function(T,P,L){return[L<0?L+P:L]}),even:Ui(function(T,P){for(var L=0;L<P;L+=2)T.push(L);return T}),odd:Ui(function(T,P){for(var L=1;L<P;L+=2)T.push(L);return T}),lt:Ui(function(T,P,L){var M;for(M=L<0?L+P:P<L?P:L;0<=--M;)T.push(M);return T}),gt:Ui(function(T,P,L){for(var M=L<0?L+P:L;++M<P;)T.push(M);return T})}}).pseudos.nth=u.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[a]=Yn(a);for(a in{submit:!0,reset:!0})u.pseudos[a]=Vs(a);function $y(){}function ta(T,P){var L,M,$,ee,te,re,X,Ne=he[T+" "];if(Ne)return P?0:Ne.slice(0);for(te=T,re=[],X=u.preFilter;te;){for(ee in L&&!(M=Qe.exec(te))||(M&&(te=te.slice(M[0].length)||te),re.push($=[])),L=!1,(M=Zo.exec(te))&&(L=M.shift(),$.push({value:L,type:M[0].replace(Ur," ")}),te=te.slice(L.length)),u.filter)!(M=wr[ee].exec(te))||X[ee]&&!(M=X[ee](M))||(L=M.shift(),$.push({value:L,type:ee,matches:M}),te=te.slice(L.length));if(!L)break}return P?te.length:te?le.error(T):he(T,re).slice(0)}function su(T){for(var P=0,L=T.length,M="";P<L;P++)M+=T[P].value;return M}function ou(T,P,L){var M=P.dir,$=P.next,ee=$||M,te=L&&ee==="parentNode",re=B++;return P.first?function(X,Ne,me){for(;X=X[M];)if(X.nodeType===1||te)return T(X,Ne,me);return!1}:function(X,Ne,me){var ve,Ce,ce=[O,re];if(me){for(;X=X[M];)if((X.nodeType===1||te)&&T(X,Ne,me))return!0}else for(;X=X[M];)if(X.nodeType===1||te)if(Ce=X[F]||(X[F]={}),$&&se(X,$))X=X[M]||X;else{if((ve=Ce[ee])&&ve[0]===O&&ve[1]===re)return ce[2]=ve[2];if((Ce[ee]=ce)[2]=T(X,Ne,me))return!0}return!1}}function pd(T){return 1<T.length?function(P,L,M){for(var $=T.length;$--;)if(!T[$](P,L,M))return!1;return!0}:T[0]}function au(T,P,L,M,$){for(var ee,te=[],re=0,X=T.length,Ne=P!=null;re<X;re++)(ee=T[re])&&(L&&!L(ee,M,$)||(te.push(ee),Ne&&P.push(re)));return te}function md(T,P,L,M,$,ee){return M&&!M[F]&&(M=md(M)),$&&!$[F]&&($=md($,ee)),rt(function(te,re,X,Ne){var me,ve,Ce,ce,ft=[],bt=[],_t=re.length,en=te||function(bn,Me,$i){for(var On=0,lu=Me.length;On<lu;On++)le(bn,Me[On],$i);return $i}(P||"*",X.nodeType?[X]:X,[]),un=!T||!te&&P?en:au(en,ft,T,X,Ne);if(L?L(un,ce=$||(te?T:_t||M)?[]:re,X,Ne):ce=un,M)for(me=au(ce,bt),M(me,[],X,Ne),ve=me.length;ve--;)(Ce=me[ve])&&(ce[bt[ve]]=!(un[bt[ve]]=Ce));if(te){if($||T){if($){for(me=[],ve=ce.length;ve--;)(Ce=ce[ve])&&me.push(un[ve]=Ce);$(null,ce=[],me,Ne)}for(ve=ce.length;ve--;)(Ce=ce[ve])&&-1<(me=$?c.call(te,Ce):ft[ve])&&(te[me]=!(re[me]=Ce))}}else ce=au(ce===re?ce.splice(_t,ce.length):ce),$?$(null,re,ce,Ne):V.apply(re,ce)})}function gd(T){for(var P,L,M,$=T.length,ee=u.relative[T[0].type],te=ee||u.relative[" "],re=ee?1:0,X=ou(function(ve){return ve===P},te,!0),Ne=ou(function(ve){return-1<c.call(P,ve)},te,!0),me=[function(ve,Ce,ce){var ft=!ee&&(ce||Ce!=h)||((P=Ce).nodeType?X(ve,Ce,ce):Ne(ve,Ce,ce));return P=null,ft}];re<$;re++)if(L=u.relative[T[re].type])me=[ou(pd(me),L)];else{if((L=u.filter[T[re].type].apply(null,T[re].matches))[F]){for(M=++re;M<$&&!u.relative[T[M].type];M++);return md(1<re&&pd(me),1<re&&su(T.slice(0,re-1).concat({value:T[re-2].type===" "?"*":""})).replace(Ur,"$1"),L,re<M&&gd(T.slice(re,M)),M<$&&gd(T=T.slice(M)),M<$&&su(T))}me.push(L)}return pd(me)}function yd(T,P){var L,M,$,ee,te,re,X=[],Ne=[],me=de[T+" "];if(!me){for(P||(P=ta(T)),L=P.length;L--;)(me=gd(P[L]))[F]?X.push(me):Ne.push(me);(me=de(T,(M=Ne,ee=0<($=X).length,te=0<M.length,re=function(ve,Ce,ce,ft,bt){var _t,en,un,bn=0,Me="0",$i=ve&&[],On=[],lu=h,zy=ve||te&&u.find.TAG("*",bt),qy=O+=lu==null?1:Math.random()||.1,Ex=zy.length;for(bt&&(h=Ce==v||Ce||bt);Me!==Ex&&(_t=zy[Me])!=null;Me++){if(te&&_t){for(en=0,Ce||_t.ownerDocument==v||(qr(_t),ce=!C);un=M[en++];)if(un(_t,Ce||v,ce)){V.call(ft,_t);break}bt&&(O=qy)}ee&&((_t=!un&&_t)&&bn--,ve&&$i.push(_t))}if(bn+=Me,ee&&Me!==bn){for(en=0;un=$[en++];)un($i,On,Ce,ce);if(ve){if(0<bn)for(;Me--;)$i[Me]||On[Me]||(On[Me]=we.call(ft));On=au(On)}V.apply(ft,On),bt&&!ve&&0<On.length&&1<bn+$.length&&d.uniqueSort(ft)}return bt&&(O=qy,h=lu),$i},ee?rt(re):re))).selector=T}return me}function By(T,P,L,M){var $,ee,te,re,X,Ne=typeof T=="function"&&T,me=!M&&ta(T=Ne.selector||T);if(L=L||[],me.length===1){if(2<(ee=me[0]=me[0].slice(0)).length&&(te=ee[0]).type==="ID"&&P.nodeType===9&&C&&u.relative[ee[1].type]){if(!(P=(u.find.ID(te.matches[0].replace(st,qt),P)||[])[0]))return L;Ne&&(P=P.parentNode),T=T.slice(ee.shift().value.length)}for($=wr.needsContext.test(T)?0:ee.length;$--&&(te=ee[$],!u.relative[re=te.type]);)if((X=u.find[re])&&(M=X(te.matches[0].replace(st,qt),vt.test(ee[0].type)&&fd(P.parentNode)||P))){if(ee.splice($,1),!(T=M.length&&su(ee)))return V.apply(L,M),L;break}}return(Ne||yd(T,me))(M,P,!C,L,!P||vt.test(T)&&fd(P.parentNode)||P),L}$y.prototype=u.filters=u.pseudos,u.setFilters=new $y,k.sortStable=F.split("").sort(yt).join("")===F,qr(),k.sortDetached=je(function(T){return 1&T.compareDocumentPosition(v.createElement("fieldset"))}),d.find=le,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,le.compile=yd,le.select=By,le.setDocument=qr,le.tokenize=ta,le.escape=d.escapeSelector,le.getText=d.text,le.isXML=d.isXMLDoc,le.selectors=d.expr,le.support=d.support,le.uniqueSort=d.uniqueSort})();var ue=function(a,u,h){for(var p=[],g=h!==void 0;(a=a[u])&&a.nodeType!==9;)if(a.nodeType===1){if(g&&d(a).is(h))break;p.push(a)}return p},Ee=function(a,u){for(var h=[];a;a=a.nextSibling)a.nodeType===1&&a!==u&&h.push(a);return h},ze=d.expr.match.needsContext,et=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $r(a,u,h){return N(u)?d.grep(a,function(p,g){return!!u.call(p,g,p)!==h}):u.nodeType?d.grep(a,function(p){return p===u!==h}):typeof u!="string"?d.grep(a,function(p){return-1<c.call(u,p)!==h}):d.filter(u,a,h)}d.filter=function(a,u,h){var p=u[0];return h&&(a=":not("+a+")"),u.length===1&&p.nodeType===1?d.find.matchesSelector(p,a)?[p]:[]:d.find.matches(a,d.grep(u,function(g){return g.nodeType===1}))},d.fn.extend({find:function(a){var u,h,p=this.length,g=this;if(typeof a!="string")return this.pushStack(d(a).filter(function(){for(u=0;u<p;u++)if(d.contains(g[u],this))return!0}));for(h=this.pushStack([]),u=0;u<p;u++)d.find(a,g[u],h);return 1<p?d.uniqueSort(h):h},filter:function(a){return this.pushStack($r(this,a||[],!1))},not:function(a){return this.pushStack($r(this,a||[],!0))},is:function(a){return!!$r(this,typeof a=="string"&&ze.test(a)?d(a):a||[],!1).length}});var Hn,qo=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(d.fn.init=function(a,u,h){var p,g;if(!a)return this;if(h=h||Hn,typeof a=="string"){if(!(p=a[0]==="<"&&a[a.length-1]===">"&&3<=a.length?[null,a,null]:qo.exec(a))||!p[1]&&u)return!u||u.jquery?(u||h).find(a):this.constructor(u).find(a);if(p[1]){if(u=u instanceof d?u[0]:u,d.merge(this,d.parseHTML(p[1],u&&u.nodeType?u.ownerDocument||u:S,!0)),et.test(p[1])&&d.isPlainObject(u))for(p in u)N(this[p])?this[p](u[p]):this.attr(p,u[p]);return this}return(g=S.getElementById(p[2]))&&(this[0]=g,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):N(a)?h.ready!==void 0?h.ready(a):a(d):d.makeArray(a,this)}).prototype=d.fn,Hn=d(S);var yr=/^(?:parents|prev(?:Until|All))/,As={children:!0,contents:!0,next:!0,prev:!0};function oy(a,u){for(;(a=a[u])&&a.nodeType!==1;);return a}d.fn.extend({has:function(a){var u=d(a,this),h=u.length;return this.filter(function(){for(var p=0;p<h;p++)if(d.contains(this,u[p]))return!0})},closest:function(a,u){var h,p=0,g=this.length,v=[],w=typeof a!="string"&&d(a);if(!ze.test(a)){for(;p<g;p++)for(h=this[p];h&&h!==u;h=h.parentNode)if(h.nodeType<11&&(w?-1<w.index(h):h.nodeType===1&&d.find.matchesSelector(h,a))){v.push(h);break}}return this.pushStack(1<v.length?d.uniqueSort(v):v)},index:function(a){return a?typeof a=="string"?c.call(d(a),this[0]):c.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,u){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(a,u))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),d.each({parent:function(a){var u=a.parentNode;return u&&u.nodeType!==11?u:null},parents:function(a){return ue(a,"parentNode")},parentsUntil:function(a,u,h){return ue(a,"parentNode",h)},next:function(a){return oy(a,"nextSibling")},prev:function(a){return oy(a,"previousSibling")},nextAll:function(a){return ue(a,"nextSibling")},prevAll:function(a){return ue(a,"previousSibling")},nextUntil:function(a,u,h){return ue(a,"nextSibling",h)},prevUntil:function(a,u,h){return ue(a,"previousSibling",h)},siblings:function(a){return Ee((a.parentNode||{}).firstChild,a)},children:function(a){return Ee(a.firstChild)},contents:function(a){return a.contentDocument!=null&&i(a.contentDocument)?a.contentDocument:(se(a,"template")&&(a=a.content||a),d.merge([],a.childNodes))}},function(a,u){d.fn[a]=function(h,p){var g=d.map(this,u,h);return a.slice(-5)!=="Until"&&(p=h),p&&typeof p=="string"&&(g=d.filter(p,g)),1<this.length&&(As[a]||d.uniqueSort(g),yr.test(a)&&g.reverse()),this.pushStack(g)}});var Wn=/[^\x20\t\r\n\f]+/g;function Cs(a){return a}function Xl(a){throw a}function ay(a,u,h,p){var g;try{a&&N(g=a.promise)?g.call(a).done(u).fail(h):a&&N(g=a.then)?g.call(a,u,h):u.apply(void 0,[a].slice(p))}catch(v){h.apply(void 0,[v])}}d.Callbacks=function(a){var u,h;a=typeof a=="string"?(u=a,h={},d.each(u.match(Wn)||[],function(O,B){h[B]=!0}),h):d.extend({},a);var p,g,v,w,C=[],x=[],D=-1,V=function(){for(w=w||a.once,v=p=!0;x.length;D=-1)for(g=x.shift();++D<C.length;)C[D].apply(g[0],g[1])===!1&&a.stopOnFalse&&(D=C.length,g=!1);a.memory||(g=!1),p=!1,w&&(C=g?[]:"")},F={add:function(){return C&&(g&&!p&&(D=C.length-1,x.push(g)),function O(B){d.each(B,function(ie,he){N(he)?a.unique&&F.has(he)||C.push(he):he&&he.length&&b(he)!=="string"&&O(he)})}(arguments),g&&!p&&V()),this},remove:function(){return d.each(arguments,function(O,B){for(var ie;-1<(ie=d.inArray(B,C,ie));)C.splice(ie,1),ie<=D&&D--}),this},has:function(O){return O?-1<d.inArray(O,C):0<C.length},empty:function(){return C&&(C=[]),this},disable:function(){return w=x=[],C=g="",this},disabled:function(){return!C},lock:function(){return w=x=[],g||p||(C=g=""),this},locked:function(){return!!w},fireWith:function(O,B){return w||(B=[O,(B=B||[]).slice?B.slice():B],x.push(B),p||V()),this},fire:function(){return F.fireWith(this,arguments),this},fired:function(){return!!v}};return F},d.extend({Deferred:function(a){var u=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],h="pending",p={state:function(){return h},always:function(){return g.done(arguments).fail(arguments),this},catch:function(v){return p.then(null,v)},pipe:function(){var v=arguments;return d.Deferred(function(w){d.each(u,function(C,x){var D=N(v[x[4]])&&v[x[4]];g[x[1]](function(){var V=D&&D.apply(this,arguments);V&&N(V.promise)?V.promise().progress(w.notify).done(w.resolve).fail(w.reject):w[x[0]+"With"](this,D?[V]:arguments)})}),v=null}).promise()},then:function(v,w,C){var x=0;function D(V,F,O,B){return function(){var ie=this,he=arguments,de=function(){var yt,Gn;if(!(V<x)){if((yt=O.apply(ie,he))===F.promise())throw new TypeError("Thenable self-resolution");Gn=yt&&(typeof yt=="object"||typeof yt=="function")&&yt.then,N(Gn)?B?Gn.call(yt,D(x,F,Cs,B),D(x,F,Xl,B)):(x++,Gn.call(yt,D(x,F,Cs,B),D(x,F,Xl,B),D(x,F,Cs,F.notifyWith))):(O!==Cs&&(ie=void 0,he=[yt]),(B||F.resolveWith)(ie,he))}},tt=B?de:function(){try{de()}catch(yt){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(yt,tt.error),x<=V+1&&(O!==Xl&&(ie=void 0,he=[yt]),F.rejectWith(ie,he))}};V?tt():(d.Deferred.getErrorHook?tt.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(tt.error=d.Deferred.getStackHook()),e.setTimeout(tt))}}return d.Deferred(function(V){u[0][3].add(D(0,V,N(C)?C:Cs,V.notifyWith)),u[1][3].add(D(0,V,N(v)?v:Cs)),u[2][3].add(D(0,V,N(w)?w:Xl))}).promise()},promise:function(v){return v!=null?d.extend(v,p):p}},g={};return d.each(u,function(v,w){var C=w[2],x=w[5];p[w[1]]=C.add,x&&C.add(function(){h=x},u[3-v][2].disable,u[3-v][3].disable,u[0][2].lock,u[0][3].lock),C.add(w[3].fire),g[w[0]]=function(){return g[w[0]+"With"](this===g?void 0:this,arguments),this},g[w[0]+"With"]=C.fireWith}),p.promise(g),a&&a.call(g,g),g},when:function(a){var u=arguments.length,h=u,p=Array(h),g=s.call(arguments),v=d.Deferred(),w=function(C){return function(x){p[C]=this,g[C]=1<arguments.length?s.call(arguments):x,--u||v.resolveWith(p,g)}};if(u<=1&&(ay(a,v.done(w(h)).resolve,v.reject,!u),v.state()==="pending"||N(g[h]&&g[h].then)))return v.then();for(;h--;)ay(g[h],w(h),v.reject);return v.promise()}});var $S=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(a,u){e.console&&e.console.warn&&a&&$S.test(a.name)&&e.console.warn("jQuery.Deferred exception: "+a.message,a.stack,u)},d.readyException=function(a){e.setTimeout(function(){throw a})};var Yh=d.Deferred();function Yl(){S.removeEventListener("DOMContentLoaded",Yl),e.removeEventListener("load",Yl),d.ready()}d.fn.ready=function(a){return Yh.then(a).catch(function(u){d.readyException(u)}),this},d.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--d.readyWait:d.isReady)||(d.isReady=!0)!==a&&0<--d.readyWait||Yh.resolveWith(S,[d])}}),d.ready.then=Yh.then,S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?e.setTimeout(d.ready):(S.addEventListener("DOMContentLoaded",Yl),e.addEventListener("load",Yl));var vr=function(a,u,h,p,g,v,w){var C=0,x=a.length,D=h==null;if(b(h)==="object")for(C in g=!0,h)vr(a,u,C,h[C],!0,v,w);else if(p!==void 0&&(g=!0,N(p)||(w=!0),D&&(w?(u.call(a,p),u=null):(D=u,u=function(V,F,O){return D.call(d(V),O)})),u))for(;C<x;C++)u(a[C],h,w?p:p.call(a[C],C,u(a[C],h)));return g?a:D?u.call(a):x?u(a[0],h):v},BS=/^-ms-/,zS=/-([a-z])/g;function qS(a,u){return u.toUpperCase()}function Kn(a){return a.replace(BS,"ms-").replace(zS,qS)}var Ho=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function Wo(){this.expando=d.expando+Wo.uid++}Wo.uid=1,Wo.prototype={cache:function(a){var u=a[this.expando];return u||(u={},Ho(a)&&(a.nodeType?a[this.expando]=u:Object.defineProperty(a,this.expando,{value:u,configurable:!0}))),u},set:function(a,u,h){var p,g=this.cache(a);if(typeof u=="string")g[Kn(u)]=h;else for(p in u)g[Kn(p)]=u[p];return g},get:function(a,u){return u===void 0?this.cache(a):a[this.expando]&&a[this.expando][Kn(u)]},access:function(a,u,h){return u===void 0||u&&typeof u=="string"&&h===void 0?this.get(a,u):(this.set(a,u,h),h!==void 0?h:u)},remove:function(a,u){var h,p=a[this.expando];if(p!==void 0){if(u!==void 0)for(h=(u=Array.isArray(u)?u.map(Kn):(u=Kn(u))in p?[u]:u.match(Wn)||[]).length;h--;)delete p[u[h]];(u===void 0||d.isEmptyObject(p))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var u=a[this.expando];return u!==void 0&&!d.isEmptyObject(u)}};var oe=new Wo,Jt=new Wo,HS=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,WS=/[A-Z]/g;function ly(a,u,h){var p,g;if(h===void 0&&a.nodeType===1)if(p="data-"+u.replace(WS,"-$&").toLowerCase(),typeof(h=a.getAttribute(p))=="string"){try{h=(g=h)==="true"||g!=="false"&&(g==="null"?null:g===+g+""?+g:HS.test(g)?JSON.parse(g):g)}catch{}Jt.set(a,u,h)}else h=void 0;return h}d.extend({hasData:function(a){return Jt.hasData(a)||oe.hasData(a)},data:function(a,u,h){return Jt.access(a,u,h)},removeData:function(a,u){Jt.remove(a,u)},_data:function(a,u,h){return oe.access(a,u,h)},_removeData:function(a,u){oe.remove(a,u)}}),d.fn.extend({data:function(a,u){var h,p,g,v=this[0],w=v&&v.attributes;if(a===void 0){if(this.length&&(g=Jt.get(v),v.nodeType===1&&!oe.get(v,"hasDataAttrs"))){for(h=w.length;h--;)w[h]&&(p=w[h].name).indexOf("data-")===0&&(p=Kn(p.slice(5)),ly(v,p,g[p]));oe.set(v,"hasDataAttrs",!0)}return g}return typeof a=="object"?this.each(function(){Jt.set(this,a)}):vr(this,function(C){var x;if(v&&C===void 0)return(x=Jt.get(v,a))!==void 0||(x=ly(v,a))!==void 0?x:void 0;this.each(function(){Jt.set(this,a,C)})},null,u,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Jt.remove(this,a)})}}),d.extend({queue:function(a,u,h){var p;if(a)return u=(u||"fx")+"queue",p=oe.get(a,u),h&&(!p||Array.isArray(h)?p=oe.access(a,u,d.makeArray(h)):p.push(h)),p||[]},dequeue:function(a,u){u=u||"fx";var h=d.queue(a,u),p=h.length,g=h.shift(),v=d._queueHooks(a,u);g==="inprogress"&&(g=h.shift(),p--),g&&(u==="fx"&&h.unshift("inprogress"),delete v.stop,g.call(a,function(){d.dequeue(a,u)},v)),!p&&v&&v.empty.fire()},_queueHooks:function(a,u){var h=u+"queueHooks";return oe.get(a,h)||oe.access(a,h,{empty:d.Callbacks("once memory").add(function(){oe.remove(a,[u+"queue",h])})})}}),d.fn.extend({queue:function(a,u){var h=2;return typeof a!="string"&&(u=a,a="fx",h--),arguments.length<h?d.queue(this[0],a):u===void 0?this:this.each(function(){var p=d.queue(this,a,u);d._queueHooks(this,a),a==="fx"&&p[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,u){var h,p=1,g=d.Deferred(),v=this,w=this.length,C=function(){--p||g.resolveWith(v,[v])};for(typeof a!="string"&&(u=a,a=void 0),a=a||"fx";w--;)(h=oe.get(v[w],a+"queueHooks"))&&h.empty&&(p++,h.empty.add(C));return C(),g.promise(u)}});var uy=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ko=new RegExp("^(?:([+-])=|)("+uy+")([a-z%]*)$","i"),_r=["Top","Right","Bottom","Left"],Li=S.documentElement,Rs=function(a){return d.contains(a.ownerDocument,a)},KS={composed:!0};Li.getRootNode&&(Rs=function(a){return d.contains(a.ownerDocument,a)||a.getRootNode(KS)===a.ownerDocument});var Jl=function(a,u){return(a=u||a).style.display==="none"||a.style.display===""&&Rs(a)&&d.css(a,"display")==="none"};function cy(a,u,h,p){var g,v,w=20,C=p?function(){return p.cur()}:function(){return d.css(a,u,"")},x=C(),D=h&&h[3]||(d.cssNumber[u]?"":"px"),V=a.nodeType&&(d.cssNumber[u]||D!=="px"&&+x)&&Ko.exec(d.css(a,u));if(V&&V[3]!==D){for(x/=2,D=D||V[3],V=+x||1;w--;)d.style(a,u,V+D),(1-v)*(1-(v=C()/x||.5))<=0&&(w=0),V/=v;V*=2,d.style(a,u,V+D),h=h||[]}return h&&(V=+V||+x||0,g=h[1]?V+(h[1]+1)*h[2]:+h[2],p&&(p.unit=D,p.start=V,p.end=g)),g}var hy={};function ks(a,u){for(var h,p,g,v,w,C,x,D=[],V=0,F=a.length;V<F;V++)(p=a[V]).style&&(h=p.style.display,u?(h==="none"&&(D[V]=oe.get(p,"display")||null,D[V]||(p.style.display="")),p.style.display===""&&Jl(p)&&(D[V]=(x=w=v=void 0,w=(g=p).ownerDocument,C=g.nodeName,(x=hy[C])||(v=w.body.appendChild(w.createElement(C)),x=d.css(v,"display"),v.parentNode.removeChild(v),x==="none"&&(x="block"),hy[C]=x)))):h!=="none"&&(D[V]="none",oe.set(p,"display",h)));for(V=0;V<F;V++)D[V]!=null&&(a[V].style.display=D[V]);return a}d.fn.extend({show:function(){return ks(this,!0)},hide:function(){return ks(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){Jl(this)?d(this).show():d(this).hide()})}});var Vi,Zl,Go=/^(?:checkbox|radio)$/i,dy=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fy=/^$|^module$|\/(?:java|ecma)script/i;Vi=S.createDocumentFragment().appendChild(S.createElement("div")),(Zl=S.createElement("input")).setAttribute("type","radio"),Zl.setAttribute("checked","checked"),Zl.setAttribute("name","t"),Vi.appendChild(Zl),k.checkClone=Vi.cloneNode(!0).cloneNode(!0).lastChild.checked,Vi.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!Vi.cloneNode(!0).lastChild.defaultValue,Vi.innerHTML="<option></option>",k.option=!!Vi.lastChild;var _n={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Zt(a,u){var h;return h=typeof a.getElementsByTagName<"u"?a.getElementsByTagName(u||"*"):typeof a.querySelectorAll<"u"?a.querySelectorAll(u||"*"):[],u===void 0||u&&se(a,u)?d.merge([a],h):h}function Jh(a,u){for(var h=0,p=a.length;h<p;h++)oe.set(a[h],"globalEval",!u||oe.get(u[h],"globalEval"))}_n.tbody=_n.tfoot=_n.colgroup=_n.caption=_n.thead,_n.th=_n.td,k.option||(_n.optgroup=_n.option=[1,"<select multiple='multiple'>","</select>"]);var GS=/<|&#?\w+;/;function py(a,u,h,p,g){for(var v,w,C,x,D,V,F=u.createDocumentFragment(),O=[],B=0,ie=a.length;B<ie;B++)if((v=a[B])||v===0)if(b(v)==="object")d.merge(O,v.nodeType?[v]:v);else if(GS.test(v)){for(w=w||F.appendChild(u.createElement("div")),C=(dy.exec(v)||["",""])[1].toLowerCase(),x=_n[C]||_n._default,w.innerHTML=x[1]+d.htmlPrefilter(v)+x[2],V=x[0];V--;)w=w.lastChild;d.merge(O,w.childNodes),(w=F.firstChild).textContent=""}else O.push(u.createTextNode(v));for(F.textContent="",B=0;v=O[B++];)if(p&&-1<d.inArray(v,p))g&&g.push(v);else if(D=Rs(v),w=Zt(F.appendChild(v),"script"),D&&Jh(w),h)for(V=0;v=w[V++];)fy.test(v.type||"")&&h.push(v);return F}var my=/^([^.]*)(?:\.(.+)|)/;function Ps(){return!0}function Ns(){return!1}function Zh(a,u,h,p,g,v){var w,C;if(typeof u=="object"){for(C in typeof h!="string"&&(p=p||h,h=void 0),u)Zh(a,C,h,p,u[C],v);return a}if(p==null&&g==null?(g=h,p=h=void 0):g==null&&(typeof h=="string"?(g=p,p=void 0):(g=p,p=h,h=void 0)),g===!1)g=Ns;else if(!g)return a;return v===1&&(w=g,(g=function(x){return d().off(x),w.apply(this,arguments)}).guid=w.guid||(w.guid=d.guid++)),a.each(function(){d.event.add(this,u,g,p,h)})}function eu(a,u,h){h?(oe.set(a,u,!1),d.event.add(a,u,{namespace:!1,handler:function(p){var g,v=oe.get(this,u);if(1&p.isTrigger&&this[u]){if(v)(d.event.special[u]||{}).delegateType&&p.stopPropagation();else if(v=s.call(arguments),oe.set(this,u,v),this[u](),g=oe.get(this,u),oe.set(this,u,!1),v!==g)return p.stopImmediatePropagation(),p.preventDefault(),g}else v&&(oe.set(this,u,d.event.trigger(v[0],v.slice(1),this)),p.stopPropagation(),p.isImmediatePropagationStopped=Ps)}})):oe.get(a,u)===void 0&&d.event.add(a,u,Ps)}d.event={global:{},add:function(a,u,h,p,g){var v,w,C,x,D,V,F,O,B,ie,he,de=oe.get(a);if(Ho(a))for(h.handler&&(h=(v=h).handler,g=v.selector),g&&d.find.matchesSelector(Li,g),h.guid||(h.guid=d.guid++),(x=de.events)||(x=de.events=Object.create(null)),(w=de.handle)||(w=de.handle=function(tt){return typeof d<"u"&&d.event.triggered!==tt.type?d.event.dispatch.apply(a,arguments):void 0}),D=(u=(u||"").match(Wn)||[""]).length;D--;)B=he=(C=my.exec(u[D])||[])[1],ie=(C[2]||"").split(".").sort(),B&&(F=d.event.special[B]||{},B=(g?F.delegateType:F.bindType)||B,F=d.event.special[B]||{},V=d.extend({type:B,origType:he,data:p,handler:h,guid:h.guid,selector:g,needsContext:g&&d.expr.match.needsContext.test(g),namespace:ie.join(".")},v),(O=x[B])||((O=x[B]=[]).delegateCount=0,F.setup&&F.setup.call(a,p,ie,w)!==!1||a.addEventListener&&a.addEventListener(B,w)),F.add&&(F.add.call(a,V),V.handler.guid||(V.handler.guid=h.guid)),g?O.splice(O.delegateCount++,0,V):O.push(V),d.event.global[B]=!0)},remove:function(a,u,h,p,g){var v,w,C,x,D,V,F,O,B,ie,he,de=oe.hasData(a)&&oe.get(a);if(de&&(x=de.events)){for(D=(u=(u||"").match(Wn)||[""]).length;D--;)if(B=he=(C=my.exec(u[D])||[])[1],ie=(C[2]||"").split(".").sort(),B){for(F=d.event.special[B]||{},O=x[B=(p?F.delegateType:F.bindType)||B]||[],C=C[2]&&new RegExp("(^|\\.)"+ie.join("\\.(?:.*\\.|)")+"(\\.|$)"),w=v=O.length;v--;)V=O[v],!g&&he!==V.origType||h&&h.guid!==V.guid||C&&!C.test(V.namespace)||p&&p!==V.selector&&(p!=="**"||!V.selector)||(O.splice(v,1),V.selector&&O.delegateCount--,F.remove&&F.remove.call(a,V));w&&!O.length&&(F.teardown&&F.teardown.call(a,ie,de.handle)!==!1||d.removeEvent(a,B,de.handle),delete x[B])}else for(B in x)d.event.remove(a,B+u[D],h,p,!0);d.isEmptyObject(x)&&oe.remove(a,"handle events")}},dispatch:function(a){var u,h,p,g,v,w,C=new Array(arguments.length),x=d.event.fix(a),D=(oe.get(this,"events")||Object.create(null))[x.type]||[],V=d.event.special[x.type]||{};for(C[0]=x,u=1;u<arguments.length;u++)C[u]=arguments[u];if(x.delegateTarget=this,!V.preDispatch||V.preDispatch.call(this,x)!==!1){for(w=d.event.handlers.call(this,x,D),u=0;(g=w[u++])&&!x.isPropagationStopped();)for(x.currentTarget=g.elem,h=0;(v=g.handlers[h++])&&!x.isImmediatePropagationStopped();)x.rnamespace&&v.namespace!==!1&&!x.rnamespace.test(v.namespace)||(x.handleObj=v,x.data=v.data,(p=((d.event.special[v.origType]||{}).handle||v.handler).apply(g.elem,C))!==void 0&&(x.result=p)===!1&&(x.preventDefault(),x.stopPropagation()));return V.postDispatch&&V.postDispatch.call(this,x),x.result}},handlers:function(a,u){var h,p,g,v,w,C=[],x=u.delegateCount,D=a.target;if(x&&D.nodeType&&!(a.type==="click"&&1<=a.button)){for(;D!==this;D=D.parentNode||this)if(D.nodeType===1&&(a.type!=="click"||D.disabled!==!0)){for(v=[],w={},h=0;h<x;h++)w[g=(p=u[h]).selector+" "]===void 0&&(w[g]=p.needsContext?-1<d(g,this).index(D):d.find(g,this,null,[D]).length),w[g]&&v.push(p);v.length&&C.push({elem:D,handlers:v})}}return D=this,x<u.length&&C.push({elem:D,handlers:u.slice(x)}),C},addProp:function(a,u){Object.defineProperty(d.Event.prototype,a,{enumerable:!0,configurable:!0,get:N(u)?function(){if(this.originalEvent)return u(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(h){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:h})}})},fix:function(a){return a[d.expando]?a:new d.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var u=this||a;return Go.test(u.type)&&u.click&&se(u,"input")&&eu(u,"click",!0),!1},trigger:function(a){var u=this||a;return Go.test(u.type)&&u.click&&se(u,"input")&&eu(u,"click"),!0},_default:function(a){var u=a.target;return Go.test(u.type)&&u.click&&se(u,"input")&&oe.get(u,"click")||se(u,"a")}},beforeunload:{postDispatch:function(a){a.result!==void 0&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},d.removeEvent=function(a,u,h){a.removeEventListener&&a.removeEventListener(u,h)},d.Event=function(a,u){if(!(this instanceof d.Event))return new d.Event(a,u);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===!1?Ps:Ns,this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,u&&d.extend(this,u),this.timeStamp=a&&a.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Ns,isPropagationStopped:Ns,isImmediatePropagationStopped:Ns,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Ps,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Ps,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Ps,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(a,u){function h(p){if(S.documentMode){var g=oe.get(this,"handle"),v=d.event.fix(p);v.type=p.type==="focusin"?"focus":"blur",v.isSimulated=!0,g(p),v.target===v.currentTarget&&g(v)}else d.event.simulate(u,p.target,d.event.fix(p))}d.event.special[a]={setup:function(){var p;if(eu(this,a,!0),!S.documentMode)return!1;(p=oe.get(this,u))||this.addEventListener(u,h),oe.set(this,u,(p||0)+1)},trigger:function(){return eu(this,a),!0},teardown:function(){var p;if(!S.documentMode)return!1;(p=oe.get(this,u)-1)?oe.set(this,u,p):(this.removeEventListener(u,h),oe.remove(this,u))},_default:function(p){return oe.get(p.target,a)},delegateType:u},d.event.special[u]={setup:function(){var p=this.ownerDocument||this.document||this,g=S.documentMode?this:p,v=oe.get(g,u);v||(S.documentMode?this.addEventListener(u,h):p.addEventListener(a,h,!0)),oe.set(g,u,(v||0)+1)},teardown:function(){var p=this.ownerDocument||this.document||this,g=S.documentMode?this:p,v=oe.get(g,u)-1;v?oe.set(g,u,v):(S.documentMode?this.removeEventListener(u,h):p.removeEventListener(a,h,!0),oe.remove(g,u))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,u){d.event.special[a]={delegateType:u,bindType:u,handle:function(h){var p,g=h.relatedTarget,v=h.handleObj;return g&&(g===this||d.contains(this,g))||(h.type=v.origType,p=v.handler.apply(this,arguments),h.type=u),p}}}),d.fn.extend({on:function(a,u,h,p){return Zh(this,a,u,h,p)},one:function(a,u,h,p){return Zh(this,a,u,h,p,1)},off:function(a,u,h){var p,g;if(a&&a.preventDefault&&a.handleObj)return p=a.handleObj,d(a.delegateTarget).off(p.namespace?p.origType+"."+p.namespace:p.origType,p.selector,p.handler),this;if(typeof a=="object"){for(g in a)this.off(g,u,a[g]);return this}return u!==!1&&typeof u!="function"||(h=u,u=void 0),h===!1&&(h=Ns),this.each(function(){d.event.remove(this,a,h,u)})}});var QS=/<script|<style|<link/i,XS=/checked\s*(?:[^=]|=\s*.checked.)/i,YS=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function gy(a,u){return se(a,"table")&&se(u.nodeType!==11?u:u.firstChild,"tr")&&d(a).children("tbody")[0]||a}function JS(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function ZS(a){return(a.type||"").slice(0,5)==="true/"?a.type=a.type.slice(5):a.removeAttribute("type"),a}function yy(a,u){var h,p,g,v,w,C;if(u.nodeType===1){if(oe.hasData(a)&&(C=oe.get(a).events))for(g in oe.remove(u,"handle events"),C)for(h=0,p=C[g].length;h<p;h++)d.event.add(u,g,C[g][h]);Jt.hasData(a)&&(v=Jt.access(a),w=d.extend({},v),Jt.set(u,w))}}function Ds(a,u,h,p){u=o(u);var g,v,w,C,x,D,V=0,F=a.length,O=F-1,B=u[0],ie=N(B);if(ie||1<F&&typeof B=="string"&&!k.checkClone&&XS.test(B))return a.each(function(he){var de=a.eq(he);ie&&(u[0]=B.call(this,he,de.html())),Ds(de,u,h,p)});if(F&&(v=(g=py(u,a[0].ownerDocument,!1,a,p)).firstChild,g.childNodes.length===1&&(g=v),v||p)){for(C=(w=d.map(Zt(g,"script"),JS)).length;V<F;V++)x=g,V!==O&&(x=d.clone(x,!0,!0),C&&d.merge(w,Zt(x,"script"))),h.call(a[V],x,V);if(C)for(D=w[w.length-1].ownerDocument,d.map(w,ZS),V=0;V<C;V++)x=w[V],fy.test(x.type||"")&&!oe.access(x,"globalEval")&&d.contains(D,x)&&(x.src&&(x.type||"").toLowerCase()!=="module"?d._evalUrl&&!x.noModule&&d._evalUrl(x.src,{nonce:x.nonce||x.getAttribute("nonce")},D):A(x.textContent.replace(YS,""),x,D))}return a}function vy(a,u,h){for(var p,g=u?d.filter(u,a):a,v=0;(p=g[v])!=null;v++)h||p.nodeType!==1||d.cleanData(Zt(p)),p.parentNode&&(h&&Rs(p)&&Jh(Zt(p,"script")),p.parentNode.removeChild(p));return a}d.extend({htmlPrefilter:function(a){return a},clone:function(a,u,h){var p,g,v,w,C,x,D,V=a.cloneNode(!0),F=Rs(a);if(!(k.noCloneChecked||a.nodeType!==1&&a.nodeType!==11||d.isXMLDoc(a)))for(w=Zt(V),p=0,g=(v=Zt(a)).length;p<g;p++)C=v[p],x=w[p],(D=x.nodeName.toLowerCase())==="input"&&Go.test(C.type)?x.checked=C.checked:D!=="input"&&D!=="textarea"||(x.defaultValue=C.defaultValue);if(u)if(h)for(v=v||Zt(a),w=w||Zt(V),p=0,g=v.length;p<g;p++)yy(v[p],w[p]);else yy(a,V);return 0<(w=Zt(V,"script")).length&&Jh(w,!F&&Zt(a,"script")),V},cleanData:function(a){for(var u,h,p,g=d.event.special,v=0;(h=a[v])!==void 0;v++)if(Ho(h)){if(u=h[oe.expando]){if(u.events)for(p in u.events)g[p]?d.event.remove(h,p):d.removeEvent(h,p,u.handle);h[oe.expando]=void 0}h[Jt.expando]&&(h[Jt.expando]=void 0)}}}),d.fn.extend({detach:function(a){return vy(this,a,!0)},remove:function(a){return vy(this,a)},text:function(a){return vr(this,function(u){return u===void 0?d.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=u)})},null,a,arguments.length)},append:function(){return Ds(this,arguments,function(a){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||gy(this,a).appendChild(a)})},prepend:function(){return Ds(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=gy(this,a);u.insertBefore(a,u.firstChild)}})},before:function(){return Ds(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ds(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,u=0;(a=this[u])!=null;u++)a.nodeType===1&&(d.cleanData(Zt(a,!1)),a.textContent="");return this},clone:function(a,u){return a=a!=null&&a,u=u??a,this.map(function(){return d.clone(this,a,u)})},html:function(a){return vr(this,function(u){var h=this[0]||{},p=0,g=this.length;if(u===void 0&&h.nodeType===1)return h.innerHTML;if(typeof u=="string"&&!QS.test(u)&&!_n[(dy.exec(u)||["",""])[1].toLowerCase()]){u=d.htmlPrefilter(u);try{for(;p<g;p++)(h=this[p]||{}).nodeType===1&&(d.cleanData(Zt(h,!1)),h.innerHTML=u);h=0}catch{}}h&&this.empty().append(u)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ds(this,arguments,function(u){var h=this.parentNode;d.inArray(this,a)<0&&(d.cleanData(Zt(this)),h&&h.replaceChild(u,this))},a)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,u){d.fn[a]=function(h){for(var p,g=[],v=d(h),w=v.length-1,C=0;C<=w;C++)p=C===w?this:this.clone(!0),d(v[C])[u](p),l.apply(g,p.get());return this.pushStack(g)}});var ed=new RegExp("^("+uy+")(?!px)[a-z%]+$","i"),td=/^--/,tu=function(a){var u=a.ownerDocument.defaultView;return u&&u.opener||(u=e),u.getComputedStyle(a)},_y=function(a,u,h){var p,g,v={};for(g in u)v[g]=a.style[g],a.style[g]=u[g];for(g in p=h.call(a),u)a.style[g]=v[g];return p},ex=new RegExp(_r.join("|"),"i");function Qo(a,u,h){var p,g,v,w,C=td.test(u),x=a.style;return(h=h||tu(a))&&(w=h.getPropertyValue(u)||h[u],C&&w&&(w=w.replace(Ur,"$1")||void 0),w!==""||Rs(a)||(w=d.style(a,u)),!k.pixelBoxStyles()&&ed.test(w)&&ex.test(u)&&(p=x.width,g=x.minWidth,v=x.maxWidth,x.minWidth=x.maxWidth=x.width=w,w=h.width,x.width=p,x.minWidth=g,x.maxWidth=v)),w!==void 0?w+"":w}function wy(a,u){return{get:function(){if(!a())return(this.get=u).apply(this,arguments);delete this.get}}}(function(){function a(){if(D){x.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",D.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Li.appendChild(x).appendChild(D);var V=e.getComputedStyle(D);h=V.top!=="1%",C=u(V.marginLeft)===12,D.style.right="60%",v=u(V.right)===36,p=u(V.width)===36,D.style.position="absolute",g=u(D.offsetWidth/3)===12,Li.removeChild(x),D=null}}function u(V){return Math.round(parseFloat(V))}var h,p,g,v,w,C,x=S.createElement("div"),D=S.createElement("div");D.style&&(D.style.backgroundClip="content-box",D.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=D.style.backgroundClip==="content-box",d.extend(k,{boxSizingReliable:function(){return a(),p},pixelBoxStyles:function(){return a(),v},pixelPosition:function(){return a(),h},reliableMarginLeft:function(){return a(),C},scrollboxSize:function(){return a(),g},reliableTrDimensions:function(){var V,F,O,B;return w==null&&(V=S.createElement("table"),F=S.createElement("tr"),O=S.createElement("div"),V.style.cssText="position:absolute;left:-11111px;border-collapse:separate",F.style.cssText="box-sizing:content-box;border:1px solid",F.style.height="1px",O.style.height="9px",O.style.display="block",Li.appendChild(V).appendChild(F).appendChild(O),B=e.getComputedStyle(F),w=parseInt(B.height,10)+parseInt(B.borderTopWidth,10)+parseInt(B.borderBottomWidth,10)===F.offsetHeight,Li.removeChild(V)),w}}))})();var Ey=["Webkit","Moz","ms"],Ty=S.createElement("div").style,Iy={};function nd(a){var u=d.cssProps[a]||Iy[a];return u||(a in Ty?a:Iy[a]=function(h){for(var p=h[0].toUpperCase()+h.slice(1),g=Ey.length;g--;)if((h=Ey[g]+p)in Ty)return h}(a)||a)}var tx=/^(none|table(?!-c[ea]).+)/,nx={position:"absolute",visibility:"hidden",display:"block"},Sy={letterSpacing:"0",fontWeight:"400"};function xy(a,u,h){var p=Ko.exec(u);return p?Math.max(0,p[2]-(h||0))+(p[3]||"px"):u}function rd(a,u,h,p,g,v){var w=u==="width"?1:0,C=0,x=0,D=0;if(h===(p?"border":"content"))return 0;for(;w<4;w+=2)h==="margin"&&(D+=d.css(a,h+_r[w],!0,g)),p?(h==="content"&&(x-=d.css(a,"padding"+_r[w],!0,g)),h!=="margin"&&(x-=d.css(a,"border"+_r[w]+"Width",!0,g))):(x+=d.css(a,"padding"+_r[w],!0,g),h!=="padding"?x+=d.css(a,"border"+_r[w]+"Width",!0,g):C+=d.css(a,"border"+_r[w]+"Width",!0,g));return!p&&0<=v&&(x+=Math.max(0,Math.ceil(a["offset"+u[0].toUpperCase()+u.slice(1)]-v-x-C-.5))||0),x+D}function Ay(a,u,h){var p=tu(a),g=(!k.boxSizingReliable()||h)&&d.css(a,"boxSizing",!1,p)==="border-box",v=g,w=Qo(a,u,p),C="offset"+u[0].toUpperCase()+u.slice(1);if(ed.test(w)){if(!h)return w;w="auto"}return(!k.boxSizingReliable()&&g||!k.reliableTrDimensions()&&se(a,"tr")||w==="auto"||!parseFloat(w)&&d.css(a,"display",!1,p)==="inline")&&a.getClientRects().length&&(g=d.css(a,"boxSizing",!1,p)==="border-box",(v=C in a)&&(w=a[C])),(w=parseFloat(w)||0)+rd(a,u,h||(g?"border":"content"),v,p,w)+"px"}function Nn(a,u,h,p,g){return new Nn.prototype.init(a,u,h,p,g)}d.extend({cssHooks:{opacity:{get:function(a,u){if(u){var h=Qo(a,"opacity");return h===""?"1":h}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(a,u,h,p){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var g,v,w,C=Kn(u),x=td.test(u),D=a.style;if(x||(u=nd(C)),w=d.cssHooks[u]||d.cssHooks[C],h===void 0)return w&&"get"in w&&(g=w.get(a,!1,p))!==void 0?g:D[u];(v=typeof h)=="string"&&(g=Ko.exec(h))&&g[1]&&(h=cy(a,u,g),v="number"),h!=null&&h==h&&(v!=="number"||x||(h+=g&&g[3]||(d.cssNumber[C]?"":"px")),k.clearCloneStyle||h!==""||u.indexOf("background")!==0||(D[u]="inherit"),w&&"set"in w&&(h=w.set(a,h,p))===void 0||(x?D.setProperty(u,h):D[u]=h))}},css:function(a,u,h,p){var g,v,w,C=Kn(u);return td.test(u)||(u=nd(C)),(w=d.cssHooks[u]||d.cssHooks[C])&&"get"in w&&(g=w.get(a,!0,h)),g===void 0&&(g=Qo(a,u,p)),g==="normal"&&u in Sy&&(g=Sy[u]),h===""||h?(v=parseFloat(g),h===!0||isFinite(v)?v||0:g):g}}),d.each(["height","width"],function(a,u){d.cssHooks[u]={get:function(h,p,g){if(p)return!tx.test(d.css(h,"display"))||h.getClientRects().length&&h.getBoundingClientRect().width?Ay(h,u,g):_y(h,nx,function(){return Ay(h,u,g)})},set:function(h,p,g){var v,w=tu(h),C=!k.scrollboxSize()&&w.position==="absolute",x=(C||g)&&d.css(h,"boxSizing",!1,w)==="border-box",D=g?rd(h,u,g,x,w):0;return x&&C&&(D-=Math.ceil(h["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(w[u])-rd(h,u,"border",!1,w)-.5)),D&&(v=Ko.exec(p))&&(v[3]||"px")!=="px"&&(h.style[u]=p,p=d.css(h,u)),xy(0,p,D)}}}),d.cssHooks.marginLeft=wy(k.reliableMarginLeft,function(a,u){if(u)return(parseFloat(Qo(a,"marginLeft"))||a.getBoundingClientRect().left-_y(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(a,u){d.cssHooks[a+u]={expand:function(h){for(var p=0,g={},v=typeof h=="string"?h.split(" "):[h];p<4;p++)g[a+_r[p]+u]=v[p]||v[p-2]||v[0];return g}},a!=="margin"&&(d.cssHooks[a+u].set=xy)}),d.fn.extend({css:function(a,u){return vr(this,function(h,p,g){var v,w,C={},x=0;if(Array.isArray(p)){for(v=tu(h),w=p.length;x<w;x++)C[p[x]]=d.css(h,p[x],!1,v);return C}return g!==void 0?d.style(h,p,g):d.css(h,p)},a,u,1<arguments.length)}}),((d.Tween=Nn).prototype={constructor:Nn,init:function(a,u,h,p,g,v){this.elem=a,this.prop=h,this.easing=g||d.easing._default,this.options=u,this.start=this.now=this.cur(),this.end=p,this.unit=v||(d.cssNumber[h]?"":"px")},cur:function(){var a=Nn.propHooks[this.prop];return a&&a.get?a.get(this):Nn.propHooks._default.get(this)},run:function(a){var u,h=Nn.propHooks[this.prop];return this.options.duration?this.pos=u=d.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=u=a,this.now=(this.end-this.start)*u+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):Nn.propHooks._default.set(this),this}}).init.prototype=Nn.prototype,(Nn.propHooks={_default:{get:function(a){var u;return a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null?a.elem[a.prop]:(u=d.css(a.elem,a.prop,""))&&u!=="auto"?u:0},set:function(a){d.fx.step[a.prop]?d.fx.step[a.prop](a):a.elem.nodeType!==1||!d.cssHooks[a.prop]&&a.elem.style[nd(a.prop)]==null?a.elem[a.prop]=a.now:d.style(a.elem,a.prop,a.now+a.unit)}}}).scrollTop=Nn.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},d.easing={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},_default:"swing"},d.fx=Nn.prototype.init,d.fx.step={};var bs,nu,Os,Cy,rx=/^(?:toggle|show|hide)$/,ix=/queueHooks$/;function id(){nu&&(S.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(id):e.setTimeout(id,d.fx.interval),d.fx.tick())}function Ry(){return e.setTimeout(function(){bs=void 0}),bs=Date.now()}function ru(a,u){var h,p=0,g={height:a};for(u=u?1:0;p<4;p+=2-u)g["margin"+(h=_r[p])]=g["padding"+h]=a;return u&&(g.opacity=g.width=a),g}function ky(a,u,h){for(var p,g=(Dn.tweeners[u]||[]).concat(Dn.tweeners["*"]),v=0,w=g.length;v<w;v++)if(p=g[v].call(h,u,a))return p}function Dn(a,u,h){var p,g,v=0,w=Dn.prefilters.length,C=d.Deferred().always(function(){delete x.elem}),x=function(){if(g)return!1;for(var F=bs||Ry(),O=Math.max(0,D.startTime+D.duration-F),B=1-(O/D.duration||0),ie=0,he=D.tweens.length;ie<he;ie++)D.tweens[ie].run(B);return C.notifyWith(a,[D,B,O]),B<1&&he?O:(he||C.notifyWith(a,[D,1,0]),C.resolveWith(a,[D]),!1)},D=C.promise({elem:a,props:d.extend({},u),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},h),originalProperties:u,originalOptions:h,startTime:bs||Ry(),duration:h.duration,tweens:[],createTween:function(F,O){var B=d.Tween(a,D.opts,F,O,D.opts.specialEasing[F]||D.opts.easing);return D.tweens.push(B),B},stop:function(F){var O=0,B=F?D.tweens.length:0;if(g)return this;for(g=!0;O<B;O++)D.tweens[O].run(1);return F?(C.notifyWith(a,[D,1,0]),C.resolveWith(a,[D,F])):C.rejectWith(a,[D,F]),this}}),V=D.props;for(!function(F,O){var B,ie,he,de,tt;for(B in F)if(he=O[ie=Kn(B)],de=F[B],Array.isArray(de)&&(he=de[1],de=F[B]=de[0]),B!==ie&&(F[ie]=de,delete F[B]),(tt=d.cssHooks[ie])&&"expand"in tt)for(B in de=tt.expand(de),delete F[ie],de)B in F||(F[B]=de[B],O[B]=he);else O[ie]=he}(V,D.opts.specialEasing);v<w;v++)if(p=Dn.prefilters[v].call(D,a,V,D.opts))return N(p.stop)&&(d._queueHooks(D.elem,D.opts.queue).stop=p.stop.bind(p)),p;return d.map(V,ky,D),N(D.opts.start)&&D.opts.start.call(a,D),D.progress(D.opts.progress).done(D.opts.done,D.opts.complete).fail(D.opts.fail).always(D.opts.always),d.fx.timer(d.extend(x,{elem:a,anim:D,queue:D.opts.queue})),D}d.Animation=d.extend(Dn,{tweeners:{"*":[function(a,u){var h=this.createTween(a,u);return cy(h.elem,a,Ko.exec(u),h),h}]},tweener:function(a,u){N(a)?(u=a,a=["*"]):a=a.match(Wn);for(var h,p=0,g=a.length;p<g;p++)h=a[p],Dn.tweeners[h]=Dn.tweeners[h]||[],Dn.tweeners[h].unshift(u)},prefilters:[function(a,u,h){var p,g,v,w,C,x,D,V,F="width"in u||"height"in u,O=this,B={},ie=a.style,he=a.nodeType&&Jl(a),de=oe.get(a,"fxshow");for(p in h.queue||((w=d._queueHooks(a,"fx")).unqueued==null&&(w.unqueued=0,C=w.empty.fire,w.empty.fire=function(){w.unqueued||C()}),w.unqueued++,O.always(function(){O.always(function(){w.unqueued--,d.queue(a,"fx").length||w.empty.fire()})})),u)if(g=u[p],rx.test(g)){if(delete u[p],v=v||g==="toggle",g===(he?"hide":"show")){if(g!=="show"||!de||de[p]===void 0)continue;he=!0}B[p]=de&&de[p]||d.style(a,p)}if((x=!d.isEmptyObject(u))||!d.isEmptyObject(B))for(p in F&&a.nodeType===1&&(h.overflow=[ie.overflow,ie.overflowX,ie.overflowY],(D=de&&de.display)==null&&(D=oe.get(a,"display")),(V=d.css(a,"display"))==="none"&&(D?V=D:(ks([a],!0),D=a.style.display||D,V=d.css(a,"display"),ks([a]))),(V==="inline"||V==="inline-block"&&D!=null)&&d.css(a,"float")==="none"&&(x||(O.done(function(){ie.display=D}),D==null&&(V=ie.display,D=V==="none"?"":V)),ie.display="inline-block")),h.overflow&&(ie.overflow="hidden",O.always(function(){ie.overflow=h.overflow[0],ie.overflowX=h.overflow[1],ie.overflowY=h.overflow[2]})),x=!1,B)x||(de?"hidden"in de&&(he=de.hidden):de=oe.access(a,"fxshow",{display:D}),v&&(de.hidden=!he),he&&ks([a],!0),O.done(function(){for(p in he||ks([a]),oe.remove(a,"fxshow"),B)d.style(a,p,B[p])})),x=ky(he?de[p]:0,p,O),p in de||(de[p]=x.start,he&&(x.end=x.start,x.start=0))}],prefilter:function(a,u){u?Dn.prefilters.unshift(a):Dn.prefilters.push(a)}}),d.speed=function(a,u,h){var p=a&&typeof a=="object"?d.extend({},a):{complete:h||!h&&u||N(a)&&a,duration:a,easing:h&&u||u&&!N(u)&&u};return d.fx.off?p.duration=0:typeof p.duration!="number"&&(p.duration in d.fx.speeds?p.duration=d.fx.speeds[p.duration]:p.duration=d.fx.speeds._default),p.queue!=null&&p.queue!==!0||(p.queue="fx"),p.old=p.complete,p.complete=function(){N(p.old)&&p.old.call(this),p.queue&&d.dequeue(this,p.queue)},p},d.fn.extend({fadeTo:function(a,u,h,p){return this.filter(Jl).css("opacity",0).show().end().animate({opacity:u},a,h,p)},animate:function(a,u,h,p){var g=d.isEmptyObject(a),v=d.speed(u,h,p),w=function(){var C=Dn(this,d.extend({},a),v);(g||oe.get(this,"finish"))&&C.stop(!0)};return w.finish=w,g||v.queue===!1?this.each(w):this.queue(v.queue,w)},stop:function(a,u,h){var p=function(g){var v=g.stop;delete g.stop,v(h)};return typeof a!="string"&&(h=u,u=a,a=void 0),u&&this.queue(a||"fx",[]),this.each(function(){var g=!0,v=a!=null&&a+"queueHooks",w=d.timers,C=oe.get(this);if(v)C[v]&&C[v].stop&&p(C[v]);else for(v in C)C[v]&&C[v].stop&&ix.test(v)&&p(C[v]);for(v=w.length;v--;)w[v].elem!==this||a!=null&&w[v].queue!==a||(w[v].anim.stop(h),g=!1,w.splice(v,1));!g&&h||d.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var u,h=oe.get(this),p=h[a+"queue"],g=h[a+"queueHooks"],v=d.timers,w=p?p.length:0;for(h.finish=!0,d.queue(this,a,[]),g&&g.stop&&g.stop.call(this,!0),u=v.length;u--;)v[u].elem===this&&v[u].queue===a&&(v[u].anim.stop(!0),v.splice(u,1));for(u=0;u<w;u++)p[u]&&p[u].finish&&p[u].finish.call(this);delete h.finish})}}),d.each(["toggle","show","hide"],function(a,u){var h=d.fn[u];d.fn[u]=function(p,g,v){return p==null||typeof p=="boolean"?h.apply(this,arguments):this.animate(ru(u,!0),p,g,v)}}),d.each({slideDown:ru("show"),slideUp:ru("hide"),slideToggle:ru("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,u){d.fn[a]=function(h,p,g){return this.animate(u,h,p,g)}}),d.timers=[],d.fx.tick=function(){var a,u=0,h=d.timers;for(bs=Date.now();u<h.length;u++)(a=h[u])()||h[u]!==a||h.splice(u--,1);h.length||d.fx.stop(),bs=void 0},d.fx.timer=function(a){d.timers.push(a),d.fx.start()},d.fx.interval=13,d.fx.start=function(){nu||(nu=!0,id())},d.fx.stop=function(){nu=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(a,u){return a=d.fx&&d.fx.speeds[a]||a,u=u||"fx",this.queue(u,function(h,p){var g=e.setTimeout(h,a);p.stop=function(){e.clearTimeout(g)}})},Os=S.createElement("input"),Cy=S.createElement("select").appendChild(S.createElement("option")),Os.type="checkbox",k.checkOn=Os.value!=="",k.optSelected=Cy.selected,(Os=S.createElement("input")).value="t",Os.type="radio",k.radioValue=Os.value==="t";var Py,Xo=d.expr.attrHandle;d.fn.extend({attr:function(a,u){return vr(this,d.attr,a,u,1<arguments.length)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})}}),d.extend({attr:function(a,u,h){var p,g,v=a.nodeType;if(v!==3&&v!==8&&v!==2)return typeof a.getAttribute>"u"?d.prop(a,u,h):(v===1&&d.isXMLDoc(a)||(g=d.attrHooks[u.toLowerCase()]||(d.expr.match.bool.test(u)?Py:void 0)),h!==void 0?h===null?void d.removeAttr(a,u):g&&"set"in g&&(p=g.set(a,h,u))!==void 0?p:(a.setAttribute(u,h+""),h):g&&"get"in g&&(p=g.get(a,u))!==null?p:(p=d.find.attr(a,u))==null?void 0:p)},attrHooks:{type:{set:function(a,u){if(!k.radioValue&&u==="radio"&&se(a,"input")){var h=a.value;return a.setAttribute("type",u),h&&(a.value=h),u}}}},removeAttr:function(a,u){var h,p=0,g=u&&u.match(Wn);if(g&&a.nodeType===1)for(;h=g[p++];)a.removeAttribute(h)}}),Py={set:function(a,u,h){return u===!1?d.removeAttr(a,h):a.setAttribute(h,h),h}},d.each(d.expr.match.bool.source.match(/\w+/g),function(a,u){var h=Xo[u]||d.find.attr;Xo[u]=function(p,g,v){var w,C,x=g.toLowerCase();return v||(C=Xo[x],Xo[x]=w,w=h(p,g,v)!=null?x:null,Xo[x]=C),w}});var sx=/^(?:input|select|textarea|button)$/i,ox=/^(?:a|area)$/i;function ji(a){return(a.match(Wn)||[]).join(" ")}function Mi(a){return a.getAttribute&&a.getAttribute("class")||""}function sd(a){return Array.isArray(a)?a:typeof a=="string"&&a.match(Wn)||[]}d.fn.extend({prop:function(a,u){return vr(this,d.prop,a,u,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[d.propFix[a]||a]})}}),d.extend({prop:function(a,u,h){var p,g,v=a.nodeType;if(v!==3&&v!==8&&v!==2)return v===1&&d.isXMLDoc(a)||(u=d.propFix[u]||u,g=d.propHooks[u]),h!==void 0?g&&"set"in g&&(p=g.set(a,h,u))!==void 0?p:a[u]=h:g&&"get"in g&&(p=g.get(a,u))!==null?p:a[u]},propHooks:{tabIndex:{get:function(a){var u=d.find.attr(a,"tabindex");return u?parseInt(u,10):sx.test(a.nodeName)||ox.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(d.propHooks.selected={get:function(a){var u=a.parentNode;return u&&u.parentNode&&u.parentNode.selectedIndex,null},set:function(a){var u=a.parentNode;u&&(u.selectedIndex,u.parentNode&&u.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this}),d.fn.extend({addClass:function(a){var u,h,p,g,v,w;return N(a)?this.each(function(C){d(this).addClass(a.call(this,C,Mi(this)))}):(u=sd(a)).length?this.each(function(){if(p=Mi(this),h=this.nodeType===1&&" "+ji(p)+" "){for(v=0;v<u.length;v++)g=u[v],h.indexOf(" "+g+" ")<0&&(h+=g+" ");w=ji(h),p!==w&&this.setAttribute("class",w)}}):this},removeClass:function(a){var u,h,p,g,v,w;return N(a)?this.each(function(C){d(this).removeClass(a.call(this,C,Mi(this)))}):arguments.length?(u=sd(a)).length?this.each(function(){if(p=Mi(this),h=this.nodeType===1&&" "+ji(p)+" "){for(v=0;v<u.length;v++)for(g=u[v];-1<h.indexOf(" "+g+" ");)h=h.replace(" "+g+" "," ");w=ji(h),p!==w&&this.setAttribute("class",w)}}):this:this.attr("class","")},toggleClass:function(a,u){var h,p,g,v,w=typeof a,C=w==="string"||Array.isArray(a);return N(a)?this.each(function(x){d(this).toggleClass(a.call(this,x,Mi(this),u),u)}):typeof u=="boolean"&&C?u?this.addClass(a):this.removeClass(a):(h=sd(a),this.each(function(){if(C)for(v=d(this),g=0;g<h.length;g++)p=h[g],v.hasClass(p)?v.removeClass(p):v.addClass(p);else a!==void 0&&w!=="boolean"||((p=Mi(this))&&oe.set(this,"__className__",p),this.setAttribute&&this.setAttribute("class",p||a===!1?"":oe.get(this,"__className__")||""))}))},hasClass:function(a){var u,h,p=0;for(u=" "+a+" ";h=this[p++];)if(h.nodeType===1&&-1<(" "+ji(Mi(h))+" ").indexOf(u))return!0;return!1}});var ax=/\r/g;d.fn.extend({val:function(a){var u,h,p,g=this[0];return arguments.length?(p=N(a),this.each(function(v){var w;this.nodeType===1&&((w=p?a.call(this,v,d(this).val()):a)==null?w="":typeof w=="number"?w+="":Array.isArray(w)&&(w=d.map(w,function(C){return C==null?"":C+""})),(u=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()])&&"set"in u&&u.set(this,w,"value")!==void 0||(this.value=w))})):g?(u=d.valHooks[g.type]||d.valHooks[g.nodeName.toLowerCase()])&&"get"in u&&(h=u.get(g,"value"))!==void 0?h:typeof(h=g.value)=="string"?h.replace(ax,""):h??"":void 0}}),d.extend({valHooks:{option:{get:function(a){var u=d.find.attr(a,"value");return u??ji(d.text(a))}},select:{get:function(a){var u,h,p,g=a.options,v=a.selectedIndex,w=a.type==="select-one",C=w?null:[],x=w?v+1:g.length;for(p=v<0?x:w?v:0;p<x;p++)if(((h=g[p]).selected||p===v)&&!h.disabled&&(!h.parentNode.disabled||!se(h.parentNode,"optgroup"))){if(u=d(h).val(),w)return u;C.push(u)}return C},set:function(a,u){for(var h,p,g=a.options,v=d.makeArray(u),w=g.length;w--;)((p=g[w]).selected=-1<d.inArray(d.valHooks.option.get(p),v))&&(h=!0);return h||(a.selectedIndex=-1),v}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(a,u){if(Array.isArray(u))return a.checked=-1<d.inArray(d(a).val(),u)}},k.checkOn||(d.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var Yo=e.location,Ny={guid:Date.now()},od=/\?/;d.parseXML=function(a){var u,h;if(!a||typeof a!="string")return null;try{u=new e.DOMParser().parseFromString(a,"text/xml")}catch{}return h=u&&u.getElementsByTagName("parsererror")[0],u&&!h||d.error("Invalid XML: "+(h?d.map(h.childNodes,function(p){return p.textContent}).join(`
`):a)),u};var Dy=/^(?:focusinfocus|focusoutblur)$/,by=function(a){a.stopPropagation()};d.extend(d.event,{trigger:function(a,u,h,p){var g,v,w,C,x,D,V,F,O=[h||S],B=_.call(a,"type")?a.type:a,ie=_.call(a,"namespace")?a.namespace.split("."):[];if(v=F=w=h=h||S,h.nodeType!==3&&h.nodeType!==8&&!Dy.test(B+d.event.triggered)&&(-1<B.indexOf(".")&&(B=(ie=B.split(".")).shift(),ie.sort()),x=B.indexOf(":")<0&&"on"+B,(a=a[d.expando]?a:new d.Event(B,typeof a=="object"&&a)).isTrigger=p?2:3,a.namespace=ie.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+ie.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=h),u=u==null?[a]:d.makeArray(u,[a]),V=d.event.special[B]||{},p||!V.trigger||V.trigger.apply(h,u)!==!1)){if(!p&&!V.noBubble&&!j(h)){for(C=V.delegateType||B,Dy.test(C+B)||(v=v.parentNode);v;v=v.parentNode)O.push(v),w=v;w===(h.ownerDocument||S)&&O.push(w.defaultView||w.parentWindow||e)}for(g=0;(v=O[g++])&&!a.isPropagationStopped();)F=v,a.type=1<g?C:V.bindType||B,(D=(oe.get(v,"events")||Object.create(null))[a.type]&&oe.get(v,"handle"))&&D.apply(v,u),(D=x&&v[x])&&D.apply&&Ho(v)&&(a.result=D.apply(v,u),a.result===!1&&a.preventDefault());return a.type=B,p||a.isDefaultPrevented()||V._default&&V._default.apply(O.pop(),u)!==!1||!Ho(h)||x&&N(h[B])&&!j(h)&&((w=h[x])&&(h[x]=null),d.event.triggered=B,a.isPropagationStopped()&&F.addEventListener(B,by),h[B](),a.isPropagationStopped()&&F.removeEventListener(B,by),d.event.triggered=void 0,w&&(h[x]=w)),a.result}},simulate:function(a,u,h){var p=d.extend(new d.Event,h,{type:a,isSimulated:!0});d.event.trigger(p,null,u)}}),d.fn.extend({trigger:function(a,u){return this.each(function(){d.event.trigger(a,u,this)})},triggerHandler:function(a,u){var h=this[0];if(h)return d.event.trigger(a,u,h,!0)}});var lx=/\[\]$/,Oy=/\r?\n/g,ux=/^(?:submit|button|image|reset|file)$/i,cx=/^(?:input|select|textarea|keygen)/i;function ad(a,u,h,p){var g;if(Array.isArray(u))d.each(u,function(v,w){h||lx.test(a)?p(a,w):ad(a+"["+(typeof w=="object"&&w!=null?v:"")+"]",w,h,p)});else if(h||b(u)!=="object")p(a,u);else for(g in u)ad(a+"["+g+"]",u[g],h,p)}d.param=function(a,u){var h,p=[],g=function(v,w){var C=N(w)?w():w;p[p.length]=encodeURIComponent(v)+"="+encodeURIComponent(C??"")};if(a==null)return"";if(Array.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){g(this.name,this.value)});else for(h in a)ad(h,a[h],u,g);return p.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=d.prop(this,"elements");return a?d.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!d(this).is(":disabled")&&cx.test(this.nodeName)&&!ux.test(a)&&(this.checked||!Go.test(a))}).map(function(a,u){var h=d(this).val();return h==null?null:Array.isArray(h)?d.map(h,function(p){return{name:u.name,value:p.replace(Oy,`\r
`)}}):{name:u.name,value:h.replace(Oy,`\r
`)}}).get()}});var hx=/%20/g,dx=/#.*$/,fx=/([?&])_=[^&]*/,px=/^(.*?):[ \t]*([^\r\n]*)$/gm,mx=/^(?:GET|HEAD)$/,gx=/^\/\//,Ly={},ld={},Vy="*/".concat("*"),ud=S.createElement("a");function jy(a){return function(u,h){typeof u!="string"&&(h=u,u="*");var p,g=0,v=u.toLowerCase().match(Wn)||[];if(N(h))for(;p=v[g++];)p[0]==="+"?(p=p.slice(1)||"*",(a[p]=a[p]||[]).unshift(h)):(a[p]=a[p]||[]).push(h)}}function My(a,u,h,p){var g={},v=a===ld;function w(C){var x;return g[C]=!0,d.each(a[C]||[],function(D,V){var F=V(u,h,p);return typeof F!="string"||v||g[F]?v?!(x=F):void 0:(u.dataTypes.unshift(F),w(F),!1)}),x}return w(u.dataTypes[0])||!g["*"]&&w("*")}function cd(a,u){var h,p,g=d.ajaxSettings.flatOptions||{};for(h in u)u[h]!==void 0&&((g[h]?a:p||(p={}))[h]=u[h]);return p&&d.extend(!0,a,p),a}ud.href=Yo.href,d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Yo.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Yo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vy,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,u){return u?cd(cd(a,d.ajaxSettings),u):cd(d.ajaxSettings,a)},ajaxPrefilter:jy(Ly),ajaxTransport:jy(ld),ajax:function(a,u){typeof a=="object"&&(u=a,a=void 0),u=u||{};var h,p,g,v,w,C,x,D,V,F,O=d.ajaxSetup({},u),B=O.context||O,ie=O.context&&(B.nodeType||B.jquery)?d(B):d.event,he=d.Deferred(),de=d.Callbacks("once memory"),tt=O.statusCode||{},yt={},Gn={},Qn="canceled",Te={readyState:0,getResponseHeader:function(ke){var Qe;if(x){if(!v)for(v={};Qe=px.exec(g);)v[Qe[1].toLowerCase()+" "]=(v[Qe[1].toLowerCase()+" "]||[]).concat(Qe[2]);Qe=v[ke.toLowerCase()+" "]}return Qe==null?null:Qe.join(", ")},getAllResponseHeaders:function(){return x?g:null},setRequestHeader:function(ke,Qe){return x==null&&(ke=Gn[ke.toLowerCase()]=Gn[ke.toLowerCase()]||ke,yt[ke]=Qe),this},overrideMimeType:function(ke){return x==null&&(O.mimeType=ke),this},statusCode:function(ke){var Qe;if(ke)if(x)Te.always(ke[Te.status]);else for(Qe in ke)tt[Qe]=[tt[Qe],ke[Qe]];return this},abort:function(ke){var Qe=ke||Qn;return h&&h.abort(Qe),Fi(0,Qe),this}};if(he.promise(Te),O.url=((a||O.url||Yo.href)+"").replace(gx,Yo.protocol+"//"),O.type=u.method||u.type||O.method||O.type,O.dataTypes=(O.dataType||"*").toLowerCase().match(Wn)||[""],O.crossDomain==null){C=S.createElement("a");try{C.href=O.url,C.href=C.href,O.crossDomain=ud.protocol+"//"+ud.host!=C.protocol+"//"+C.host}catch{O.crossDomain=!0}}if(O.data&&O.processData&&typeof O.data!="string"&&(O.data=d.param(O.data,O.traditional)),My(Ly,O,u,Te),x)return Te;for(V in(D=d.event&&O.global)&&d.active++==0&&d.event.trigger("ajaxStart"),O.type=O.type.toUpperCase(),O.hasContent=!mx.test(O.type),p=O.url.replace(dx,""),O.hasContent?O.data&&O.processData&&(O.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(O.data=O.data.replace(hx,"+")):(F=O.url.slice(p.length),O.data&&(O.processData||typeof O.data=="string")&&(p+=(od.test(p)?"&":"?")+O.data,delete O.data),O.cache===!1&&(p=p.replace(fx,"$1"),F=(od.test(p)?"&":"?")+"_="+Ny.guid+++F),O.url=p+F),O.ifModified&&(d.lastModified[p]&&Te.setRequestHeader("If-Modified-Since",d.lastModified[p]),d.etag[p]&&Te.setRequestHeader("If-None-Match",d.etag[p])),(O.data&&O.hasContent&&O.contentType!==!1||u.contentType)&&Te.setRequestHeader("Content-Type",O.contentType),Te.setRequestHeader("Accept",O.dataTypes[0]&&O.accepts[O.dataTypes[0]]?O.accepts[O.dataTypes[0]]+(O.dataTypes[0]!=="*"?", "+Vy+"; q=0.01":""):O.accepts["*"]),O.headers)Te.setRequestHeader(V,O.headers[V]);if(O.beforeSend&&(O.beforeSend.call(B,Te,O)===!1||x))return Te.abort();if(Qn="abort",de.add(O.complete),Te.done(O.success),Te.fail(O.error),h=My(ld,O,u,Te)){if(Te.readyState=1,D&&ie.trigger("ajaxSend",[Te,O]),x)return Te;O.async&&0<O.timeout&&(w=e.setTimeout(function(){Te.abort("timeout")},O.timeout));try{x=!1,h.send(yt,Fi)}catch(ke){if(x)throw ke;Fi(-1,ke)}}else Fi(-1,"No Transport");function Fi(ke,Qe,Zo,dd){var Xn,ea,wr,Br,Ls,wn=Qe;x||(x=!0,w&&e.clearTimeout(w),h=void 0,g=dd||"",Te.readyState=0<ke?4:0,Xn=200<=ke&&ke<300||ke===304,Zo&&(Br=function(vt,st,qt){for(var zr,Ht,le,nt,rt=vt.contents,je=vt.dataTypes;je[0]==="*";)je.shift(),zr===void 0&&(zr=vt.mimeType||st.getResponseHeader("Content-Type"));if(zr){for(Ht in rt)if(rt[Ht]&&rt[Ht].test(zr)){je.unshift(Ht);break}}if(je[0]in qt)le=je[0];else{for(Ht in qt){if(!je[0]||vt.converters[Ht+" "+je[0]]){le=Ht;break}nt||(nt=Ht)}le=le||nt}if(le)return le!==je[0]&&je.unshift(le),qt[le]}(O,Te,Zo)),!Xn&&-1<d.inArray("script",O.dataTypes)&&d.inArray("json",O.dataTypes)<0&&(O.converters["text script"]=function(){}),Br=function(vt,st,qt,zr){var Ht,le,nt,rt,je,Yn={},Vs=vt.dataTypes.slice();if(Vs[1])for(nt in vt.converters)Yn[nt.toLowerCase()]=vt.converters[nt];for(le=Vs.shift();le;)if(vt.responseFields[le]&&(qt[vt.responseFields[le]]=st),!je&&zr&&vt.dataFilter&&(st=vt.dataFilter(st,vt.dataType)),je=le,le=Vs.shift()){if(le==="*")le=je;else if(je!=="*"&&je!==le){if(!(nt=Yn[je+" "+le]||Yn["* "+le])){for(Ht in Yn)if((rt=Ht.split(" "))[1]===le&&(nt=Yn[je+" "+rt[0]]||Yn["* "+rt[0]])){nt===!0?nt=Yn[Ht]:Yn[Ht]!==!0&&(le=rt[0],Vs.unshift(rt[1]));break}}if(nt!==!0)if(nt&&vt.throws)st=nt(st);else try{st=nt(st)}catch(iu){return{state:"parsererror",error:nt?iu:"No conversion from "+je+" to "+le}}}}return{state:"success",data:st}}(O,Br,Te,Xn),Xn?(O.ifModified&&((Ls=Te.getResponseHeader("Last-Modified"))&&(d.lastModified[p]=Ls),(Ls=Te.getResponseHeader("etag"))&&(d.etag[p]=Ls)),ke===204||O.type==="HEAD"?wn="nocontent":ke===304?wn="notmodified":(wn=Br.state,ea=Br.data,Xn=!(wr=Br.error))):(wr=wn,!ke&&wn||(wn="error",ke<0&&(ke=0))),Te.status=ke,Te.statusText=(Qe||wn)+"",Xn?he.resolveWith(B,[ea,wn,Te]):he.rejectWith(B,[Te,wn,wr]),Te.statusCode(tt),tt=void 0,D&&ie.trigger(Xn?"ajaxSuccess":"ajaxError",[Te,O,Xn?ea:wr]),de.fireWith(B,[Te,wn]),D&&(ie.trigger("ajaxComplete",[Te,O]),--d.active||d.event.trigger("ajaxStop")))}return Te},getJSON:function(a,u,h){return d.get(a,u,h,"json")},getScript:function(a,u){return d.get(a,void 0,u,"script")}}),d.each(["get","post"],function(a,u){d[u]=function(h,p,g,v){return N(p)&&(v=v||g,g=p,p=void 0),d.ajax(d.extend({url:h,type:u,dataType:v,data:p,success:g},d.isPlainObject(h)&&h))}}),d.ajaxPrefilter(function(a){var u;for(u in a.headers)u.toLowerCase()==="content-type"&&(a.contentType=a.headers[u]||"")}),d._evalUrl=function(a,u,h){return d.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(p){d.globalEval(p,u,h)}})},d.fn.extend({wrapAll:function(a){var u;return this[0]&&(N(a)&&(a=a.call(this[0])),u=d(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&u.insertBefore(this[0]),u.map(function(){for(var h=this;h.firstElementChild;)h=h.firstElementChild;return h}).append(this)),this},wrapInner:function(a){return N(a)?this.each(function(u){d(this).wrapInner(a.call(this,u))}):this.each(function(){var u=d(this),h=u.contents();h.length?h.wrapAll(a):u.append(a)})},wrap:function(a){var u=N(a);return this.each(function(h){d(this).wrapAll(u?a.call(this,h):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(a){return!d.expr.pseudos.visible(a)},d.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var yx={0:200,1223:204},Jo=d.ajaxSettings.xhr();k.cors=!!Jo&&"withCredentials"in Jo,k.ajax=Jo=!!Jo,d.ajaxTransport(function(a){var u,h;if(k.cors||Jo&&!a.crossDomain)return{send:function(p,g){var v,w=a.xhr();if(w.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(v in a.xhrFields)w[v]=a.xhrFields[v];for(v in a.mimeType&&w.overrideMimeType&&w.overrideMimeType(a.mimeType),a.crossDomain||p["X-Requested-With"]||(p["X-Requested-With"]="XMLHttpRequest"),p)w.setRequestHeader(v,p[v]);u=function(C){return function(){u&&(u=h=w.onload=w.onerror=w.onabort=w.ontimeout=w.onreadystatechange=null,C==="abort"?w.abort():C==="error"?typeof w.status!="number"?g(0,"error"):g(w.status,w.statusText):g(yx[w.status]||w.status,w.statusText,(w.responseType||"text")!=="text"||typeof w.responseText!="string"?{binary:w.response}:{text:w.responseText},w.getAllResponseHeaders()))}},w.onload=u(),h=w.onerror=w.ontimeout=u("error"),w.onabort!==void 0?w.onabort=h:w.onreadystatechange=function(){w.readyState===4&&e.setTimeout(function(){u&&h()})},u=u("abort");try{w.send(a.hasContent&&a.data||null)}catch(C){if(u)throw C}},abort:function(){u&&u()}}}),d.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return d.globalEval(a),a}}}),d.ajaxPrefilter("script",function(a){a.cache===void 0&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),d.ajaxTransport("script",function(a){var u,h;if(a.crossDomain||a.scriptAttrs)return{send:function(p,g){u=d("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",h=function(v){u.remove(),h=null,v&&g(v.type==="error"?404:200,v.type)}),S.head.appendChild(u[0])},abort:function(){h&&h()}}});var Fy,Uy=[],hd=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Uy.pop()||d.expando+"_"+Ny.guid++;return this[a]=!0,a}}),d.ajaxPrefilter("json jsonp",function(a,u,h){var p,g,v,w=a.jsonp!==!1&&(hd.test(a.url)?"url":typeof a.data=="string"&&(a.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&hd.test(a.data)&&"data");if(w||a.dataTypes[0]==="jsonp")return p=a.jsonpCallback=N(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,w?a[w]=a[w].replace(hd,"$1"+p):a.jsonp!==!1&&(a.url+=(od.test(a.url)?"&":"?")+a.jsonp+"="+p),a.converters["script json"]=function(){return v||d.error(p+" was not called"),v[0]},a.dataTypes[0]="json",g=e[p],e[p]=function(){v=arguments},h.always(function(){g===void 0?d(e).removeProp(p):e[p]=g,a[p]&&(a.jsonpCallback=u.jsonpCallback,Uy.push(p)),v&&N(g)&&g(v[0]),v=g=void 0}),"script"}),k.createHTMLDocument=((Fy=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",Fy.childNodes.length===2),d.parseHTML=function(a,u,h){return typeof a!="string"?[]:(typeof u=="boolean"&&(h=u,u=!1),u||(k.createHTMLDocument?((p=(u=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,u.head.appendChild(p)):u=S),v=!h&&[],(g=et.exec(a))?[u.createElement(g[1])]:(g=py([a],u,v),v&&v.length&&d(v).remove(),d.merge([],g.childNodes)));var p,g,v},d.fn.load=function(a,u,h){var p,g,v,w=this,C=a.indexOf(" ");return-1<C&&(p=ji(a.slice(C)),a=a.slice(0,C)),N(u)?(h=u,u=void 0):u&&typeof u=="object"&&(g="POST"),0<w.length&&d.ajax({url:a,type:g||"GET",dataType:"html",data:u}).done(function(x){v=arguments,w.html(p?d("<div>").append(d.parseHTML(x)).find(p):x)}).always(h&&function(x,D){w.each(function(){h.apply(this,v||[x.responseText,D,x])})}),this},d.expr.pseudos.animated=function(a){return d.grep(d.timers,function(u){return a===u.elem}).length},d.offset={setOffset:function(a,u,h){var p,g,v,w,C,x,D=d.css(a,"position"),V=d(a),F={};D==="static"&&(a.style.position="relative"),C=V.offset(),v=d.css(a,"top"),x=d.css(a,"left"),(D==="absolute"||D==="fixed")&&-1<(v+x).indexOf("auto")?(w=(p=V.position()).top,g=p.left):(w=parseFloat(v)||0,g=parseFloat(x)||0),N(u)&&(u=u.call(a,h,d.extend({},C))),u.top!=null&&(F.top=u.top-C.top+w),u.left!=null&&(F.left=u.left-C.left+g),"using"in u?u.using.call(a,F):V.css(F)}},d.fn.extend({offset:function(a){if(arguments.length)return a===void 0?this:this.each(function(g){d.offset.setOffset(this,a,g)});var u,h,p=this[0];return p?p.getClientRects().length?(u=p.getBoundingClientRect(),h=p.ownerDocument.defaultView,{top:u.top+h.pageYOffset,left:u.left+h.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,u,h,p=this[0],g={top:0,left:0};if(d.css(p,"position")==="fixed")u=p.getBoundingClientRect();else{for(u=this.offset(),h=p.ownerDocument,a=p.offsetParent||h.documentElement;a&&(a===h.body||a===h.documentElement)&&d.css(a,"position")==="static";)a=a.parentNode;a&&a!==p&&a.nodeType===1&&((g=d(a).offset()).top+=d.css(a,"borderTopWidth",!0),g.left+=d.css(a,"borderLeftWidth",!0))}return{top:u.top-g.top-d.css(p,"marginTop",!0),left:u.left-g.left-d.css(p,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&d.css(a,"position")==="static";)a=a.offsetParent;return a||Li})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,u){var h=u==="pageYOffset";d.fn[a]=function(p){return vr(this,function(g,v,w){var C;if(j(g)?C=g:g.nodeType===9&&(C=g.defaultView),w===void 0)return C?C[u]:g[v];C?C.scrollTo(h?C.pageXOffset:w,h?w:C.pageYOffset):g[v]=w},a,p,arguments.length)}}),d.each(["top","left"],function(a,u){d.cssHooks[u]=wy(k.pixelPosition,function(h,p){if(p)return p=Qo(h,u),ed.test(p)?d(h).position()[u]+"px":p})}),d.each({Height:"height",Width:"width"},function(a,u){d.each({padding:"inner"+a,content:u,"":"outer"+a},function(h,p){d.fn[p]=function(g,v){var w=arguments.length&&(h||typeof g!="boolean"),C=h||(g===!0||v===!0?"margin":"border");return vr(this,function(x,D,V){var F;return j(x)?p.indexOf("outer")===0?x["inner"+a]:x.document.documentElement["client"+a]:x.nodeType===9?(F=x.documentElement,Math.max(x.body["scroll"+a],F["scroll"+a],x.body["offset"+a],F["offset"+a],F["client"+a])):V===void 0?d.css(x,D,C):d.style(x,D,V,C)},u,w?g:void 0,w)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,u){d.fn[u]=function(h){return this.on(u,h)}}),d.fn.extend({bind:function(a,u,h){return this.on(a,null,u,h)},unbind:function(a,u){return this.off(a,null,u)},delegate:function(a,u,h,p){return this.on(u,a,h,p)},undelegate:function(a,u,h){return arguments.length===1?this.off(a,"**"):this.off(u,a||"**",h)},hover:function(a,u){return this.on("mouseenter",a).on("mouseleave",u||a)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,u){d.fn[u]=function(h,p){return 0<arguments.length?this.on(u,null,h,p):this.trigger(u)}});var vx=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(a,u){var h,p,g;if(typeof u=="string"&&(h=a[u],u=a,a=h),N(a))return p=s.call(arguments,2),(g=function(){return a.apply(u||this,p.concat(s.call(arguments)))}).guid=a.guid=a.guid||d.guid++,g},d.holdReady=function(a){a?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=se,d.isFunction=N,d.isWindow=j,d.camelCase=Kn,d.type=b,d.now=Date.now,d.isNumeric=function(a){var u=d.type(a);return(u==="number"||u==="string")&&!isNaN(a-parseFloat(a))},d.trim=function(a){return a==null?"":(a+"").replace(vx,"$1")};var _x=e.jQuery,wx=e.$;return d.noConflict=function(a){return e.$===d&&(e.$=wx),a&&e.jQuery===d&&(e.jQuery=_x),d},typeof n>"u"&&(e.jQuery=e.$=d),d})})(YR);var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,m=s>>2,_=(s&3)<<4|l>>4;let E=(l&15)<<2|f>>6,R=f&63;c||(R=64,o||(E=64)),r.push(n[m],n[_],n[E],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||_==null)throw new ZR;const E=s<<2|l>>4;if(r.push(E),f!==64){const R=l<<4&240|f>>2;if(r.push(R),_!==64){const k=f<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ek=function(t){const e=hT(t);return dT.encodeByteArray(e,!0)},Pc=function(t){return ek(t).replace(/\./g,"")},fT=function(t){try{return dT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=()=>tk().__FIREBASE_DEFAULTS__,rk=()=>{if(typeof process>"u"||typeof l_>"u")return;const t=l_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ik=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fT(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return nk()||rk()||ik()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pT=t=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mT=t=>{const e=pT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gT=()=>{var t;return(t=gh())===null||t===void 0?void 0:t.config},yT=t=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ok(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function ak(){var t;const e=(t=gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ck(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hk(){return!ak()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function dk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fk,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pk(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new gr(i,l,r)}}function pk(t,e){return t.replace(mk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mk=/\{\$([^}]+)}/g;function gk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(u_(s)&&u_(o)){if(!Nc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function va(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yk(t,e){const n=new vk(t,e);return n.subscribe.bind(n)}class vk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_k(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hd),i.error===void 0&&(i.error=Hd),i.complete===void 0&&(i.complete=Hd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _k(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class Ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tk(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ek(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ek(t){return t===qi?void 0:t}function Tk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const Sk={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},xk=xe.INFO,Ak={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Ck=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ak[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=xk,this._logHandler=Ck,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const Rk=(t,e)=>e.some(n=>t instanceof n);let c_,h_;function kk(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pk(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,lp=new WeakMap,ET=new WeakMap,Wd=new WeakMap,Um=new WeakMap;function Nk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,t)}).catch(()=>{}),Um.set(e,t),e}function Dk(t){if(lp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lp.set(t,e)}let up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bk(t){up=t(up)}function Ok(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kd(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),yi(r)}:Pk().includes(t)?function(...e){return t.apply(Kd(this),e),yi(wT.get(this))}:function(...e){return yi(t.apply(Kd(this),e))}}function Lk(t){return typeof t=="function"?Ok(t):(t instanceof IDBTransaction&&Dk(t),Rk(t,kk())?new Proxy(t,up):t)}function yi(t){if(t instanceof IDBRequest)return Nk(t);if(Wd.has(t))return Wd.get(t);const e=Lk(t);return e!==t&&(Wd.set(t,e),Um.set(e,t)),e}const Kd=t=>Um.get(t);function Vk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=yi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(yi(o.result),c.oldVersion,c.newVersion,yi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const jk=["get","getKey","getAll","getAllKeys","count"],Mk=["put","add","delete","clear"],Gd=new Map;function d_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Mk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jk.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Gd.set(e,s),s}bk(t=>({...t,get:(e,n,r)=>d_(e,n)||t.get(e,n,r),has:(e,n)=>!!d_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Uk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cp="@firebase/app",f_="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Fm("@firebase/app"),$k="@firebase/app-compat",Bk="@firebase/analytics-compat",zk="@firebase/analytics",qk="@firebase/app-check-compat",Hk="@firebase/app-check",Wk="@firebase/auth",Kk="@firebase/auth-compat",Gk="@firebase/database",Qk="@firebase/database-compat",Xk="@firebase/functions",Yk="@firebase/functions-compat",Jk="@firebase/installations",Zk="@firebase/installations-compat",eP="@firebase/messaging",tP="@firebase/messaging-compat",nP="@firebase/performance",rP="@firebase/performance-compat",iP="@firebase/remote-config",sP="@firebase/remote-config-compat",oP="@firebase/storage",aP="@firebase/storage-compat",lP="@firebase/firestore",uP="@firebase/firestore-compat",cP="firebase",hP="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",dP={[cp]:"fire-core",[$k]:"fire-core-compat",[zk]:"fire-analytics",[Bk]:"fire-analytics-compat",[Hk]:"fire-app-check",[qk]:"fire-app-check-compat",[Wk]:"fire-auth",[Kk]:"fire-auth-compat",[Gk]:"fire-rtdb",[Qk]:"fire-rtdb-compat",[Xk]:"fire-fn",[Yk]:"fire-fn-compat",[Jk]:"fire-iid",[Zk]:"fire-iid-compat",[eP]:"fire-fcm",[tP]:"fire-fcm-compat",[nP]:"fire-perf",[rP]:"fire-perf-compat",[iP]:"fire-rc",[sP]:"fire-rc-compat",[oP]:"fire-gcs",[aP]:"fire-gcs-compat",[lP]:"fire-fst",[uP]:"fire-fst-compat","fire-js":"fire-js",[cP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,dp=new Map;function fP(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(dp.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,t);for(const n of Dc.values())fP(n,t);return!0}function yh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vi=new Pl("app","Firebase",pP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=hP;function TT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=gT()),!n)throw vi.create("no-options");const s=Dc.get(i);if(s){if(Nc(n,s.options)&&Nc(r,s.config))return s;throw vi.create("duplicate-app",{appName:i})}const o=new Ik(i);for(const c of dp.values())o.addComponent(c);const l=new mP(n,r,o);return Dc.set(i,l),l}function $m(t=hp){const e=Dc.get(t);if(!e&&t===hp&&gT())return TT();if(!e)throw vi.create("no-app",{appName:t});return e}function ur(t,e,n){var r;let i=(r=dP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(l.join(" "));return}hs(new Ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firebase-heartbeat-database",yP=1,ol="firebase-heartbeat-store";let Qd=null;function IT(){return Qd||(Qd=Vk(gP,yP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),Qd}async function vP(t){try{const n=(await IT()).transaction(ol),r=await n.objectStore(ol).get(ST(t));return await n.done,r}catch(e){if(e instanceof gr)cs.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(n.message)}}}async function p_(t,e){try{const r=(await IT()).transaction(ol,"readwrite");await r.objectStore(ol).put(e,ST(t)),await r.done}catch(n){if(n instanceof gr)cs.warn(n.message);else{const r=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cs.warn(r.message)}}}function ST(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1024,wP=30*24*60*60*1e3;class EP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=m_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=wP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m_(),{heartbeatsToSend:r,unsentEntries:i}=TP(this._heartbeatsCache.heartbeats),s=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function m_(){return new Date().toISOString().substring(0,10)}function TP(t,e=_P){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),g_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?dk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g_(t){return Pc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){hs(new Ti("platform-logger",e=>new Fk(e),"PRIVATE")),hs(new Ti("heartbeat",e=>new EP(e),"PRIVATE")),ur(cp,f_,t),ur(cp,f_,"esm2017"),ur("fire-js","")}SP("");var xP="firebase",AP="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(xP,AP,"app");function Bm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CP=xT,AT=new Pl("auth","Firebase",xT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Fm("@firebase/auth");function RP(t,...e){bc.logLevel<=xe.WARN&&bc.warn(`Auth (${Ts}): ${t}`,...e)}function Xu(t,...e){bc.logLevel<=xe.ERROR&&bc.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw zm(t,...e)}function cr(t,...e){return zm(t,...e)}function CT(t,e,n){const r=Object.assign(Object.assign({},CP()),{[e]:n});return new Pl("auth","Firebase",r).create(e,{appName:t.name})}function kP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(t,"argument-error"),CT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AT.create(t,...e)}function fe(t,e,...n){if(!t)throw zm(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function Lr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PP(){return y_()==="http:"||y_()==="https:"}function y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PP()||lk()||"connection"in navigator)?navigator.onLine:!0}function DP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=ok()||uk()}get(){return NP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Dl(3e4,6e4);function ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fr(t,e,n,r,i={}){return kT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Nl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),RT.fetch()(PT(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function kT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bP),e);try{const i=new VP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Au(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Au(t,"user-disabled",o);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw CT(t,m,f);Pn(t,m)}}catch(i){if(i instanceof gr)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function bl(t,e,n,r,i={}){const s=await Fr(t,e,n,r,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?qm(t.config,i):`${t.config.apiScheme}://${i}`}function LP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),OP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}function v_(t){return t!==void 0&&t.enterprise!==void 0}class jP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function MP(t,e){return Fr(t,"GET","/v2/recaptchaConfig",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function UP(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $P(t,e=!1){const n=dt(t),r=await n.getIdToken(e),i=Hm(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ba(Xd(i.auth_time)),issuedAtTime:ba(Xd(i.iat)),expirationTime:ba(Xd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xd(t){return Number(t)*1e3}function Hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const i=fT(n);return i?JSON.parse(i):(Xu("Failed to decode base64 JWT payload"),null)}catch(i){return Xu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BP(t){const e=Hm(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&zP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Eo(t,UP(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KP(s.providerUserInfo):[],l=WP(t.providerData,o),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),m=c?f:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new NT(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function HP(t){const e=dt(t);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KP(t){return t.map(e=>{var{providerId:n}=e,r=Bm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t,e){const n=await kT(t,{},async()=>{const r=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PT(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",RT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QP(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return fe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await GP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new al;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new NT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $P(this,e)}reload(){return HP(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Eo(this,FP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,f,m;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,R=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,j=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(f=n.createdAt)!==null&&f!==void 0?f:void 0,I=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:A,emailVerified:b,isAnonymous:U,providerData:K,stsTokenManager:d}=n;fe(A&&d,e,"internal-error");const J=al.fromJSON(this.name,d);fe(typeof A=="string",e,"internal-error"),Wr(_,e.name),Wr(E,e.name),fe(typeof b=="boolean",e,"internal-error"),fe(typeof U=="boolean",e,"internal-error"),Wr(R,e.name),Wr(k,e.name),Wr(N,e.name),Wr(j,e.name),Wr(S,e.name),Wr(I,e.name);const se=new ns({uid:A,auth:e,email:E,emailVerified:b,displayName:_,isAnonymous:U,photoURL:k,phoneNumber:R,tenantId:N,stsTokenManager:J,createdAt:S,lastLoginAt:I});return K&&Array.isArray(K)&&(se.providerData=K.map(we=>Object.assign({},we))),j&&(se._redirectEventId=j),se}static async _fromIdTokenResponse(e,n,r=!1){const i=new al;i.updateFromServerResponse(n);const s=new ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;function Ar(t){Lr(t instanceof Function,"Expected a class definition");let e=__.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,__.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DT.type="NONE";const w_=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e,n){return`firebase:${t}:${e}:${n}`}class ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ao(Ar(w_),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ar(w_);const o=Yu(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const m=await f._get(o);if(m){const _=ns._fromJSON(e,m);f!==s&&(l=_),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ao(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new ao(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jT(e))return"Blackberry";if(MT(e))return"Webos";if(Wm(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bT(t=ht()){return/firefox\//i.test(t)}function Wm(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(t=ht()){return/crios\//i.test(t)}function LT(t=ht()){return/iemobile/i.test(t)}function VT(t=ht()){return/android/i.test(t)}function jT(t=ht()){return/blackberry/i.test(t)}function MT(t=ht()){return/webos/i.test(t)}function vh(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XP(t=ht()){var e;return vh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YP(){return ck()&&document.documentMode===10}function FT(t=ht()){return vh(t)||VT(t)||MT(t)||jT(t)||/windows phone/i.test(t)||LT(t)}function JP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e=[]){let n;switch(t){case"Browser":n=E_(ht());break;case"Worker":n=`${E_(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=6;class nN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new ZP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eN(this),n=new nN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pi(t){return dt(t)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yk(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iN(t){_h=t}function $T(t){return _h.loadJS(t)}function sN(){return _h.recaptchaEnterpriseScript}function oN(){return _h.gapiScript}function aN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const lN="recaptcha-enterprise",uN="NO_RECAPTCHA";class cN{constructor(e){this.type=lN,this.auth=Pi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{MP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new jP(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;v_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{o(f)}).catch(()=>{o(uN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&v_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=sN();c.length!==0&&(c+=l),$T(c).then(()=>{i(l,s,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function I_(t,e,n,r=!1){const i=new cN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function pp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await I_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await I_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){const n=yh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Nc(s,e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}function dN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fN(t,e,n){const r=Pi(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=BT(e),{host:o,port:l}=pN(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||mN()}function BT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pN(t){const e=BT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:S_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:S_(o)}}}function S_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function gN(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e){return bl(t,"POST","/v1/accounts:signInWithPassword",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e){return bl(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}async function _N(t,e){return bl(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Km{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",yN);case"emailLink":return vN(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,r,"signUpPassword",gN);case"emailLink":return _N(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e){return bl(t,"POST","/v1/accounts:signInWithIdp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="http://localhost";class ds extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Bm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ds(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TN(t){const e=va(_a(t)).link,n=e?va(_a(e)).deep_link_id:null,r=va(_a(t)).deep_link_id;return(r?va(_a(r)).link:null)||r||n||e||t}class Gm{constructor(e){var n,r,i,s,o,l;const c=va(_a(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,_=EN((i=c.mode)!==null&&i!==void 0?i:null);fe(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=TN(e);try{return new Gm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gm.parseLink(n);return fe(r,"argument-error"),ll._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Ol{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ds._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Ol{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Ol{constructor(){super("twitter.com")}static credential(e,n){return ds._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){return bl(t,"POST","/v1/accounts:signUp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ns._fromIdTokenResponse(e,r,i),o=x_(r);return new fs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x_(r);return new fs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lc(e,n,r,i)}}function zT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(t,s,e,r):s})}async function SN(t,e,n=!1){const r=await Eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Eo(t,zT(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=Hm(s.idToken);fe(o,r,"internal-error");const{sub:l}=o;return fe(t.uid===l,r,"user-mismatch"),fs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(t,e,n=!1){const r="signIn",i=await zT(t,r,e),s=await fs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function AN(t,e){return qT(Pi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(t){const e=Pi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CN(t,e,n){const r=Pi(t),o=await pp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IN).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&HT(t),c}),l=await fs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function RN(t,e,n){return AN(dt(t),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){return Fr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=dt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Eo(r,kN(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function NN(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function DN(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function bN(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function ON(t){return dt(t).signOut()}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){const t=ht();return Wm(t)||vh(t)}const VN=1e3,jN=10;class KT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LN()&&JP(),this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const MN=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GT.type="SESSION";const QT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,s)),c=await FN(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const f=Xm("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(E.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function $N(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function BN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qN(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",HN=1,jc="firebaseLocalStorage",JT="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(t,e){return t.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function WN(){const t=indexedDB.deleteDatabase(YT);return new Ll(t).toPromise()}function mp(){const t=indexedDB.open(YT,HN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jc,{keyPath:JT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jc)?e(r):(r.close(),await WN(),e(await mp()))})})}async function A_(t,e,n){const r=Eh(t,!0).put({[JT]:e,value:n});return new Ll(r).toPromise()}async function KN(t,e){const n=Eh(t,!1).get(e),r=await new Ll(n).toPromise();return r===void 0?null:r.value}function C_(t,e){const n=Eh(t,!0).delete(e);return new Ll(n).toPromise()}const GN=800,QN=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(qN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BN(),!this.activeServiceWorker)return;this.sender=new UN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await A_(e,Vc,"1"),await C_(e,Vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Eh(i,!1).getAll();return new Ll(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const XN=ZT;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){return e?Ar(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YN(t){return qT(t.auth,new Ym(t),t.bypassAuthState)}function JN(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),xN(n,new Ym(t),t.bypassAuthState)}async function ZN(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),SN(n,new Ym(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return ZN;case"reauthViaPopup":case"reauthViaRedirect":return JN;default:Pn(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Dl(2e3,1e4);async function tD(t,e,n){const r=Pi(t);kP(t,e,Qm);const i=e1(r,n);return new Qi(r,"signInViaPopup",e,i).executeNotNull()}class Qi extends t1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qi.currentPopupAction&&Qi.currentPopupAction.cancel(),Qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eD.get())};e()}}Qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="pendingRedirect",Ju=new Map;class rD extends t1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ju.get(this.auth._key());if(!e){try{const r=await iD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ju.set(this.auth._key(),e)}return this.bypassAuthState||Ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iD(t,e){const n=aD(e),r=oD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sD(t,e){Ju.set(t._key(),e)}function oD(t){return Ar(t._redirectPersistence)}function aD(t){return Yu(nD,t.config.apiKey,t.name)}async function lD(t,e,n=!1){const r=Pi(t),i=e1(r,e),o=await new rD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=10*60*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uD&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pD=/^https?/;async function mD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dD(t);for(const n of e)try{if(gD(n))return}catch{}Pn(t,"unauthorized-domain")}function gD(t){const e=fp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pD.test(n))return!1;if(fD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Dl(3e4,6e4);function k_(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vD(t){return new Promise((e,n)=>{var r,i,s;function o(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(cr(t,"network-request-failed"))},timeout:yD.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hr().gapi)===null||s===void 0)&&s.load)o();else{const l=aN("iframefcb");return hr()[l]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},$T(`${oN()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zu=null,e})}let Zu=null;function _D(t){return Zu=Zu||vD(t),Zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new Dl(5e3,15e3),ED="__/auth/iframe",TD="emulator/auth/iframe",ID={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xD(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qm(e,TD):`https://${t.config.authDomain}/${ED}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},i=SD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nl(r).slice(1)}`}async function AD(t){const e=await _D(t),n=hr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:xD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ID,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),l=hr().setTimeout(()=>{s(o)},wD.get());function c(){hr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RD=500,kD=600,PD="_blank",ND="http://localhost";class P_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DD(t,e,n,r=RD,i=kD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},CD),{width:r.toString(),height:i.toString(),top:s,left:o}),f=ht().toLowerCase();n&&(l=OT(f)?PD:n),bT(f)&&(e=e||ND,c.scrollbars="yes");const m=Object.entries(c).reduce((E,[R,k])=>`${E}${R}=${k},`,"");if(XP(f)&&l!=="_self")return bD(e||"",l),new P_(null);const _=window.open(e||"",l,m);fe(_,t,"popup-blocked");try{_.focus()}catch{}return new P_(_)}function bD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="__/auth/handler",LD="emulator/auth/handler",VD=encodeURIComponent("fac");async function N_(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:i};if(e instanceof Qm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries(s||{}))o[m]=_}if(e instanceof Ol){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const c=await t._getAppCheckToken(),f=c?`#${VD}=${encodeURIComponent(c)}`:"";return`${jD(t)}?${Nl(l).slice(1)}${f}`}function jD({config:t}){return t.emulator?qm(t,LD):`https://${t.authDomain}/${OD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=lD,this._overrideRedirectResult=sD}async _openPopup(e,n,r,i){var s;Lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await N_(e,n,r,fp(),i);return DD(e,o,Xm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await N_(e,n,r,fp(),i);return $N(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AD(e),r=new cD(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yd,{type:Yd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Yd];o!==void 0&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||Wm()||vh()}}const FD=MD;var D_="@firebase/auth",b_="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BD(t){hs(new Ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(t)},f=new rN(r,i,s,c);return dN(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new Ti("auth-internal",e=>{const n=Pi(e.getProvider("auth").getImmediate());return(r=>new UD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(D_,b_,$D(t)),ur(D_,b_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=5*60,qD=yT("authIdTokenMaxAge")||zD;let O_=null;const HD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qD)return;const i=n==null?void 0:n.token;O_!==i&&(O_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uo(t=$m()){const e=yh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hN(t,{popupRedirectResolver:FD,persistence:[XN,MN,QT]}),r=yT("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=HD(r);DN(n,s,()=>s(n.currentUser)),NN(n,o=>s(o))}const i=pT("auth");return i&&fN(n,`http://${i}`),n}function WD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",WD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BD("Browser");var KD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Jm=Jm||{},ge=KD||self;function Th(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function GD(t){return Object.prototype.hasOwnProperty.call(t,Jd)&&t[Jd]||(t[Jd]=++QD)}var Jd="closure_uid_"+(1e9*Math.random()>>>0),QD=0;function XD(t,e,n){return t.call.apply(t.bind,arguments)}function YD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=XD:Ut=YD,Ut.apply(null,arguments)}function Cu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function Ni(){this.s=this.s,this.o=this.o}var JD=0;Ni.prototype.s=!1;Ni.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),JD!=0)&&GD(this)};Ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function L_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Th(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var ZD=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ge.addEventListener("test",n,e),ge.removeEventListener("test",n,e)}catch{}return t}();function ul(t){return/^[\s\xa0]*$/.test(t)}function Ih(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function rr(t){return Ih().indexOf(t)!=-1}function eg(t){return eg[" "](t),t}eg[" "]=function(){};function eb(t,e){var n=Wb;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tb=rr("Opera"),To=rr("Trident")||rr("MSIE"),i1=rr("Edge"),gp=i1||To,s1=rr("Gecko")&&!(Ih().toLowerCase().indexOf("webkit")!=-1&&!rr("Edge"))&&!(rr("Trident")||rr("MSIE"))&&!rr("Edge"),nb=Ih().toLowerCase().indexOf("webkit")!=-1&&!rr("Edge");function o1(){var t=ge.document;return t?t.documentMode:void 0}var yp;e:{var Zd="",ef=function(){var t=Ih();if(s1)return/rv:([^\);]+)(\)|;)/.exec(t);if(i1)return/Edge\/([\d\.]+)/.exec(t);if(To)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nb)return/WebKit\/(\S+)/.exec(t);if(tb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ef&&(Zd=ef?ef[1]:""),To){var tf=o1();if(tf!=null&&tf>parseFloat(Zd)){yp=String(tf);break e}}yp=Zd}var vp;if(ge.document&&To){var V_=o1();vp=V_||parseInt(yp,10)||void 0}else vp=void 0;var rb=vp;function cl(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s1){e:{try{eg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ib[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cl.$.h.call(this)}}St(cl,$t);var ib={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jl="closure_listenable_"+(1e6*Math.random()|0),sb=0;function ob(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++sb,this.fa=this.ia=!1}function Sh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ab(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function a1(t){const e={};for(const n in t)e[n]=t[n];return e}const j_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<j_.length;s++)n=j_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xh(t){this.src=t,this.g={},this.h=0}xh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=wp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ob(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function _p(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=r1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ng="closure_lm_"+(1e6*Math.random()|0),nf={};function u1(t,e,n,r,i){if(r&&r.once)return h1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)u1(t,e[s],n,r,i);return null}return n=sg(n),t&&t[jl]?t.O(e,n,Vl(r)?!!r.capture:!!r,i):c1(t,e,n,!1,r,i)}function c1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Vl(i)?!!i.capture:!!i,l=ig(t);if(l||(t[ng]=l=new xh(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=lb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ZD||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lb(){function t(n){return e.call(t.src,t.listener,n)}const e=ub;return t}function h1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)h1(t,e[s],n,r,i);return null}return n=sg(n),t&&t[jl]?t.P(e,n,Vl(r)?!!r.capture:!!r,i):c1(t,e,n,!0,r,i)}function d1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)d1(t,e[s],n,r,i);else r=Vl(r)?!!r.capture:!!r,n=sg(n),t&&t[jl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=wp(s,n,r,i),-1<n&&(Sh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ig(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wp(e,n,r,i)),(n=-1<t?e[t]:null)&&rg(n))}function rg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[jl])_p(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ig(e))?(_p(n,t),n.h==0&&(n.src=null,e[ng]=null)):Sh(t)}}}function f1(t){return t in nf?nf[t]:nf[t]="on"+t}function ub(t,e){if(t.fa)t=!0;else{e=new cl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rg(t),t=n.call(r,e)}return t}function ig(t){return t=t[ng],t instanceof xh?t:null}var rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function sg(t){return typeof t=="function"?t:(t[rf]||(t[rf]=function(e){return t.handleEvent(e)}),t[rf])}function It(){Ni.call(this),this.i=new xh(this),this.S=this,this.J=null}St(It,Ni);It.prototype[jl]=!0;It.prototype.removeEventListener=function(t,e,n,r){d1(this,t,e,n,r)};function Pt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var i=e;e=new $t(r,t),l1(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ru(o,r,!0,e)&&i}if(o=e.g=t,i=Ru(o,r,!0,e)&&i,i=Ru(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ru(o,r,!1,e)&&i}It.prototype.N=function(){if(It.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sh(n[r]);delete t.g[e],t.h--}}this.J=null};It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};It.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ru(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&_p(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var og=ge.JSON.stringify;class cb{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hb(){var t=ag;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class db{constructor(){this.h=this.g=null}add(e,n){const r=p1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var p1=new cb(()=>new fb,t=>t.reset());class fb{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pb(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function mb(t){ge.setTimeout(()=>{throw t},0)}let hl,dl=!1,ag=new db,m1=()=>{const t=ge.Promise.resolve(void 0);hl=()=>{t.then(gb)}};var gb=()=>{for(var t;t=hb();){try{t.h.call(t.g)}catch(n){mb(n)}var e=p1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dl=!1};function Ah(t,e){It.call(this),this.h=t||1,this.g=e||ge,this.j=Ut(this.qb,this),this.l=Date.now()}St(Ah,It);Q=Ah.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pt(this,"tick"),this.ga&&(lg(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Ah.$.N.call(this),lg(this),delete this.g};function ug(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function g1(t){t.g=ug(()=>{t.g=null,t.i&&(t.i=!1,g1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class yb extends Ni{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g1(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fl(t){Ni.call(this),this.h=t,this.g={}}St(fl,Ni);var M_=[];function y1(t,e,n,r){Array.isArray(n)||(n&&(M_[0]=n.toString()),n=M_);for(var i=0;i<n.length;i++){var s=u1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function v1(t){tg(t.g,function(e,n){this.g.hasOwnProperty(n)&&rg(e)},t),t.g={}}fl.prototype.N=function(){fl.$.N.call(this),v1(this)};fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ch(){this.g=!0}Ch.prototype.Ea=function(){this.g=!1};function vb(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var f=l[c].split("=");if(1<f.length){var m=f[0];f=f[1];var _=m.split("_");o=2<=_.length&&_[1]=="type"?o+(m+"="+f+"&"):o+(m+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function _b(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function eo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Eb(t,n)+(r?" "+r:"")})}function wb(t,e){t.info(function(){return"TIMEOUT: "+e})}Ch.prototype.info=function(){};function Eb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return og(n)}catch{return e}}var Is={},F_=null;function Rh(){return F_=F_||new It}Is.Ta="serverreachability";function _1(t){$t.call(this,Is.Ta,t)}St(_1,$t);function pl(t){const e=Rh();Pt(e,new _1(e))}Is.STAT_EVENT="statevent";function w1(t,e){$t.call(this,Is.STAT_EVENT,t),this.stat=e}St(w1,$t);function Gt(t){const e=Rh();Pt(e,new w1(e,t))}Is.Ua="timingevent";function E1(t,e){$t.call(this,Is.Ua,t),this.size=e}St(E1,$t);function Ml(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var kh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cg(){}cg.prototype.h=null;function U_(t){return t.h||(t.h=t.i())}function I1(){}var Fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hg(){$t.call(this,"d")}St(hg,$t);function dg(){$t.call(this,"c")}St(dg,$t);var Ep;function Ph(){}St(Ph,cg);Ph.prototype.g=function(){return new XMLHttpRequest};Ph.prototype.i=function(){return{}};Ep=new Ph;function Ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fl(this),this.P=Tb,t=gp?125:void 0,this.V=new Ah(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new S1}function S1(){this.i=null,this.g="",this.h=!1}var Tb=45e3,x1={},Tp={};Q=Ul.prototype;Q.setTimeout=function(t){this.P=t};function Ip(t,e,n){t.L=1,t.A=Dh(Vr(e)),t.u=n,t.S=!0,A1(t,null)}function A1(t,e){t.G=Date.now(),$l(t),t.B=Vr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),O1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new S1,t.g=tI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new yb(Ut(t.Pa,t,t.g),t.O)),y1(t.U,t.g,"readystatechange",t.nb),e=t.I?a1(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),pl(),vb(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&ir(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const m=ir(this.g);var e=this.g.Ia();const _=this.g.da();if(!(3>m)&&(m!=3||gp||this.g&&(this.h.h||this.g.ja()||q_(this.g)))){this.J||m!=4||e==7||(e==8||0>=_?pl(3):pl(2)),Nh(this);var n=this.g.da();this.ca=n;t:if(C1(this)){var r=q_(this.g);t="";var i=r.length,s=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),Oa(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,_b(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ul(l)){var f=l;break t}}f=null}if(n=f)eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sp(this,n);else{this.i=!1,this.s=3,Gt(12),Xi(this),Oa(this);break e}}this.S?(R1(this,m,o),gp&&this.i&&m==3&&(y1(this.U,this.V,"tick",this.mb),this.V.start())):(eo(this.j,this.m,o,null),Sp(this,o)),m==4&&Xi(this),this.i&&!this.J&&(m==4?Y1(this.l,this):(this.i=!1,$l(this)))}else zb(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Xi(this),Oa(this)}}}catch{}finally{}};function C1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function R1(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Ib(t,n),i==Tp){e==4&&(t.s=4,Gt(14),r=!1),eo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==x1){t.s=4,Gt(15),eo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else eo(t.j,t.m,i,null),Sp(t,i);C1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vg(e),e.M=!0,Gt(11))):(eo(t.j,t.m,n,"[Invalid Chunked Response]"),Xi(t),Oa(t))}Q.mb=function(){if(this.g){var t=ir(this.g),e=this.g.ja();this.o<e.length&&(Nh(this),R1(this,t,e),this.i&&t!=4&&$l(this))}};function Ib(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Tp:(n=Number(e.substring(n,r)),isNaN(n)?x1:(r+=1,r+n>e.length?Tp:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,Xi(this)};function $l(t){t.Y=Date.now()+t.P,k1(t,t.P)}function k1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ml(Ut(t.lb,t),e)}function Nh(t){t.C&&(ge.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(wb(this.j,this.B),this.L!=2&&(pl(),Gt(17)),Xi(this),this.s=2,Oa(this)):k1(this,this.Y-t)};function Oa(t){t.l.H==0||t.J||Y1(t.l,t)}function Xi(t){Nh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lg(t.V),v1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||xp(n.i,t))){if(!t.K&&xp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Uc(n),Vh(n);else break e;yg(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ml(Ut(n.ib,n),6e3));if(1>=j1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Yi(n,11)}else if((t.K||n.g==t)&&Uc(n),!ul(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const m=f[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const _=f[4];_!=null&&(n.Ga=_,n.l.info("SVER="+n.Ga));const E=f[5];E!=null&&typeof E=="number"&&0<E&&(r=1.5*E,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const R=t.g;if(R){const k=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var s=r.i;s.g||k.indexOf("spdy")==-1&&k.indexOf("quic")==-1&&k.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(fg(s,s.h),s.h=null))}if(r.F){const N=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(r.Da=N,Ue(r.I,r.F,N))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=eI(r,r.J?r.pa:null,r.Y),o.K){M1(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(Nh(l),$l(l)),r.g=o}else Q1(r);0<n.j.length&&jh(n)}else f[0]!="stop"&&f[0]!="close"||Yi(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Yi(n,7):gg(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}pl(4)}catch{}}function Sb(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Th(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function xb(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Th(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function P1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Th(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=xb(t),r=Sb(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var N1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ab(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function rs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rs){this.h=t.h,Mc(this,t.j),this.s=t.s,this.g=t.g,Fc(this,t.m),this.l=t.l;var e=t.i,n=new ml;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$_(this,n),this.o=t.o}else t&&(e=String(t).match(N1))?(this.h=!1,Mc(this,e[1]||"",!0),this.s=wa(e[2]||""),this.g=wa(e[3]||"",!0),Fc(this,e[4]),this.l=wa(e[5]||"",!0),$_(this,e[6]||"",!0),this.o=wa(e[7]||"")):(this.h=!1,this.i=new ml(null,this.h))}rs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ea(e,B_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ea(e,B_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ea(n,n.charAt(0)=="/"?kb:Rb,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ea(n,Nb)),t.join("")};function Vr(t){return new rs(t)}function Mc(t,e,n){t.j=n?wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $_(t,e,n){e instanceof ml?(t.i=e,Db(t.i,t.h)):(n||(e=Ea(e,Pb)),t.i=new ml(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function Dh(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ea(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Cb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cb(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var B_=/[#\/\?@]/g,Rb=/[#\?:]/g,kb=/[#\?]/g,Pb=/[#\?@]/g,Nb=/#/g;function ml(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Di(t){t.g||(t.g=new Map,t.h=0,t.i&&Ab(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=ml.prototype;Q.add=function(t,e){Di(this),this.i=null,t=Vo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function D1(t,e){Di(t),e=Vo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function b1(t,e){return Di(t),e=Vo(t,e),t.g.has(e)}Q.forEach=function(t,e){Di(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){Di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){Di(this);let e=[];if(typeof t=="string")b1(this,t)&&(e=e.concat(this.g.get(Vo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return Di(this),this.i=null,t=Vo(this,t),b1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function O1(t,e,n){D1(t,e),0<n.length&&(t.i=null,t.g.set(Vo(t,e),Zm(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Db(t,e){e&&!t.j&&(Di(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(D1(this,r),O1(this,i,n))},t)),t.j=e}var bb=class{constructor(t,e){this.g=t,this.map=e}};function L1(t){this.l=t||Ob,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ob=10;function V1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function j1(t){return t.h?1:t.g?t.g.size:0}function xp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fg(t,e){t.g?t.g.add(e):t.h=e}function M1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}L1.prototype.cancel=function(){if(this.i=F1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function F1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Zm(t.i)}var Lb=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function Vb(){this.g=new Lb}function jb(t,e,n){const r=n||"";try{P1(t,function(i,s){let o=i;Vl(i)&&(o=og(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mb(t,e){const n=new Ch;if(ge.Image){const r=new Image;r.onload=Cu(ku,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Cu(ku,n,r,"TestLoadImage: error",!1,e),r.onabort=Cu(ku,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cu(ku,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ku(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bh(t){this.l=t.ec||null,this.j=t.ob||!1}St(bh,cg);bh.prototype.g=function(){return new Oh(this.l,this.j)};bh.prototype.i=function(t){return function(){return t}}({});function Oh(t,e){It.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Oh,It);var pg=0;Q=Oh.prototype;Q.open=function(t,e){if(this.readyState!=pg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gl(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bl(this)),this.readyState=pg};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;U1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function U1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bl(this):gl(this),this.readyState==3&&U1(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,Bl(this))};Q.Ya=function(t){this.g&&(this.response=t,Bl(this))};Q.ka=function(){this.g&&Bl(this)};function Bl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gl(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Fb=ge.JSON.parse;function Ye(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$1,this.L=this.M=!1}St(Ye,It);var $1="",Ub=/^https?$/i,$b=["POST","PUT"];Q=Ye.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ep.g(),this.C=this.u?U_(this.u):U_(Ep),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){z_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ge.FormData&&t instanceof ge.FormData,!(0<=r1($b,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{q1(this),0<this.B&&((this.L=Bb(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=ug(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){z_(this,s)}};function Bb(t){return To&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof Jm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))};function z_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,B1(t),Lh(t)}function B1(t){t.F||(t.F=!0,Pt(t,"complete"),Pt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pt(this,"complete"),Pt(this,"abort"),Lh(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lh(this,!0)),Ye.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?z1(this):this.kb())};Q.kb=function(){z1(this)};function z1(t){if(t.h&&typeof Jm<"u"&&(!t.C[1]||ir(t)!=4||t.da()!=2)){if(t.v&&ir(t)==4)ug(t.La,0,t);else if(Pt(t,"readystatechange"),ir(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(N1)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!Ub.test(i?i.toLowerCase():"")}n=r}if(n)Pt(t,"complete"),Pt(t,"success");else{t.m=6;try{var s=2<ir(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",B1(t)}}finally{Lh(t)}}}}function Lh(t,e){if(t.g){q1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function q1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function ir(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Fb(e)}};function q_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function zb(t){const e={};t=(t.g&&2<=ir(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ul(t[r]))continue;var n=pb(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}ab(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H1(t){let e="";return tg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=H1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function ca(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function W1(t){this.Ga=0,this.j=[],this.l=new Ch,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ca("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ca("baseRetryDelayMs",5e3,t),this.hb=ca("retryDelaySeedMs",1e4,t),this.eb=ca("forwardChannelMaxRetries",2,t),this.xa=ca("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new L1(t&&t.concurrentRequestLimit),this.Ja=new Vb,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=W1.prototype;Q.ra=8;Q.H=1;function gg(t){if(K1(t),t.H==3){var e=t.W++,n=Vr(t.I);if(Ue(n,"SID",t.K),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),zl(t,n),e=new Ul(t,t.l,e),e.L=2,e.A=Dh(Vr(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ge.Image&&(new Image().src=e.A,n=!0),n||(e.g=tI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),$l(e)}Z1(t)}function Vh(t){t.g&&(vg(t),t.g.cancel(),t.g=null)}function K1(t){Vh(t),t.u&&(ge.clearTimeout(t.u),t.u=null),Uc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function jh(t){if(!V1(t.i)&&!t.m){t.m=!0;var e=t.Na;hl||m1(),dl||(hl(),dl=!0),ag.add(e,t),t.C=0}}function qb(t,e){return j1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ml(Ut(t.Na,t,e),J1(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ul(this,this.l,t);let s=this.s;if(this.U&&(s?(s=a1(s),l1(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=G1(this,i,e),n=Vr(this.I),Ue(n,"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),zl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(H1(s)))+"&"+e:this.o&&mg(n,this.o,s)),fg(this.i,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),i.aa=!0,Ip(i,n,null)):Ip(i,n,e),this.H=2}}else this.H==3&&(t?H_(this,t):this.j.length==0||V1(this.i)||H_(this))};function H_(t,e){var n;e?n=e.m:n=t.W++;const r=Vr(t.I);Ue(r,"SID",t.K),Ue(r,"RID",n),Ue(r,"AID",t.V),zl(t,r),t.o&&t.s&&mg(r,t.o,t.s),n=new Ul(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=G1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fg(t.i,n),Ip(n,r,e)}function zl(t,e){t.na&&tg(t.na,function(n,r){Ue(e,r,n)}),t.h&&P1({},function(n,r){Ue(e,r,n)})}function G1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let f=i[c].g;const m=i[c].map;if(f-=s,0>f)s=Math.max(0,i[c].g-100),l=!1;else try{jb(m,o,"req"+f+"_")}catch{r&&r(m)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Q1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hl||m1(),dl||(hl(),dl=!0),ag.add(e,t),t.A=0}}function yg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ml(Ut(t.Ma,t),J1(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,X1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ml(Ut(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),Vh(this),X1(this))};function vg(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function X1(t){t.g=new Ul(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Vr(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.K),Ue(e,"AID",t.V),Ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ue(e,"TO",t.qa),Ue(e,"TYPE","xmlhttp"),zl(t,e),t.o&&t.s&&mg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Dh(Vr(e)),n.u=null,n.S=!0,A1(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Vh(this),yg(this),Gt(19))};function Uc(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function Y1(t,e){var n=null;if(t.g==e){Uc(t),vg(t),t.g=null;var r=2}else if(xp(t.i,e))n=e.F,M1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Rh(),Pt(r,new E1(r,n)),jh(t)}else Q1(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&qb(t,e)||r==2&&yg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Yi(t,5);break;case 4:Yi(t,10);break;case 3:Yi(t,6);break;default:Yi(t,2)}}}function J1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Yi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new rs("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||Mc(n,"https"),Dh(n)),Mb(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),Z1(t),K1(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function Z1(t){if(t.H=0,t.ma=[],t.h){const e=F1(t.i);(e.length!=0||t.j.length!=0)&&(L_(t.ma,e),L_(t.ma,t.j),t.i.i.length=0,Zm(t.j),t.j.length=0),t.h.ya()}}function eI(t,e,n){var r=n instanceof rs?Vr(n):new rs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fc(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new rs(null);r&&Mc(s,r),e&&(s.g=e),i&&Fc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ue(r,n,e),Ue(r,"VER",t.ra),zl(t,r),r}function tI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ye(new bh({ob:n})):new Ye(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function nI(){}Q=nI.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function $c(){if(To&&!(10<=Number(rb)))throw Error("Environmental error: no available transport.")}$c.prototype.g=function(t,e){return new gn(t,e)};function gn(t,e){It.call(this),this.g=new W1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ul(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ul(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new jo(this)}St(gn,It);gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eI(t,null,t.Y),jh(t)};gn.prototype.close=function(){gg(this.g)};gn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=og(t),t=n);e.j.push(new bb(e.fb++,t)),e.H==3&&jh(e)};gn.prototype.N=function(){this.g.h=null,delete this.j,gg(this.g),delete this.g,gn.$.N.call(this)};function rI(t){hg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(rI,hg);function iI(){dg.call(this),this.status=1}St(iI,dg);function jo(t){this.g=t}St(jo,nI);jo.prototype.Ba=function(){Pt(this.g,"a")};jo.prototype.Aa=function(t){Pt(this.g,new rI(t))};jo.prototype.za=function(t){Pt(this.g,new iI)};jo.prototype.ya=function(){Pt(this.g,"b")};function Hb(){this.blockSize=-1}function zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}St(zn,Hb);zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}zn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)sf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){sf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){sf(this,r),i=0;break}}this.h=i,this.i+=e};zn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Wb={};function _g(t){return-128<=t&&128>t?eb(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function sr(t){if(isNaN(t)||!isFinite(t))return co;if(0>t)return Ct(sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ap;return new Oe(e,0)}function sI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(sI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sr(Math.pow(e,8)),r=co,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=sr(Math.pow(e,s)),r=r.R(s).add(sr(o))):(r=r.R(n),r=r.add(sr(o)))}return r}var Ap=4294967296,co=_g(0),Cp=_g(1),W_=_g(16777216);Q=Oe.prototype;Q.ea=function(){if(In(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ap+r)*e,e*=Ap}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Cr(this))return"0";if(In(this))return"-"+Ct(this).toString(t);for(var e=sr(Math.pow(t,6)),n=this,r="";;){var i=zc(n,e).g;n=Bc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Cr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Cr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function In(t){return t.h==-1}Q.X=function(t){return t=Bc(this,t),In(t)?-1:Cr(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(Cp)}Q.abs=function(){return In(this)?Ct(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function Bc(t,e){return t.add(Ct(e))}Q.R=function(t){if(Cr(this)||Cr(t))return co;if(In(this))return In(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(In(t))return Ct(this.R(Ct(t)));if(0>this.X(W_)&&0>t.X(W_))return sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Pu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Pu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Pu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Pu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ha(t,e){this.g=t,this.h=e}function zc(t,e){if(Cr(e))throw Error("division by zero");if(Cr(t))return new ha(co,co);if(In(t))return e=zc(Ct(t),e),new ha(Ct(e.g),Ct(e.h));if(In(e))return e=zc(t,Ct(e)),new ha(Ct(e.g),e.h);if(30<t.g.length){if(In(t)||In(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cp,r=e;0>=r.X(t);)n=K_(n),r=K_(r);var i=Ms(n,1),s=Ms(r,1);for(r=Ms(r,2),n=Ms(n,2);!Cr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ms(r,1),n=Ms(n,1)}return e=Bc(t,i.R(e)),new ha(i,e)}for(i=co;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sr(n),o=s.R(e);In(o)||0<o.X(t);)n-=r,s=sr(n),o=s.R(e);Cr(s)&&(s=Cp),i=i.add(s),t=Bc(t,o)}return new ha(i,t)}Q.gb=function(t){return zc(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function K_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function Ms(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}$c.prototype.createWebChannel=$c.prototype.g;gn.prototype.send=gn.prototype.u;gn.prototype.open=gn.prototype.m;gn.prototype.close=gn.prototype.close;kh.NO_ERROR=0;kh.TIMEOUT=8;kh.HTTP_ERROR=6;T1.COMPLETE="complete";I1.EventType=Fl;Fl.OPEN="a";Fl.CLOSE="b";Fl.ERROR="c";Fl.MESSAGE="d";It.prototype.listen=It.prototype.O;Ye.prototype.listenOnce=Ye.prototype.P;Ye.prototype.getLastError=Ye.prototype.Sa;Ye.prototype.getLastErrorCode=Ye.prototype.Ia;Ye.prototype.getStatus=Ye.prototype.da;Ye.prototype.getResponseJson=Ye.prototype.Wa;Ye.prototype.getResponseText=Ye.prototype.ja;Ye.prototype.send=Ye.prototype.ha;Ye.prototype.setWithCredentials=Ye.prototype.Oa;zn.prototype.digest=zn.prototype.l;zn.prototype.reset=zn.prototype.reset;zn.prototype.update=zn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=sr;Oe.fromString=sI;var Kb=function(){return new $c},Gb=function(){return Rh()},of=kh,Qb=T1,Xb=Is,G_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nu=I1,Yb=Ye,Jb=zn,ho=Oe;const Q_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Fm("@firebase/firestore");function da(){return ps.logLevel}function G(t,...e){if(ps.logLevel<=xe.DEBUG){const n=e.map(wg);ps.debug(`Firestore (${Mo}): ${t}`,...n)}}function pr(t,...e){if(ps.logLevel<=xe.ERROR){const n=e.map(wg);ps.error(`Firestore (${Mo}): ${t}`,...n)}}function Io(t,...e){if(ps.logLevel<=xe.WARN){const n=e.map(wg);ps.warn(`Firestore (${Mo}): ${t}`,...n)}}function wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+t;throw pr(e),new Error(e)}function Ve(t,e){t||pe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new oI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new jt(e)}}class nO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new iO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function So(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new gt(0,0))}static max(){return new ye(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends yl{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const aO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends yl{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return aO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae($e.fromString(e))}static fromName(e){return new ae($e.fromString(e).popFirst(5))}static empty(){return new ae($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new $e(e.slice()))}}function lO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ii(i,ae.empty(),e)}function uO(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(ye.min(),ae.empty(),-1)}static max(){return new Ii(ye.max(),ae.empty(),-1)}}function cO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==hO)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(m=>{o[f]=m,++l,l===s&&r(o)},m=>i(m))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new kr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new La(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Tg(r.target.error);this.V.reject(new La(e,i))}}static open(e,n,r,i){try{return new Eg(n,e.transaction(i,r))}catch(s){throw new La(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new pO(n)}}class Ji{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ji.S(ht())===12.2&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),Hi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!_T())return!1;if(Ji.C())return!0;const e=ht(),n=Ji.S(e),r=0<n&&n<10,i=Ji.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new La(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Y(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Y(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new La(e,o))},i.onupgradeneeded=s=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=Eg.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(f=>(l.g(),f)).catch(f=>(l.abort(f),q.reject(f))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,f=c.name!=="FirebaseError"&&o<3;if(G("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class fO{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Hi(this.k.delete())}}class La extends Y{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Hl(t){return t.name==="IndexedDbTransactionError"}class pO{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hi(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Hi(this.store.add(e))}get(e){return Hi(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Hi(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Hi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new q((o,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new q((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new q((r,i)=>{n.onerror=s=>{const o=Tg(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new q((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const c=new fO(l),f=n(l.primaryKey,l.value,c);if(f instanceof q){const m=f.catch(_=>(c.done(),q.reject(_)));r.push(m)}c.isDone?i():c.$===null?l.continue():l.continue(c.$)}}).next(()=>q.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Hi(t){return new q((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Tg(r.target.error);n(i)}})}let X_=!1;function Tg(t){const e=Ji.S(ht());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return X_||(X_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ig._e=-1;function Mh(t){return t==null}function qc(t){return t===0&&1/t==-1/0}function mO(t){return typeof t=="number"&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Nt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uI("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const gO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=gO.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xg(t){const e=t.mapValue.fields.__previous_value__;return Sg(e)?xg(e):e}function vl(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,i,s,o,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class _l{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sg(t)?4:vO(t)?9007199254740991:10:pe()}function mr(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vl(t).isEqual(vl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Si(i.timestampValue),l=Si(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ms(i.bytesValue).isEqual(ms(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),l=at(s.doubleValue);return o===l?qc(o)===qc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Y_(o)!==Y_(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!mr(o[c],l[c])))return!1;return!0}(t,e);default:return pe()}}function wl(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=at(s.integerValue||s.doubleValue),c=at(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Z_(t.timestampValue,e.timestampValue);case 4:return Z_(vl(t),vl(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ms(s),c=ms(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const m=De(l[f],c[f]);if(m!==0)return m}return De(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=De(at(s.latitude),at(o.latitude));return l!==0?l:De(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let f=0;f<l.length&&f<c.length;++f){const m=xo(l[f],c[f]);if(m)return m}return De(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===bu.mapValue&&o===bu.mapValue)return 0;if(s===bu.mapValue)return 1;if(o===bu.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),f=o.fields||{},m=Object.keys(f);c.sort(),m.sort();for(let _=0;_<c.length&&_<m.length;++_){const E=De(c[_],m[_]);if(E!==0)return E;const R=xo(l[c[_]],f[m[_]]);if(R!==0)return R}return De(c.length,m.length)}(t.mapValue,e.mapValue);default:throw pe()}}function Z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Si(t),r=Si(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function Ao(t){return Rp(t)}function Rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Rp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Rp(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function e0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kp(t){return!!t&&"integerValue"in t}function Ag(t){return!!t&&"arrayValue"in t}function t0(t){return!!t&&"nullValue"in t}function n0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ec(t){return!!t&&"mapValue"in t}function Va(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Va(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Va(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Va(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Va(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ec(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Sn(Va(this.value))}}function cI(t){const e=[];return Fo(t.fields,(n,r)=>{const i=new Rt([n]);if(ec(r)){const s=cI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ft(e,0,ye.min(),ye.min(),ye.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,ye.min(),ye.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ye.min(),ye.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.position=e,this.inclusive=n}}function r0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function i0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n="asc"){this.field=e,this.dir=n}}function _O(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{}class ut extends hI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EO(e,n,r):n==="array-contains"?new SO(e,r):n==="in"?new xO(e,r):n==="not-in"?new AO(e,r):n==="array-contains-any"?new CO(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TO(e,r):new IO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xo(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends hI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new qn(e,n)}matches(e){return dI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dI(t){return t.op==="and"}function fI(t){return wO(t)&&dI(t)}function wO(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Pp(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(fI(t))return t.filters.map(e=>Pp(e)).join(",");{const e=t.filters.map(n=>Pp(n)).join(",");return`${t.op}(${e})`}}function pI(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&pI(o,i.filters[l]),!0):!1}(t,e):void pe()}function mI(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(mI).join(" ,")+"}"}(t):"Filter"}class EO extends ut{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class TO extends ut{constructor(e,n){super(e,"in",n),this.keys=gI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IO extends ut{constructor(e,n){super(e,"not-in",n),this.keys=gI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class SO extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ag(n)&&wl(n.arrayValue,this.value)}}class xO extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wl(this.value.arrayValue,n)}}class AO extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wl(this.value.arrayValue,n)}}class CO extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ce=null}}function s0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new RO(t,e,n,r,i,s,o)}function Cg(t){const e=_e(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),e.ce=n}return e.ce}function Rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_O(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i0(t.startAt,e.startAt)&&i0(t.endAt,e.endAt)}function Np(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kO(t,e,n,r,i,s,o,l){return new Uo(t,e,n,r,i,s,o,l)}function yI(t){return new Uo(t)}function o0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vI(t){return t.collectionGroup!==null}function ja(t){const e=_e(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Nt(Rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new El(s,r))}),n.has(Rt.keyField().canonicalString())||e.le.push(new El(Rt.keyField(),r))}return e.le}function dr(t){const e=_e(t);return e.he||(e.he=PO(e,ja(t))),e.he}function PO(t,e){if(t.limitType==="F")return s0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new El(i.field,s)});const n=t.endAt?new Hc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hc(t.startAt.position,t.startAt.inclusive):null;return s0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dp(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wc(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return Rg(dr(t),dr(e))&&t.limitType===e.limitType}function _I(t){return`${Cg(dr(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mI(i)).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ao(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const f=r0(o,l,c);return o.inclusive?f<=0:f<0}(r.startAt,ja(r),i)||r.endAt&&!function(o,l,c){const f=r0(o,l,c);return o.inclusive?f>=0:f>0}(r.endAt,ja(r),i))}(t,e)}function NO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wI(t){return(e,n)=>{let r=!1;for(const i of ja(t)){const s=DO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DO(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),f=l.data.field(s);return c!==null&&f!==null?xo(c,f):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Ge(ae.comparator);function jr(){return bO}const EI=new Ge(ae.comparator);function Ta(...t){let e=EI;for(const n of t)e=e.insert(n.key,n);return e}function TI(t){let e=EI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zi(){return Ma()}function II(){return Ma()}function Ma(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const OO=new Ge(ae.comparator),LO=new Nt(ae.comparator);function Ie(...t){let e=LO;for(const n of t)e=e.add(n);return e}const VO=new Nt(De);function jO(){return VO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function xI(t){return{integerValue:""+t}}function MO(t,e){return mO(e)?xI(e):SI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function FO(t,e,n){return t instanceof Kc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sg(s)&&(s=xg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Tl?CI(t,e):t instanceof Il?RI(t,e):function(i,s){const o=AI(i,s),l=a0(o)+a0(i.Ie);return kp(o)&&kp(i.Ie)?xI(l):SI(i.serializer,l)}(t,e)}function UO(t,e,n){return t instanceof Tl?CI(t,e):t instanceof Il?RI(t,e):n}function AI(t,e){return t instanceof Gc?function(r){return kp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kc extends $h{}class Tl extends $h{constructor(e){super(),this.elements=e}}function CI(t,e){const n=kI(e);for(const r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Il extends $h{constructor(e){super(),this.elements=e}}function RI(t,e){let n=kI(e);for(const r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class Gc extends $h{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function a0(t){return at(t.integerValue||t.doubleValue)}function kI(t){return Ag(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $O(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Tl&&i instanceof Tl||r instanceof Il&&i instanceof Il?So(r.elements,i.elements,mr):r instanceof Gc&&i instanceof Gc?mr(r.Ie,i.Ie):r instanceof Kc&&i instanceof Kc}(t.transform,e.transform)}class BO{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function PI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DI(t.key,Pr.none()):new Wl(t.key,t.data,Pr.none());{const n=t.data,r=Sn.empty();let i=new Nt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ss(t.key,r,new Fn(i.toArray()),Pr.none())}}function zO(t,e,n){t instanceof Wl?function(i,s,o){const l=i.value.clone(),c=u0(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ss?function(i,s,o){if(!tc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=u0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(NI(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof Wl?function(s,o,l,c){if(!tc(s.precondition,o))return l;const f=s.value.clone(),m=c0(s.fieldTransforms,c,o);return f.setAll(m),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ss?function(s,o,l,c){if(!tc(s.precondition,o))return l;const f=c0(s.fieldTransforms,c,o),m=o.data;return m.setAll(NI(s)),m.setAll(f),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(s,o,l){return tc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function qO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AI(r.transform,i||null);s!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,s))}return n||null}function l0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&So(r,i,(s,o)=>$O(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wl extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends Bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function u0(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,UO(o,l,n[i]))}return r}function c0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,FO(s,o,e))}return r}class DI extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=II();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=PI(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,r)=>l0(n,r))&&So(this.baseMutations,e.baseMutations,(n,r)=>l0(n,r))}}class kg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return OO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Re;function QO(t){switch(t){default:return pe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function bI(t){if(t===void 0)return pr("GRPC error has no .code"),z.UNKNOWN;switch(t){case ot.OK:return z.OK;case ot.CANCELLED:return z.CANCELLED;case ot.UNKNOWN:return z.UNKNOWN;case ot.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ot.INTERNAL:return z.INTERNAL;case ot.UNAVAILABLE:return z.UNAVAILABLE;case ot.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ot.NOT_FOUND:return z.NOT_FOUND;case ot.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ot.ABORTED:return z.ABORTED;case ot.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ot.DATA_LOSS:return z.DATA_LOSS;default:return pe()}}(Re=ot||(ot={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new ho([4294967295,4294967295],0);function h0(t){const e=XO().encode(t),n=new Jb;return n.update(e),new Uint8Array(n.digest())}function d0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ho([n,r],0),new ho([i,s],0)]}class Pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ia(`Invalid padding: ${n}`);if(r<0)throw new Ia(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ia(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ia(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ho.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ho.fromNumber(r)));return i.compare(YO)===1&&(i=new ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=h0(e),[r,i]=d0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pg(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=h0(e),[r,i]=d0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(ye.min(),i,new Ge(De),jr(),Ie())}}class Kl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class OI{constructor(e,n){this.targetId=e,this.fe=n}}class LI{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class f0{constructor(){this.ge=0,this.pe=m0(),this.ye=zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Kl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=m0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ve(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class JO{constructor(e){this.Be=e,this.ke=new Map,this.qe=jr(),this.Qe=p0(),this.Ke=new Ge(De)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Np(s))if(r===0){const o=new ae(s.path);this.We(n,o,Ft.newNoDocument(o,ye.min()))}else Ve(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ms(r).toUint8Array()}catch(c){if(c instanceof uI)return Io("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Pg(o,i,s)}catch(c){return Io(c instanceof Ia?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&Np(l.target)){const c=new ae(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Ft.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Ie();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const f=this.Ye(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new zh(e,n,this.Ke,this.qe,r);return this.qe=jr(),this.Qe=p0(),this.Ke=new Ge(De),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new f0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Nt(De),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new f0),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function p0(){return new Ge(ae.comparator)}function m0(){return new Ge(ae.comparator)}const ZO={asc:"ASCENDING",desc:"DESCENDING"},e2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class n2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bp(t,e){return t.useProto3Json||Mh(e)?e:{value:e}}function Qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r2(t,e){return Qc(t,e.toTimestamp())}function fr(t){return Ve(!!t),ye.fromTimestamp(function(n){const r=Si(n);return new gt(r.seconds,r.nanos)}(t))}function Ng(t,e){return Op(t,e).canonicalString()}function Op(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jI(t){const e=$e.fromString(t);return Ve(BI(e)),e}function Lp(t,e){return Ng(t.databaseId,e.path)}function af(t,e){const n=jI(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(FI(n))}function MI(t,e){return Ng(t.databaseId,e)}function i2(t){const e=jI(t);return e.length===4?$e.emptyPath():FI(e)}function Vp(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FI(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g0(t,e,n){return{name:Lp(t,e),fields:n.value.mapValue.fields}}function s2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(Ve(m===void 0||typeof m=="string"),zt.fromBase64String(m||"")):(Ve(m===void 0||m instanceof Uint8Array),zt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const m=f.code===void 0?z.UNKNOWN:bI(f.code);return new Y(m,f.message||"")}(o);n=new LI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=af(t,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):ye.min(),l=new Sn({mapValue:{fields:r.document.fields}}),c=Ft.newFoundDocument(i,s,o,l),f=r.targetIds||[],m=r.removedTargetIds||[];n=new nc(f,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=af(t,r.document),s=r.readTime?fr(r.readTime):ye.min(),o=Ft.newNoDocument(i,s),l=r.removedTargetIds||[];n=new nc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=af(t,r.document),s=r.removedTargetIds||[];n=new nc([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new GO(i,s),l=r.targetId;n=new OI(l,o)}}return n}function o2(t,e){let n;if(e instanceof Wl)n={update:g0(t,e.key,e.value)};else if(e instanceof DI)n={delete:Lp(t,e.key)};else if(e instanceof Ss)n={update:g0(t,e.key,e.data),updateMask:m2(e.fieldMask)};else{if(!(e instanceof HO))return pe();n={verify:Lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Kc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Il)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gc)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:r2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function a2(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fr(i.updateTime):fr(s);return o.isEqual(ye.min())&&(o=fr(s)),new BO(o,i.transformResults||[])}(n,e))):[]}function l2(t,e){return{documents:[MI(t,e.path)]}}function u2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MI(t,i);const s=function(f){if(f.length!==0)return $I(qn.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(m=>function(E){return{field:Us(E.field),direction:d2(E.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=bp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ut:n,parent:i}}function c2(t){let e=i2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(_){const E=UI(_);return E instanceof qn&&fI(E)?E.getFilters():[E]}(n.where));let o=[];n.orderBy&&(o=function(_){return _.map(E=>function(k){return new El($s(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(E))}(n.orderBy));let l=null;n.limit&&(l=function(_){let E;return E=typeof _=="object"?_.value:_,Mh(E)?null:E}(n.limit));let c=null;n.startAt&&(c=function(_){const E=!!_.before,R=_.values||[];return new Hc(R,E)}(n.startAt));let f=null;return n.endAt&&(f=function(_){const E=!_.before,R=_.values||[];return new Hc(R,E)}(n.endAt)),kO(e,i,o,s,l,"F",c,f)}function h2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$s(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$s(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$s(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$s(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return ut.create($s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>UI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function d2(t){return ZO[t]}function f2(t){return e2[t]}function p2(t){return t2[t]}function Us(t){return{fieldPath:t.canonicalString()}}function $s(t){return Rt.fromServerFormat(t.fieldPath)}function $I(t){return t instanceof ut?function(n){if(n.op==="=="){if(n0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(t0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(t0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:f2(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(i=>$I(i));return r.length===1?r[0]:{compositeFilter:{op:p2(n.op),filters:r}}}(t):pe()}function m2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r,i,s=ye.min(),o=ye.min(),l=zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.ct=e}}function y2(t){const e=c2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this._n=new _2}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ii.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class _2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Co(0)}static Ln(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,Fn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=Zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ta();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=jr();const o=Ma(),l=function(){return Ma()}();return n.forEach((c,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ss)?s=s.insert(f.key,f):m!==void 0?(o.set(f.key,m.mutation.getFieldMask()),Fa(m.mutation,f,m.mutation.getFieldMask(),gt.now())):o.set(f.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,m)=>o.set(f,m)),n.forEach((f,m)=>{var _;return l.set(f,new E2(m,(_=o.get(f))!==null&&_!==void 0?_:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ma();let i=new Ge((o,l)=>o-l),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let m=r.get(c)||Fn.empty();m=l.applyToLocalView(f,m),r.set(c,m);const _=(i.get(l.batchId)||Ie()).add(c);i=i.insert(l.batchId,_)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,m=c.value,_=II();m.forEach(E=>{if(!s.has(E)){const R=PI(n.get(E),r.get(E));R!==null&&_.set(E,R),s=s.add(E)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,_))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Zi());let l=-1,c=s;return o.next(f=>q.forEach(f,(m,_)=>(l<_.largestBatchId&&(l=_.largestBatchId),s.get(m)?q.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{c=c.insert(m,E)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,Ie())).next(m=>({batchId:l,changes:TI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ta();return this.indexManager.getCollectionParents(e,s).next(l=>q.forEach(l,c=>{const f=function(_,E){return new Uo(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((_,E)=>{o=o.insert(_,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,f)=>{const m=f.getKey();o.get(m)===null&&(o=o.insert(m,Ft.newInvalidDocument(m)))});let l=Ta();return o.forEach((c,f)=>{const m=s.get(c);m!==void 0&&Fa(m.mutation,f,Fn.empty(),gt.now()),Uh(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:y2(i.bundledQuery),readTime:fr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.overlays=new Ge(ae.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zi();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Zi(),s=n.length+1,o=new ae(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((f,m)=>f-m);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Zi(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const l=Zi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,m)=>l.set(f,m)),!(l.size()>=i)););return q.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KO(n,r));let s=this.hr.get(n);s===void 0&&(s=Ie(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.Pr=new Nt(wt.Ir),this.Tr=new Nt(wt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new wt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new $e([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new $e([])),r=new wt(n,e),i=new wt(n,e+1);let s=Ie();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||De(e.pr,n.pr)}static Er(e,n){return De(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Nt(wt.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WO(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new wt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(De);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new wt(new ae(s),0);let l=new Nt(De);return this.wr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.pr)),!0)},o),q.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return q.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new wt(n,0),i=this.wr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.vr=e,this.docs=function(){return new Ge(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr();const o=n.path,l=new ae(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||cO(uO(m),r)<=0||(i.has(m.key)||Uh(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Fr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C2(this)}getSize(e){return q.resolve(this.size)}}class C2 extends w2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.persistence=e,this.Mr=new $o(n=>Cg(n),Rg),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Dg,this.targetCount=0,this.Lr=Co.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ig(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new R2(this),this.indexManager=new v2,this.remoteDocumentCache=function(i){return new A2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new g2(n),this.$r=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new x2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new P2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class P2 extends dO{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.zr=new Dg,this.jr=null}static Hr(e){return new bg(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,r=>{const i=ae.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Og(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return hk()?8:Ji.v(ht())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new N2;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(da()<=xe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(da()<=xe.DEBUG&&G("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(da()<=xe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):q.resolve())}ji(e,n){if(o0(n))return q.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wc(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.Zi(n,l);return this.Xi(n,f,o,c.readTime)?this.ji(e,Wc(n,null,"F")):this.es(e,f,n,c)}))})))}Hi(e,n,r,i){return o0(n)||i.isEqual(ye.min())?q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?q.resolve(null):(da()<=xe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.es(e,o,n,lO(i,-1)).next(l=>l))})}Zi(e,n){let r=new Nt(wI(e));return n.forEach((i,s)=>{Uh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return da()<=xe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.zi.getDocumentsMatchingQuery(e,n,Ii.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ge(De),this.rs=new $o(s=>Cg(s),Rg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function O2(t,e,n,r){return new b2(t,e,n,r)}async function zI(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Ie();for(const f of i){o.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}for(const f of s){l.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(f=>({us:f,removedBatchIds:o,addedBatchIds:l}))})})}function L2(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,f,m){const _=f.batch,E=_.keys();let R=q.resolve();return E.forEach(k=>{R=R.next(()=>m.getEntry(c,k)).next(N=>{const j=f.docVersions.get(k);Ve(j!==null),N.version.compareTo(j)<0&&(_.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),m.addEntry(N)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(c,_))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ie();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qI(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function V2(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((m,_)=>{const E=i.get(_);if(!E)return;l.push(n.Qr.removeMatchingKeys(s,m.removedDocuments,_).next(()=>n.Qr.addMatchingKeys(s,m.addedDocuments,_)));let R=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(zt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):m.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(m.resumeToken,r)),i=i.insert(_,R),function(N,j,S){return N.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(E,R,m)&&l.push(n.Qr.updateTargetData(s,R))});let c=jr(),f=Ie();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(j2(s,o,e.documentUpdates).next(m=>{c=m.cs,f=m.ls})),!r.isEqual(ye.min())){const m=n.Qr.getLastRemoteSnapshotVersion(s).next(_=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(m)}return q.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.ns=i,s))}function j2(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jr();return n.forEach((l,c)=>{const f=s.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):G("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{cs:o,ls:i}})}function M2(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F2(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function jp(t,e,n){const r=_e(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hl(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function y0(t,e,n){const r=_e(t);let i=ye.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,m){const _=_e(c),E=_.rs.get(m);return E!==void 0?q.resolve(_.ns.get(E)):_.Qr.getTargetData(f,m)}(r,o,dr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Ie())).next(l=>(U2(r,NO(e),l),{documents:l,hs:s})))}function U2(t,e,n){let r=t.ss.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class v0{constructor(){this.activeTargetIds=jO()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $2{constructor(){this.no=new v0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new v0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function lf(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class H2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const l=lf(),c=this.bo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(f,s,o),this.Co(n,c,f,i).then(m=>(G("RestConnection",`Received RPC '${n}' ${l}: `,m),m),m=>{throw Io("RestConnection",`RPC '${n}' ${l} failed with error: `,m,"url: ",c,"request:",i),m})}vo(n,r,i,s,o,l){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=z2[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=lf();return new Promise((o,l)=>{const c=new Yb;c.setWithCredentials(!0),c.listenOnce(Qb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case of.NO_ERROR:const m=c.getResponseJson();G(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case of.TIMEOUT:G(Vt,`RPC '${e}' ${s} timed out`),l(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const _=c.getStatus();if(G(Vt,`RPC '${e}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let E=c.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E==null?void 0:E.error;if(R&&R.status&&R.message){const k=function(j){const S=j.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(S)>=0?S:z.UNKNOWN}(R.status);l(new Y(k,R.message))}else l(new Y(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y(z.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{G(Vt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);G(Vt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Fo(e,n,r){const i=lf(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kb(),l=Gb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=s.join("");G(Vt,`Creating RPC '${e}' stream ${i}: ${m}`,c);const _=o.createWebChannel(m,c);let E=!1,R=!1;const k=new q2({lo:j=>{R?G(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(E||(G(Vt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),G(Vt,`RPC '${e}' stream ${i} sending:`,j),_.send(j))},ho:()=>_.close()}),N=(j,S,I)=>{j.listen(S,A=>{try{I(A)}catch(b){setTimeout(()=>{throw b},0)}})};return N(_,Nu.EventType.OPEN,()=>{R||G(Vt,`RPC '${e}' stream ${i} transport opened.`)}),N(_,Nu.EventType.CLOSE,()=>{R||(R=!0,G(Vt,`RPC '${e}' stream ${i} transport closed`),k.Vo())}),N(_,Nu.EventType.ERROR,j=>{R||(R=!0,Io(Vt,`RPC '${e}' stream ${i} transport errored:`,j),k.Vo(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),N(_,Nu.EventType.MESSAGE,j=>{var S;if(!R){const I=j.data[0];Ve(!!I);const A=I,b=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(b){G(Vt,`RPC '${e}' stream ${i} received error:`,b);const U=b.status;let K=function(se){const we=ot[se];if(we!==void 0)return bI(we)}(U),d=b.message;K===void 0&&(K=z.INTERNAL,d="Unknown error status: "+U+" with message "+b.message),R=!0,k.Vo(new Y(K,d)),_.close()}else G(Vt,`RPC '${e}' stream ${i} received:`,I),k.mo(I)}}),N(l,Xb.STAT_EVENT,j=>{j.stat===G_.PROXY?G(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===G_.NOPROXY&&G(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.Ro()},0),k}}function uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new n2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new HI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W2 extends WI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=s2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?fr(o.readTime):ye.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Vp(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Np(c)?{documents:l2(s,c)}:{query:u2(s,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=VI(s,o.resumeToken);const f=bp(s,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=Qc(s,o.snapshotVersion.toTimestamp());const f=bp(s,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=h2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Vp(this.serializer),n.removeTarget=e,this.t_(n)}}class K2 extends WI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=a2(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.T_(r,n)}return Ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Vp(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>o2(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Op(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(z.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,Op(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Q2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(pr(n),this.g_=!1):G("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{xs(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=_e(c);f.v_.add(4),await Gl(f),f.x_.set("Unknown"),f.v_.delete(4),await Hh(f)}(this))})}),this.x_=new Q2(r,i)}}async function Hh(t){if(xs(t))for(const e of t.F_)await e(!0)}async function Gl(t){for(const e of t.F_)await e(!1)}function KI(t,e){const n=_e(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Mg(n)?jg(n):Bo(n).Jo()&&Vg(n,e))}function Lg(t,e){const n=_e(t),r=Bo(n);n.C_.delete(e),r.Jo()&&GI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():xs(n)&&n.x_.set("Unknown"))}function Vg(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(t).c_(e)}function GI(t,e){t.O_.Oe(e),Bo(t).l_(e)}function jg(t){t.O_=new JO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.x_.p_()}function Mg(t){return xs(t)&&!Bo(t).Ho()&&t.C_.size>0}function xs(t){return _e(t).v_.size===0}function QI(t){t.O_=void 0}async function Y2(t){t.C_.forEach((e,n)=>{Vg(t,e)})}async function J2(t,e){QI(t),Mg(t)?(t.x_.S_(e),jg(t)):t.x_.set("Unknown")}async function Z2(t,e,n){if(t.x_.set("Online"),e instanceof LI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xc(t,r)}else if(e instanceof nc?t.O_.$e(e):e instanceof OI?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ye.min()))try{const r=await qI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.O_.it(o);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.C_.get(f);m&&s.C_.set(f,m.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,f)=>{const m=s.C_.get(c);if(!m)return;s.C_.set(c,m.withResumeToken(zt.EMPTY_BYTE_STRING,m.snapshotVersion)),GI(s,c);const _=new ai(m.target,c,f,m.sequenceNumber);Vg(s,_)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Xc(t,r)}}async function Xc(t,e,n){if(!Hl(e))throw e;t.v_.add(1),await Gl(t),t.x_.set("Offline"),n||(n=()=>qI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Hh(t)})}function XI(t,e){return e().catch(n=>Xc(t,n,e))}async function Wh(t){const e=_e(t),n=xi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;eL(e);)try{const i=await M2(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,tL(e,i)}catch(i){await Xc(e,i)}YI(e)&&JI(e)}function eL(t){return xs(t)&&t.D_.length<10}function tL(t,e){t.D_.push(e);const n=xi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function YI(t){return xs(t)&&!xi(t).Ho()&&t.D_.length>0}function JI(t){xi(t).start()}async function nL(t){xi(t).d_()}async function rL(t){const e=xi(t);for(const n of t.D_)e.I_(n.mutations)}async function iL(t,e,n){const r=t.D_.shift(),i=kg.from(r,e,n);await XI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wh(t)}async function sL(t,e){e&&xi(t).P_&&await async function(r,i){if(function(o){return QO(o)&&o!==z.ABORTED}(i.code)){const s=r.D_.shift();xi(r).Zo(),await XI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Wh(r)}}(t,e),YI(t)&&JI(t)}async function w0(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=xs(n);n.v_.add(3),await Gl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Hh(n)}async function oL(t,e){const n=_e(t);e?(n.v_.delete(2),await Hh(n)):e||(n.v_.add(2),await Gl(n),n.x_.set("Unknown"))}function Bo(t){return t.N_||(t.N_=function(n,r,i){const s=_e(n);return s.R_(),new W2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Y2.bind(null,t),To:J2.bind(null,t),u_:Z2.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Mg(t)?jg(t):t.x_.set("Unknown")):(await t.N_.stop(),QI(t))})),t.N_}function xi(t){return t.L_||(t.L_=function(n,r,i){const s=_e(n);return s.R_(),new K2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:nL.bind(null,t),To:sL.bind(null,t),E_:rL.bind(null,t),T_:iL.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Wh(t)):(await t.L_.stop(),t.D_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Fg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(t,e){if(pr("AsyncQueue",`${e}: ${t}`),Hl(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Ta(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.B_=new Ge(ae.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):pe():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ro{constructor(e,n,r,i,s,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ro(e,n,fo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class lL{constructor(){this.queries=new $o(e=>_I(e),Fh),this.onlineState="Unknown",this.W_=new Set}}async function uL(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new aL,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Ug(o,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&$g(n)}async function cL(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hL(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Q_)l.z_(i)&&(r=!0);o.q_=i}}r&&$g(n)}function dL(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function $g(t){t.W_.forEach(e=>{e.next()})}var Mp,T0;(T0=Mp||(Mp={})).j_="default",T0.Cache="cache";class fL{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.key=e}}class eS{constructor(e){this.key=e}}class pL{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ie(),this.mutatedKeys=Ie(),this.ha=wI(e),this.Pa=new fo(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new E0,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const E=i.get(m),R=Uh(this.query,_)?_:null,k=!!E&&this.mutatedKeys.has(E.key),N=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;E&&R?E.data.isEqual(R.data)?k!==N&&(r.track({type:3,doc:R}),j=!0):this.da(E,R)||(r.track({type:2,doc:R}),j=!0,(c&&this.ha(R,c)>0||f&&this.ha(R,f)<0)&&(l=!0)):!E&&R?(r.track({type:0,doc:R}),j=!0):E&&!R&&(r.track({type:1,doc:E}),j=!0,(c||f)&&(l=!0)),j&&(R?(o=o.add(R),s=N?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Pa:o,Ea:r,Xi:l,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((m,_)=>function(R,k){const N=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return N(R)-N(k)}(m.type,_.type)||this.ha(m.doc,_.doc)),this.Aa(r),i=i!=null&&i;const l=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,f=c!==this.ca;return this.ca=c,o.length!==0||f?{snapshot:new Ro(this.query,e.Pa,s,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:l}:{Va:l}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new E0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ie(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new eS(r))}),this.la.forEach(r=>{e.has(r)||n.push(new ZI(r))}),n}fa(e){this.ua=e.hs,this.la=Ie();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ro.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class mL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gL{constructor(e){this.key=e,this.pa=!1}}class yL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new $o(l=>_I(l),Fh),this.Sa=new Map,this.ba=new Set,this.Da=new Ge(ae.comparator),this.Ca=new Map,this.va=new Dg,this.Fa={},this.Ma=new Map,this.xa=Co.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function vL(t,e,n=!0){const r=oS(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await tS(r,e,n,!0),i}async function _L(t,e){const n=oS(t);await tS(n,e,!0,!1)}async function tS(t,e,n,r){const i=await F2(t.localStore,dr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await wL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KI(t.remoteStore,i),l}async function wL(t,e,n,r,i){t.Na=(_,E,R)=>async function(N,j,S,I){let A=j.view.Ta(S);A.Xi&&(A=await y0(N.localStore,j.query,!1).then(({documents:d})=>j.view.Ta(d,A)));const b=I&&I.targetChanges.get(j.targetId),U=I&&I.targetMismatches.get(j.targetId)!=null,K=j.view.applyChanges(A,N.isPrimaryClient,b,U);return S0(N,j.targetId,K.Va),K.snapshot}(t,_,E,R);const s=await y0(t.localStore,e,!0),o=new pL(e,s.hs),l=o.Ta(s.documents),c=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);S0(t,n,f.Va);const m=new mL(e,n,o);return t.wa.set(e,m),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),f.snapshot}async function EL(t,e,n){const r=_e(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Fh(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lg(r.remoteStore,i.targetId),Fp(r,i.targetId)}).catch(ql)):(Fp(r,i.targetId),await jp(r.localStore,i.targetId,!0))}async function TL(t,e){const n=_e(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(n.remoteStore,r.targetId))}async function IL(t,e,n){const r=PL(t);try{const i=await function(o,l){const c=_e(o),f=gt.now(),m=l.reduce((R,k)=>R.add(k.key),Ie());let _,E;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=jr(),N=Ie();return c.os.getEntries(R,m).next(j=>{k=j,k.forEach((S,I)=>{I.isValidDocument()||(N=N.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,k)).next(j=>{_=j;const S=[];for(const I of l){const A=qO(I,_.get(I.key).overlayedDocument);A!=null&&S.push(new Ss(I.key,A,cI(A.value.mapValue),Pr.exists(!0)))}return c.mutationQueue.addMutationBatch(R,f,S,l)}).next(j=>{E=j;const S=j.applyToLocalDocumentSet(_,N);return c.documentOverlayCache.saveOverlays(R,j.batchId,S)})}).then(()=>({batchId:E.batchId,changes:TI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let f=o.Fa[o.currentUser.toKey()];f||(f=new Ge(De)),f=f.insert(l,c),o.Fa[o.currentUser.toKey()]=f}(r,i.batchId,n),await Ql(r,i.changes),await Wh(r.remoteStore)}catch(i){const s=Ug(i,"Failed to persist write");n.reject(s)}}async function nS(t,e){const n=_e(t);try{const r=await V2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?Ve(o.pa):i.removedDocuments.size>0&&(Ve(o.pa),o.pa=!1))}),await Ql(n,r,e)}catch(r){await ql(r)}}function I0(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const l=o.view.G_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=_e(o);c.onlineState=l;let f=!1;c.queries.forEach((m,_)=>{for(const E of _.Q_)E.G_(l)&&(f=!0)}),f&&$g(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SL(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new Ge(ae.comparator);o=o.insert(s,Ft.newNoDocument(s,ye.min()));const l=Ie().add(s),c=new zh(ye.min(),new Map,new Ge(De),o,l);await nS(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),Bg(r)}else await jp(r.localStore,e,!1).then(()=>Fp(r,e,n)).catch(ql)}async function xL(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await L2(n.localStore,e);iS(n,r,null),rS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(n,i)}catch(i){await ql(i)}}async function AL(t,e,n){const r=_e(t);try{const i=await function(o,l){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return c.mutationQueue.lookupMutationBatch(f,l).next(_=>(Ve(_!==null),m=_.keys(),c.mutationQueue.removeMutationBatch(f,_))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,m,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>c.localDocuments.getDocuments(f,m))})}(r.localStore,e);iS(r,e,n),rS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ql(r,i)}catch(i){await ql(i)}}function rS(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function iS(t,e,n){const r=_e(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||sS(t,r)})}function sS(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Lg(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Bg(t))}function S0(t,e,n){for(const r of n)r instanceof ZI?(t.va.addReference(r.key,e),CL(t,r)):r instanceof eS?(G("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||sS(t,r.key)):pe()}function CL(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(G("SyncEngine","New document in limbo: "+n),t.ba.add(r),Bg(t))}function Bg(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ae($e.fromString(e)),r=t.xa.next();t.Ca.set(r,new gL(n)),t.Da=t.Da.insert(n,r),KI(t.remoteStore,new ai(dr(yI(n.path)),r,"TargetPurposeLimboResolution",Ig._e))}}async function Ql(t,e,n){const r=_e(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((l,c)=>{o.push(r.Na(c,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const m=Og.Ki(c.targetId,f);s.push(m)}}))}),await Promise.all(o),r.ya.u_(i),await async function(c,f){const m=_e(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>q.forEach(f,E=>q.forEach(E.qi,R=>m.persistence.referenceDelegate.addReference(_,E.targetId,R)).next(()=>q.forEach(E.Qi,R=>m.persistence.referenceDelegate.removeReference(_,E.targetId,R)))))}catch(_){if(!Hl(_))throw _;G("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const E=_.targetId;if(!_.fromCache){const R=m.ns.get(E),k=R.snapshotVersion,N=R.withLastLimboFreeSnapshotVersion(k);m.ns=m.ns.insert(E,N)}}}(r.localStore,s))}async function RL(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await zI(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(l=>{l.forEach(c=>{c.reject(new Y(z.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ql(n,r.us)}}function kL(t,e){const n=_e(t),r=n.Ca.get(e);if(r&&r.pa)return Ie().add(r.key);{let i=Ie();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const l=n.wa.get(o);i=i.unionWith(l.view.Ia)}return i}}function oS(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SL.bind(null,e),e.ya.u_=hL.bind(null,e.eventManager),e.ya.La=dL.bind(null,e.eventManager),e}function PL(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AL.bind(null,e),e}class x0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return O2(this.persistence,new D2,e.initialUser,this.serializer)}createPersistence(e){return new k2(bg.Hr,this.serializer)}createSharedClientState(e){return new $2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RL.bind(null,this.syncEngine),await oL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lL}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(s){return new H2(s)}(e.databaseInfo);return function(s,o,l,c){return new G2(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new X2(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>I0(this.syncEngine,n,0),function(){return _0.D()?new _0:new B2}())}createSyncEngine(e,n){return function(i,s,o,l,c,f,m){const _=new yL(i,s,o,l,c,f);return m&&(_.Oa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=_e(r);G("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Gl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=aI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cf(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LL(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>w0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>w0(e.remoteStore,i)),t._onlineComponents=e}function OL(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function LL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!OL(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await cf(t,new x0)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await cf(t,new x0);return t._offlineComponents}async function aS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await A0(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await A0(t,new NL))),t._onlineComponents}function VL(t){return aS(t).then(e=>e.syncEngine)}async function jL(t){const e=await aS(t),n=e.eventManager;return n.onListen=vL.bind(null,e.syncEngine),n.onUnlisten=EL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_L.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TL.bind(null,e.syncEngine),n}function ML(t,e,n={}){const r=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,f){const m=new DL({next:E=>{o.enqueueAndForget(()=>cL(s,_)),E.fromCache&&c.source==="server"?f.reject(new Y(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),_=new fL(l,m,{includeMetadataChanges:!0,ta:!0});return uL(s,_)}(await jL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FL(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R0(t){if(!ae.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k0(t){if(ae.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Yc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function UL(t,e){if(e<=0)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zb;switch(r.type){case"firstParty":return new rO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=C0.get(n);r&&(G("ComponentProvider","Removing Datastore"),C0.delete(n),r.terminate())}(this),Promise.resolve()}}function $L(t,e,n,r={}){var i;const s=(t=Yc(t,Gh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=jt.MOCK_USER;else{l=vT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new jt(f)}t._authCredentials=new eO(new oI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class _i extends bi{constructor(e,n,r){super(e,n,yI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ae(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function Up(t,e,...n){if(t=dt(t),uS("collection","path",e),t instanceof Gh){const r=$e.fromString(e,...n);return k0(r),new _i(t,null,r)}{if(!(t instanceof Cn||t instanceof _i))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return k0(r),new _i(t.firestore,null,r)}}function BL(t,e,...n){if(t=dt(t),arguments.length===1&&(e=aI.newId()),uS("doc","path",e),t instanceof Gh){const r=$e.fromString(e,...n);return R0(r),new Cn(t,null,new ae(r))}{if(!(t instanceof Cn||t instanceof _i))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return R0(r),new Cn(t.firestore,t instanceof _i?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new HI(this,"async_queue_retry"),this.cu=()=>{const n=uf();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=uf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new kr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Hl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw pr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Fg.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&pe()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class zg extends Gh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new zL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hS(this),this._firestoreClient.terminate()}}function qL(t,e){const n=typeof t=="object"?t:$m(),r=typeof t=="string"?t:e||"(default)",i=yh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mT("firestore");s&&$L(i,...s)}return i}function cS(t){return t._firestoreClient||hS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hS(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,f,m){return new yO(l,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lS(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new bL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(zt.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=/^__.*__$/;class WL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}function fS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Wg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Jc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(fS(this.Vu)&&HL.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class KL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Cu(e,n,r,i=!1){return new Wg({Vu:e,methodName:n,Du:r,path:Rt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pS(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new KL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GL(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);yS("Data must be an object, but it was:",o,r);const l=mS(r,o);let c,f;if(s.merge)c=new Fn(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const E=XL(e,_,n);if(!o.contains(E))throw new Y(z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JL(m,E)||m.push(E)}c=new Fn(m),f=o.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,f=o.fieldTransforms;return new WL(new Sn(l),c,f)}function QL(t,e,n,r=!1){return Kg(n,t.Cu(r?4:3,e))}function Kg(t,e){if(gS(t=dt(t)))return yS("Unsupported field value:",e,t),mS(t,e);if(t instanceof dS)return function(r,i){if(!fS(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Kg(l,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:Qc(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qc(i.serializer,s)}}if(r instanceof Hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:VI(i.serializer,r._byteString)};if(r instanceof Cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ng(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Kh(r)}`)}(t,e)}function mS(t,e){const n={};return lI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{const s=Kg(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Hg||t instanceof ko||t instanceof Cn||t instanceof dS)}function yS(t,e,n){if(!gS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Kh(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function XL(t,e,n){if((e=dt(e))instanceof qg)return e._internalPath;if(typeof e=="string")return vS(t,e);throw Jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const YL=new RegExp("[~\\*/\\[\\]]");function vS(t,e,n){if(e.search(YL)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qg(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Y(z.INVALID_ARGUMENT,l+t+c)}function JL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZL extends _S{data(){return super.data()}}function Gg(t,e){return typeof e=="string"?vS(t,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class Xg extends Qg{}function wS(t,e,...n){let r=[];e instanceof Qg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Jg).length,l=s.filter(c=>c instanceof Yg).length;if(o>1||o>0&&l>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yg extends Xg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yg(e,n,r)}_apply(e){const n=this._parse(e);return TS(e._query,n),new bi(e.firestore,e.converter,Dp(e._query,n))}_parse(e){const n=pS(e.firestore);return function(s,o,l,c,f,m,_){let E;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){D0(_,m);const R=[];for(const k of _)R.push(N0(c,s,k));E={arrayValue:{values:R}}}else E=N0(c,s,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||D0(_,m),E=QL(l,o,_,m==="in"||m==="not-in");return ut.create(f,m,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Jg extends Qg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)TS(o,c),o=Dp(o,c)}(e._query,n),new bi(e.firestore,e.converter,Dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends Xg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zg(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new El(s,o)}(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Uo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ES(t,e="asc"){const n=e,r=Gg("orderBy",t);return Zg._create(r,n)}class ey extends Xg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ey(e,n,r)}_apply(e){return new bi(e.firestore,e.converter,Wc(e._query,this._limit,this._limitType))}}function tV(t){return UL("limit",t),ey._create("limit",t,"F")}function N0(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vI(e)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!ae.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e0(t,new ae(r))}if(n instanceof Cn)return e0(t,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function D0(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nV{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hg(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const n=Si(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ve(BI(r));const i=new _l(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||pr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iV extends _S{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rc extends iV{data(e={}){return super.data(e)}}class sV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rc(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new rc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new rc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),m=o.indexOf(l.doc.key)),{type:oV(l.type),doc:c,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class aV extends nV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function IS(t){t=Yc(t,bi);const e=Yc(t.firestore,zg),n=cS(e),r=new aV(e);return eV(t._query),ML(n,t._query).then(i=>new sV(e,r,t,i))}function lV(t,e){const n=Yc(t.firestore,zg),r=BL(t),i=rV(t.converter,e);return uV(n,[GL(pS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function uV(t,e){return function(r,i){const s=new kr;return r.asyncQueue.enqueueAndForget(async()=>IL(await VL(r),i,s)),s.promise}(cS(t),e)}(function(e,n=!0){(function(i){Mo=i})(Ts),hs(new Ti("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new zg(new tO(r.getProvider("auth-internal")),new sO(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(f.options.projectId,m)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ur(Q_,"4.5.0",e),ur(Q_,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebasestorage.googleapis.com",xS="storageBucket",cV=2*60*1e3,hV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends gr{constructor(e,n,r=0){super(hf(e),`Firebase Storage: ${n} (${hf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function hf(t){return"storage/"+t}function ty(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Je.UNKNOWN,t)}function dV(t){return new Ze(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function fV(t){return new Ze(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Je.UNAUTHENTICATED,t)}function mV(){return new Ze(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gV(t){return new Ze(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yV(){return new Ze(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vV(){return new Ze(Je.CANCELED,"User canceled the upload/download.")}function _V(t){return new Ze(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function wV(t){return new Ze(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EV(){return new Ze(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xS+"' property when initializing the app?")}function TV(){return new Ze(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IV(){return new Ze(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SV(t){return new Ze(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $p(t){return new Ze(Je.INVALID_ARGUMENT,t)}function AS(){return new Ze(Je.APP_DELETED,"The Firebase app was deleted.")}function xV(t){return new Ze(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ua(t,e){return new Ze(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fa(t){throw new Ze(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fn.makeFromUrl(e,n)}catch{return new fn(e,"")}if(r.path==="")return r;throw wV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function f(b){b.path_=decodeURIComponent(b.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${m}/b/${i}/o${E}`,"i"),k={bucket:1,path:3},N=n===SS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",S=new RegExp(`^https?://${N}/${i}/${j}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:R,indices:k,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let b=0;b<A.length;b++){const U=A[b],K=U.regex.exec(e);if(K){const d=K[U.indices.bucket];let J=K[U.indices.path];J||(J=""),r=new fn(d,J),U.postModify(r);break}}if(r==null)throw _V(e);return r}}class AV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let f=!1;function m(...j){f||(f=!0,e.apply(null,j))}function _(j){i=setTimeout(()=>{i=null,t(R,c())},j)}function E(){s&&clearTimeout(s)}function R(j,...S){if(f){E();return}if(j){E(),m.call(null,j,...S);return}if(c()||o){E(),m.call(null,j,...S);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,_(A)}let k=!1;function N(j){k||(k=!0,E(),!f&&(i!==null?(j||(l=2),clearTimeout(i),_(0)):j||(l=1)))}return _(0),s=setTimeout(()=>{o=!0,N(!0)},n),N}function RV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return t!==void 0}function PV(t){return typeof t=="object"&&!Array.isArray(t)}function ny(t){return typeof t=="string"||t instanceof String}function b0(t){return ry()&&t instanceof Blob}function ry(){return typeof Blob<"u"}function O0(t,e,n,r){if(r<e)throw $p(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $p(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function CS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(is||(is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,i,s,o,l,c,f,m,_,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,k)=>{this.resolve_=R,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===is.NO_ERROR,c=s.getStatus();if(!l||NV(c,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===is.ABORT;r(!1,new Vu(!1,null,m));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new Vu(f,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());kV(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=ty();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?AS():vV();o(c)}else{const c=yV();o(c)}};this.canceled_?n(!1,new Vu(!1,null,!0)):this.backoffId_=CV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function bV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jV(t,e,n,r,i,s,o=!0){const l=CS(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return LV(f,e),bV(f,n),OV(f,s),VV(f,r),new DV(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FV(...t){const e=MV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ry())return new Blob(t);throw new Ze(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){if(typeof atob>"u")throw SV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class df{constructor(e,n){this.data=e,this.contentType=n||null}}function BV(t,e){switch(t){case or.RAW:return new df(RS(e));case or.BASE64:case or.BASE64URL:return new df(kS(t,e));case or.DATA_URL:return new df(qV(e),HV(e))}throw ty()}function RS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zV(t){let e;try{e=decodeURIComponent(t)}catch{throw Ua(or.DATA_URL,"Malformed data URL.")}return RS(e)}function kS(t,e){switch(t){case or.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ua(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case or.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ua(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$V(e)}catch(i){throw i.message.includes("polyfill")?i:Ua(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class PS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ua(or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=WV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qV(t){const e=new PS(t);return e.base64?kS(or.BASE64,e.rest):zV(e.rest)}function HV(t){return new PS(t).contentType}function WV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){let r=0,i="";b0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(b0(this.data_)){const r=this.data_,i=UV(r,e,n);return i===null?null:new ri(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ri(r,!0)}}static getBlob(...e){if(ry()){const n=e.map(r=>r instanceof ri?r.data_:r);return new ri(FV.apply(null,n))}else{const n=e.map(o=>ny(o)?BV(or.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new ri(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){let e;try{e=JSON.parse(t)}catch{return null}return PV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function GV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function DS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e){return e}class Wt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||QV}}let ju=null;function XV(t){return!ny(t)||t.length<2?t:DS(t)}function bS(){if(ju)return ju;const t=[];t.push(new Wt("bucket")),t.push(new Wt("generation")),t.push(new Wt("metageneration")),t.push(new Wt("name","fullPath",!0));function e(s,o){return XV(o)}const n=new Wt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Wt("size");return i.xform=r,t.push(i),t.push(new Wt("timeCreated")),t.push(new Wt("updated")),t.push(new Wt("md5Hash",null,!0)),t.push(new Wt("cacheControl",null,!0)),t.push(new Wt("contentDisposition",null,!0)),t.push(new Wt("contentEncoding",null,!0)),t.push(new Wt("contentLanguage",null,!0)),t.push(new Wt("contentType",null,!0)),t.push(new Wt("metadata","customMetadata",!0)),ju=t,ju}function YV(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function JV(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return YV(r,t),r}function OS(t,e,n){const r=NS(e);return r===null?null:JV(t,r,n)}function ZV(t,e,n,r){const i=NS(e);if(i===null||!ny(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const m=t.bucket,_=t.fullPath,E="/b/"+o(m)+"/o/"+o(_),R=iy(E,n,r),k=CS({alt:"media",token:f});return R+k})[0]}function ej(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class LS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t){if(!t)throw ty()}function tj(t,e){function n(r,i){const s=OS(t,i,e);return VS(s!==null),s}return n}function nj(t,e){function n(r,i){const s=OS(t,i,e);return VS(s!==null),ZV(s,i,t.host,t._protocol)}return n}function jS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=mV():i=pV():n.getStatus()===402?i=fV(t.bucket):n.getStatus()===403?i=gV(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function rj(t){const e=jS(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=dV(t.path)),s.serverResponse=i.serverResponse,s}return n}function ij(t,e,n){const r=e.fullServerUrl(),i=iy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new LS(i,s,nj(t,n),o);return l.errorHandler=rj(e),l}function sj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sj(null,e)),r}function aj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let A="";for(let b=0;b<2;b++)A=A+Math.random().toString().slice(2);return A}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const f=oj(e,r,i),m=ej(f,n),_="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,E=`\r
--`+c+"--",R=ri.getBlob(_,r,E);if(R===null)throw TV();const k={name:f.fullPath},N=iy(s,t.host,t._protocol),j="POST",S=t.maxUploadRetryTime,I=new LS(N,j,tj(t,n),S);return I.urlParams=k,I.headers=o,I.body=R.uploadData(),I.errorHandler=jS(e),I}class lj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw fa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uj extends lj{initXhr(){this.xhr_.responseType="text"}}function MS(){return new uj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this._service=e,n instanceof fn?this._location=n:this._location=fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ys(e,n)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DS(this._location.path)}get storage(){return this._service}get parent(){const e=KV(this._location.path);if(e===null)return null;const n=new fn(this._location.bucket,e);return new ys(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xV(e)}}function cj(t,e,n){t._throwIfRoot("uploadBytes");const r=aj(t.storage,t._location,bS(),new ri(e,!0),n);return t.storage.makeRequestWithTokens(r,MS).then(i=>({metadata:i,ref:t}))}function hj(t){t._throwIfRoot("getDownloadURL");const e=ij(t.storage,t._location,bS());return t.storage.makeRequestWithTokens(e,MS).then(n=>{if(n===null)throw IV();return n})}function dj(t,e){const n=GV(t._location.path,e),r=new fn(t._location.bucket,n);return new ys(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){return/^[A-Za-z]+:\/\//.test(t)}function pj(t,e){return new ys(t,e)}function FS(t,e){if(t instanceof sy){const n=t;if(n._bucket==null)throw EV();const r=new ys(n,n._bucket);return e!=null?FS(r,e):r}else return e!==void 0?dj(t,e):t}function mj(t,e){if(e&&fj(e)){if(t instanceof sy)return pj(t,e);throw $p("To use ref(service, url), the first argument must be a Storage instance.")}else return FS(t,e)}function L0(t,e){const n=e==null?void 0:e[xS];return n==null?null:fn.makeFromBucketSpec(n,t)}function gj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vT(i,t.app.options.projectId))}class sy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=SS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cV,this._maxUploadRetryTime=hV,this._requests=new Set,i!=null?this._bucket=fn.makeFromBucketSpec(i,this._host):this._bucket=L0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=L0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ys(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new AV(AS());{const o=jV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const V0="@firebase/storage",j0="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="storage";function yj(t,e,n){return t=dt(t),cj(t,e,n)}function vj(t){return t=dt(t),hj(t)}function _j(t,e){return t=dt(t),mj(t,e)}function wj(t=$m(),e){t=dt(t);const r=yh(t,US).getImmediate({identifier:e}),i=mT("storage");return i&&Ej(r,...i),r}function Ej(t,e,n,r={}){gj(t,e,n,r)}function Tj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sy(n,r,i,e,Ts)}function Ij(){hs(new Ti(US,Tj,"PUBLIC").setMultipleInstances(!0)),ur(V0,j0,""),ur(V0,j0,"esm2017")}Ij();const Sj={apiKey:"AIzaSyCcVpspx6GEOQ51VK223U_jmawURkFhYmM",authDomain:"club-atletismo-maracena.firebaseapp.com",projectId:"club-atletismo-maracena",storageBucket:"club-atletismo-maracena.appspot.com",messagingSenderId:"852666052821",appId:"1:852666052821:web:ae3bd906aae6d8906f325c",measurementId:"G-BJ5L9YJGG0"},Qh=TT(Sj),Bp=qL(Qh),xj=uo(Qh),Aj=wj(Qh);function Cj(){const[t,e]=H.useState([]),[n,r]=H.useState(null),i=o=>{r(o)},s=()=>{r(null)};return H.useEffect(()=>{(async()=>{try{const l=wS(Up(Bp,"hazañas"),ES("fecha","desc"),tV(3)),f=(await IS(l)).docs.map(m=>m.data());e(f)}catch(l){console.error("Error al obtener los datos:",l)}})()},[]),y.jsxs(y.Fragment,{children:[y.jsx("header",{children:y.jsxs("div",{id:"carouselExampleCaptions",className:"carousel slide carousel-fade","data-bs-ride":"carousel",children:[y.jsxs("div",{className:"carousel-indicators",children:[y.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"0",className:"active","aria-current":"true","aria-label":"Slide 1"}),y.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"1","aria-label":"Slide 2"}),y.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"2","aria-label":"Slide 3"})]}),y.jsxs("div",{className:"carousel-inner",children:[y.jsxs("div",{className:"carousel-item active",children:[y.jsx("img",{src:"../img/pistaAtletismo.jpeg",className:"d-block w-100",alt:"Pista de atletismo"}),y.jsxs("div",{className:"carousel-caption d-md-block animate__animated animate__fadeIn",children:[y.jsx("h5",{className:"animate__animated animate__fadeInDown",children:"Bienvenido a"}),y.jsx("p",{children:"Club Atletismo Maracena"})]})]}),y.jsxs("div",{className:"carousel-item",children:[y.jsx("img",{src:"../img/imagen-slider2.jpg",className:"d-block w-100",alt:"Fin de carrera"}),y.jsx("div",{className:"carousel-caption d-md-block animate__animated animate__fadeIn",children:y.jsx("h5",{className:"animate__animated animate__fadeInDown",children:"Second slide label"})})]}),y.jsxs("div",{className:"carousel-item",children:[y.jsx("img",{src:"../img/imagen-medalla-sierraB.jpg",className:"d-block w-100",alt:"Tercera foto"}),y.jsxs("div",{className:"carousel-caption d-md-block animate__animated animate__fadeIn",children:[y.jsx("h5",{className:"animate__animated animate__fadeInDown",children:"Third slide label"}),y.jsx("p",{className:"animate__animated animate__fadeInDown",children:"Estamos a full"})]})]})]}),y.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",children:[y.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),y.jsx("span",{className:"visually-hidden",children:"Previous"})]}),y.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",children:[y.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),y.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),y.jsxs("section",{className:"hazañas-section",children:[y.jsxs("article",{className:"hazañas",children:[y.jsx("div",{className:"rectangulo"}),y.jsx("h2",{children:"Últimas noticias"}),y.jsx("div",{className:"flex-hazañas",children:t.map((o,l)=>y.jsxs("div",{className:"hazaña",children:[y.jsxs("div",{className:"imagen-hazaña",onClick:()=>i(l),children:[y.jsx("img",{src:o.imagen,alt:o.etiqueta}),y.jsx("p",{className:"etiqueta",children:o.etiqueta}),y.jsxs("div",{className:"lupa",children:[" ",y.jsx("i",{className:"fa-solid fa-magnifying-glass fa-2xl"})]})]}),y.jsx("h5",{children:o.titulo}),y.jsx("p",{className:"content",children:o.contenido.length>100?o.contenido.slice(0,150)+"...":o.contenido}),y.jsx("p",{className:"content",children:y.jsx("b",{children:new Date(o.fecha.seconds*1e3).toLocaleDateString()})})]},l))})]}),n!==null&&y.jsx("div",{className:"fullscreen-overlay",onClick:s,children:y.jsxs("div",{className:"fullscreen-image-container",children:[y.jsx("img",{src:t[n].imagen,alt:t[n].etiqueta}),y.jsx("p",{children:t[n].etiqueta})]})})]}),y.jsx("section",{className:"valores-section",children:y.jsxs("article",{className:"valores",children:[y.jsx("div",{className:"rectangulo"}),y.jsx("h2",{id:"valores-title",children:"Nuestros valores"}),y.jsxs("div",{className:"valores-content",children:[y.jsx("p",{children:"En el Club Atletismo Maracena, nos enorgullece ser más que un simple lugar de entrenamiento. Somos una familia unida por nuestra pasión por el atletismo y nuestra dedicación a valores que trascienden las fronteras de la pista. En nuestro club, cada atleta, entrenador y miembro del personal encuentra un hogar donde el compañerismo, el respeto y la superación personal son fundamentales en cada paso que damos juntos. Desde los jóvenes que dan sus primeros pasos en la pista hasta los atletas más experimentados que buscan alcanzar nuevas metas, todos son acogidos con los brazos abiertos en un ambiente donde la excelencia deportiva va de la mano con el crecimiento personal y el apoyo mutuo. Aquí, en el corazón del Club Atletismo Maracena, nuestros valores son más que palabras; son la esencia misma de lo que somos y de lo que aspiramos a ser como comunidad deportiva."}),y.jsxs("div",{className:"valores-parte2",children:[y.jsx("div",{className:"slider",children:y.jsxs("div",{id:"carouselExample",className:"carousel slide","data-bs-ride":"carousel",children:[y.jsxs("div",{className:"carousel-inner ",children:[y.jsx("div",{className:"carousel-item active",children:y.jsx("img",{src:"../img/trabajo_en_equipo.png",className:"d-block w-100",alt:"Trabajo en equipo"})}),y.jsx("div",{className:"carousel-item",children:y.jsx("img",{src:"../img/trabajo_en_equipo.png",className:"d-block w-100",alt:"..."})}),y.jsx("div",{className:"carousel-item",children:y.jsx("img",{src:"../img/pistaAtletismo.jpeg",className:"d-block w-100",alt:"..."})})]}),y.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"prev",children:[y.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),y.jsx("span",{className:"visually-hidden",children:"Previous"})]}),y.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"next",children:[y.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),y.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),y.jsxs("div",{className:"conjunto-valores",children:[y.jsxs("div",{className:"skill-element",children:[y.jsx("div",{className:"progress-container",children:y.jsx("span",{children:y.jsx("i",{className:"fa-solid fa-people-group"})})}),y.jsx("p",{children:"Trabajo en equipo"})]}),y.jsxs("div",{className:"skill-element",children:[y.jsx("div",{className:"progress-container",children:y.jsx("span",{children:y.jsx("i",{className:"fas fa-handshake"})})}),y.jsx("p",{children:"Respeto"})]}),y.jsxs("div",{className:"skill-element",children:[y.jsx("div",{className:"progress-container",children:y.jsx("span",{children:y.jsx("i",{className:"fas fa-clock"})})}),y.jsx("p",{children:"Disciplina"})]}),y.jsxs("div",{className:"skill-element",children:[y.jsx("div",{className:"progress-container",children:y.jsx("span",{children:y.jsx("i",{className:"fa-solid fa-heart-pulse"})})}),y.jsx("p",{children:"Pasión"})]}),y.jsxs("div",{className:"skill-element",children:[y.jsx("div",{className:"progress-container",children:y.jsx("span",{children:y.jsx("i",{className:"fas fa-balance-scale"})})}),y.jsx("p",{children:"Ética"})]}),y.jsxs("div",{className:"skill-element",children:[y.jsx("div",{className:"progress-container",children:y.jsx("span",{children:y.jsx("i",{className:"fa-solid fa-arrow-trend-up"})})}),y.jsx("p",{children:"Superación"})]})]})]})]})]})})]})}function Kr(){const t=Oo(),[e,n]=H.useState(null),[r,i]=H.useState(!1),[s,o]=H.useState(!1),[l,c]=H.useState(!1),f=H.useRef(null);H.useEffect(()=>{const _=uo(),E=bN(_,R=>{n(R||null)});return()=>E()},[]);function m(){const _=uo();ON(_).then(()=>{}).catch(E=>{console.error("Error:",E)})}return H.useEffect(()=>{const _=()=>{const E=window.pageYOffset||document.documentElement.scrollTop;window.innerWidth>=1050&&E>0?(i(!0),o(!0)):(i(!1),o(!1))};return window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)}},[]),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"menu-hamburguesa",children:[y.jsxs("div",{id:"inicio",className:"inicio2",children:[y.jsx("img",{id:"logo",src:"../img/logoAtletismo.png"}),y.jsxs(hn,{to:"/",children:["CLUB ATLETISMO ",y.jsx("br",{}),y.jsx("b",{children:"MARACENA"})]})]}),y.jsxs("div",{className:"barras",onClick:()=>c(!l),children:[y.jsx("div",{className:`line ${l?"open":""}`}),y.jsx("div",{className:`line ${l?"open":""}`}),y.jsx("div",{className:`line ${l?"open":""}`})]})]}),y.jsx("div",{className:`menu-horizontal ${r?"with-bg":""} ${l?"open":""}`,ref:f,style:{backgroundColor:r?"#1f1f1f":"transparent",boxShadow:s?"0px 2px 4px rgb(0, 0, 0)":"none"},children:y.jsxs("nav",{children:[y.jsxs("div",{id:"inicio",className:"inicio1",children:[y.jsx("img",{id:"logo",src:"../img/logoAtletismo.png"}),y.jsxs(hn,{to:"/",children:["CLUB ATLETISMO ",y.jsx("br",{}),y.jsx("b",{children:"MARACENA"})]})]}),y.jsxs("ul",{children:[y.jsx("li",{className:t.pathname==="/club"?"active":"",children:y.jsx(hn,{to:"/club",children:"Club"})}),y.jsx("li",{className:"has-submenu "+(t.pathname==="/inscripcion"?"active":""),children:y.jsx(hn,{to:"/inscripcion",children:"Inscríbete"})}),y.jsx("li",{className:"has-submenu "+(t.pathname==="/noticias"?"active":""),children:y.jsx(hn,{to:"/noticias",children:"Noticias"})}),y.jsx("li",{className:t.pathname==="/galeria"?"active":"",children:y.jsx(hn,{to:"/galeria",children:"Galería de fotos"})}),y.jsx("li",{className:t.pathname==="/contacto"?"active":"",children:y.jsx(hn,{to:"/contacto",children:"Contacto"})}),y.jsxs("li",{children:[" ",e?y.jsxs("div",{children:[y.jsxs("span",{className:"user",children:["Bienvenido, ",e.displayName?e.displayName:e.email]}),y.jsx("a",{className:"link",onClick:m,children:"Cerrar sesión"})]}):y.jsx(hn,{to:"/login",className:"link",children:"Login"})]})]})]})})]})}function Rj(){const[t,e]=H.useState(!1);return H.useEffect(()=>{e(!0)},[]),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fotoInicial",children:y.jsx("img",{src:"../img/imagen-slider3.png",loading:"lazy",alt:"imagen de inicio"})}),y.jsxs("div",{className:`main-title ${t?"loaded":""}`,children:[y.jsx("h1",{id:"title",children:"Nuestro club"}),y.jsx("br",{}),y.jsx("p",{id:"subtitle",children:"Descubre la esencia de nuestro club y únete a una familia apasionada por el deporte y el compañerismo."})]})]})}function kj(){const[t,e]=H.useState(!1);return H.useEffect(()=>{e(!0)},[]),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fotoInicial",children:y.jsx("img",{src:"../img/imagen-slider3.png",loading:"lazy",alt:"imagen de inicio"})}),y.jsxs("div",{className:`main-title ${t?"loaded":""}`,children:[y.jsx("h1",{id:"title",children:"Inscríbete"}),y.jsx("br",{}),y.jsx("p",{id:"subtitle",children:"¡Únete a nuestro club y comienza tu viaje hacia una vida más activa y saludable hoy mismo!"})]})]})}function Pj(){const[t,e]=H.useState([]),[n,r]=H.useState(!1),[i,s]=H.useState(null),[o,l]=H.useState(!1),[c,f]=H.useState(null),[m,_]=H.useState({imagen:"",titulo:"",contenido:"",etiqueta:"",fecha:"",destacada:!1}),[E,R]=H.useState(!0);H.useEffect(()=>{const b=xj.onAuthStateChanged(U=>{f(U),U&&l(U.displayName==="Danii")});return()=>b()},[]);const k=b=>{const{name:U,value:K}=b.target;_({...m,[U]:K})},N=b=>{if(b.target.files&&b.target.files.length>0){const U=b.target.files[0],K=_j(Aj,`imagenes/${U.name}`);yj(K,U).then(d=>{console.log("Imagen subida correctamente"),vj(d.ref).then(J=>{_({...m,imagen:J})})}).catch(d=>{console.error("Error al subir la imagen:",d)})}},j=async b=>{if(b.preventDefault(),!c||!o){console.log("Usuario no autorizado");return}try{const U={...m,fecha:new Date(m.fecha)};await lV(Up(Bp,"hazañas"),U),console.log("Noticia insertada correctamente"),_({imagen:"",titulo:"",contenido:"",etiqueta:"",fecha:"",destacada:!1})}catch(U){console.error("Error al insertar la noticia:",U)}};H.useEffect(()=>{(async()=>{try{const U=wS(Up(Bp,"hazañas"),ES("fecha","desc")),d=(await IS(U)).docs.map(se=>se.data());e(d);const J=d.find(se=>se.destacada);s(J||null),R(!1)}catch(U){console.error("Error al obtener los datos:",U)}})()},[]);const S=()=>{r(!n)},[I,A]=H.useState(!1);return H.useEffect(()=>{A(!0)},[]),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fotoInicial",children:y.jsx("img",{src:"../img/imagen-slider3.png",loading:"lazy",alt:"Imagen inicial"})}),y.jsxs("div",{className:`main-title ${I?"loaded":""}`,children:[y.jsx("h1",{id:"title",children:"Noticias del club"}),y.jsx("br",{}),y.jsx("p",{id:"subtitle",children:"¡Mantente al tanto de todas las novedades, eventos y logros de nuestro club!"})]}),y.jsx("section",{className:"hazañas-section",children:E?y.jsx("div",{className:"preloader",children:y.jsxs("div",{className:"loading-wave",children:[y.jsx("div",{className:"loading-bar"}),y.jsx("div",{className:"loading-bar"}),y.jsx("div",{className:"loading-bar"}),y.jsx("div",{className:"loading-bar"})]})}):y.jsxs(y.Fragment,{children:[i&&y.jsxs("article",{className:"hazañas",children:[y.jsx("div",{className:"rectangulo"}),y.jsx("h2",{children:"Noticia Destacada"}),y.jsxs("div",{className:"flex-destacada",children:[y.jsxs("div",{className:"imagen-destacada",children:[y.jsx("img",{src:i.imagen,alt:i.etiqueta}),y.jsx("p",{children:i.etiqueta})]}),y.jsxs("div",{className:"contenido-destacada",children:[y.jsx("h5",{children:i.titulo}),y.jsx("p",{children:i.contenido}),y.jsx("p",{children:y.jsx("b",{children:new Date(i.fecha.seconds*1e3).toLocaleDateString()})})]})]})]}),y.jsxs("article",{className:"hazañas",children:[y.jsx("div",{className:"rectangulo"}),y.jsx("h2",{children:"Noticias del club"}),y.jsx("div",{className:"flex-hazañas",children:t.map((b,U)=>y.jsxs("div",{className:"hazaña",children:[y.jsxs("div",{className:"imagen-hazaña",children:[y.jsx("img",{src:b.imagen,alt:b.etiqueta}),y.jsx("p",{className:"estiqueta",children:b.etiqueta}),y.jsxs("div",{className:"lupa",children:[" ",y.jsx("i",{className:"fa-solid fa-magnifying-glass fa-2xl"})]})]}),y.jsx("h5",{children:b.titulo}),y.jsx("p",{className:"content",children:b.contenido.length>100?b.contenido.slice(0,130)+"...":b.contenido}),y.jsx("p",{className:"content",children:y.jsx("b",{children:new Date(b.fecha.seconds*1e3).toLocaleDateString()})})]},U))})]}),o&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:S,children:"Insertar Noticia"}),n&&y.jsxs("form",{onSubmit:j,children:[y.jsx("input",{type:"text",name:"titulo",value:m.titulo,onChange:k,placeholder:"Título de la noticia",required:!0}),y.jsx("textarea",{name:"contenido",value:m.contenido,onChange:k,placeholder:"Contenido de la noticia",required:!0}),y.jsx("input",{type:"text",name:"etiqueta",value:m.etiqueta,onChange:k,placeholder:"Etiqueta de la noticia",required:!0}),y.jsx("input",{type:"date",name:"fecha",value:m.fecha,onChange:k,required:!0}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"destacada",checked:m.destacada,onChange:()=>_({...m,destacada:!m.destacada})}),"Destacada"]}),y.jsx("input",{type:"file",accept:"image/*",onChange:N,required:!0}),m.imagen&&y.jsx("img",{src:m.imagen,alt:"Vista previa",style:{maxWidth:"200px"}}),y.jsx("button",{type:"submit",children:"Insertar Noticia"})]})]})]})})]})}function Nj(){return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fotoInicial",children:y.jsx("img",{src:"../img/imagen-slider3.png",loading:"lazy",alt:"imagen de inicio"})}),y.jsx("section",{children:y.jsx("article",{})})]})}function Dj(){return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fotoInicial",children:y.jsx("img",{src:"../img/imagen-slider3.png"})}),y.jsx("div",{id:"all-form",children:y.jsx("form",{action:"#",method:"post",children:y.jsxs("div",{className:"formulary",children:[y.jsxs("div",{className:"inputBox",children:[y.jsx("input",{type:"text",required:!0}),y.jsx("h5",{children:"Email*"})]}),y.jsxs("div",{className:"inputBox",children:[y.jsx("input",{type:"pass",required:!0}),y.jsx("h5",{children:"Contraseña*"})]}),y.jsx("button",{type:"submit",className:"enter",children:"Iniciar Sesión"})]})})})]})}function Gr(){return y.jsxs("footer",{children:[y.jsxs("div",{className:"main-footer",children:[y.jsx("div",{children:y.jsxs("div",{className:"patrocinadores",children:[y.jsx("h6",{children:"Patrocinadores"}),y.jsx("img",{src:"../img/alssport-removebg-preview.png"}),y.jsx("img",{src:"../img/grupomayfo-removebg-preview.png"})]})}),y.jsxs("div",{children:[y.jsx("h6",{children:"Contacto"}),y.jsxs("ul",{children:[y.jsxs("li",{children:["Telefono",y.jsxs("ul",{children:[y.jsx("li",{children:"+34 654 66 75 45"}),y.jsx("li",{children:"+34 675 34 24 76"})]})]}),y.jsxs("li",{children:["Email",y.jsx("ul",{children:y.jsx("li",{children:"ejemplo@gmail.com"})})]})]})]})]}),y.jsxs("div",{className:"subfooter",children:[y.jsxs("div",{className:"subfooter-parte1",children:[y.jsxs("div",{id:"inicio",children:[y.jsx("img",{id:"logo",src:"../img/logoAtletismo.png"}),y.jsxs(hn,{to:"/",children:["CLUB ATLETISMO ",y.jsx("br",{}),y.jsx("b",{children:"MARACENA"})]})]}),y.jsxs("div",{className:"redes2",children:[y.jsx("i",{className:"fa-brands fa-square-facebook fa-2xl"}),"   ",y.jsx("i",{className:"fa-brands fa-instagram fa-2xl"})]})]}),y.jsx("div",{children:y.jsxs("p",{children:[y.jsx(hn,{to:"",children:"Aviso legal"})," | ",y.jsx(hn,{to:"",children:"Política de cookies"})," | ",y.jsx(hn,{to:"",children:"Política de privacidad"})]})}),y.jsxs("div",{className:"redes",children:[y.jsx("i",{className:"fa-brands fa-square-facebook fa-2xl"}),"   ",y.jsx("i",{className:"fa-brands fa-instagram fa-2xl"})]})]})]})}function bj(){const t=aT(),[e,n]=H.useState(""),[r,i]=H.useState(""),[s,o]=H.useState(""),[l,c]=H.useState(null),[f,m]=H.useState(!0);function _(){const I=new nr,A=uo(Qh);tD(A,I).then(b=>{if(nr.credentialFromResult(b)!==null){const K=b.user;console.log("Hola "+K.displayName),t("/")}else console.error("Credencial de Google nula.")}).catch(b=>{const U=b.code;let K="Error al iniciar sesión con Google. Por favor, intenta de nuevo más tarde.";switch(U){case"auth/popup-closed-by-user":K="El inicio de sesión con Google fue cancelado por el usuario.";break;default:K=b.message}c(K),console.error("Error al iniciar sesión con Google:",K)})}function E(){const I=uo();RN(I,r,s).then(A=>{const b=A.user;console.log("Usuario inició sesión:",b),t("/")}).catch(A=>{const b=A.code;let U="";switch(b){default:U="Credenciales incorrectas."}c(U),console.error("Error al iniciar sesión:",U)})}function R(){const I=uo();CN(I,r,s).then(A=>{const b=A.user;return PN(b,{displayName:e}).then(()=>{console.log("Nombre de usuario vinculado con éxito."),t("/")}).catch(U=>{console.error("Error al vincular nombre de usuario:",U.message),c(U.message)})}).catch(A=>{const b=A.code;let U="Error al registrar. Por favor, intenta de nuevo más tarde.";switch(b){case"auth/email-already-in-use":U="El correo electrónico ya está en uso.";break;case"auth/weak-password":U="La contraseña es débil. Debe tener al menos 6 caracteres.";break;default:U=A.message}c(U),console.error("Error al registrar:",U)})}function k(I){I.preventDefault(),c(null),R()}function N(I){I.preventDefault(),c(null),E()}const[j,S]=H.useState(!1);return H.useEffect(()=>{S(!0)},[]),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fotoInicial",children:y.jsx("img",{src:"../img/imagen-slider3.png"})}),y.jsxs("div",{className:`main-title ${j?"loaded":""}`,children:[y.jsx("h1",{id:"title",children:"Inicia sesión"}),y.jsx("br",{}),y.jsx("p",{id:"subtitle",children:"Únete a nuestro club de atletismo y mantente en movimiento. ¡Inicia sesión para empezar tu próxima carrera!"})]}),y.jsxs("div",{className:"session-container",children:[f&&y.jsxs("div",{className:"login-container",children:[y.jsx("h1",{children:"Iniciar Sesión"}),y.jsx("form",{onSubmit:N,id:"all-form",children:y.jsxs("div",{className:"formulary",children:[l&&y.jsx("p",{className:"error-message",children:l}),y.jsxs("div",{className:"inputBox",children:[y.jsx("input",{type:"email",value:r,onChange:I=>i(I.target.value),required:!0}),y.jsx("h5",{children:"Email"})]}),y.jsxs("div",{className:"inputBox",children:[y.jsx("input",{type:"password",value:s,onChange:I=>o(I.target.value),required:!0}),y.jsx("h5",{children:"Contraseña"})]}),y.jsx("button",{className:"enter",type:"submit",children:"Iniciar Sesión"})]})}),y.jsx("div",{className:"social-login-buttons",children:y.jsx("button",{className:"google-login",onClick:_,children:y.jsx("img",{src:"../public/google.png"})})}),y.jsxs("p",{children:["¿No tienes cuenta? ",y.jsx("span",{onClick:()=>m(!1),children:"Regístrate"})]})]}),!f&&y.jsxs("div",{className:"register-container",children:[y.jsx("h1",{children:"Registro"}),y.jsx("form",{onSubmit:k,id:"all-form",children:y.jsxs("div",{className:"formulary",children:[l&&y.jsx("p",{className:"error-message",children:l}),y.jsxs("div",{className:"inputBox",children:[y.jsx("input",{type:"text",value:e,onChange:I=>n(I.target.value),required:!0}),y.jsx("h5",{children:"Nombre de usuario*"})]}),y.jsxs("div",{className:"inputBox",children:[y.jsx("input",{type:"email",value:r,onChange:I=>i(I.target.value),required:!0}),y.jsx("h5",{children:"Correo Electrónico*"})]}),y.jsxs("div",{className:"inputBox",children:[y.jsx("input",{type:"pass",value:s,onChange:I=>o(I.target.value),required:!0}),y.jsx("h5",{children:"Contraseña*"})]}),y.jsx("button",{className:"enter",type:"submit",children:"Registrarse"})]})}),y.jsxs("p",{children:["¿Ya tienes cuenta? ",y.jsx("span",{onClick:()=>m(!0),children:"Inicia Sesión"})]})]})]})]})}function Qr(){const[t,e]=H.useState(!0);H.useEffect(()=>{document.cookie.includes("cookiesAceptadas=true")?e(!1):i("visualizacionMensajeCookies",{timestamp:new Date})},[]);const n=()=>{document.cookie="cookiesAceptadas=true; max-age=31536000",e(!1),i("aceptacionCookies",{timestamp:new Date})},r=()=>{e(!1),i("rechazoCookies",{timestamp:new Date})},i=(s,o)=>{const c=JSON.stringify({nombreEvento:s,datos:o,timestamp:new Date});document.cookie=`eventoSeguimiento=${encodeURIComponent(c)}; max-age=31536000`};return y.jsx(y.Fragment,{children:t&&y.jsxs("div",{className:"cookies-mensaje",children:[y.jsxs("p",{children:["Club Atletismo Maracena utiliza cookies para garantizar que obtengas la mejor experiencia en nuestro sitio web. Si necesitas más información sobre las cookies. ",y.jsxs("a",{href:"#",children:["Política de cookies ",y.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square fa-2xs"})]})]}),y.jsx("button",{onClick:n,children:"Aceptar"}),y.jsx("button",{onClick:r,children:"Rechazar"})]})})}function Oj(){return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"pagenotfound",children:[y.jsxs("div",{className:"texto",children:[y.jsx("h1",{children:"Página no encontrada"}),y.jsx(hn,{to:"/",className:"link",children:"Volver a inicio"})]}),y.jsxs("div",{className:"main_wrapper",children:[y.jsxs("div",{className:"main",children:[y.jsxs("div",{className:"antenna",children:[y.jsx("div",{className:"antenna_shadow"}),y.jsx("div",{className:"a1"}),y.jsx("div",{className:"a1d"}),y.jsx("div",{className:"a2"}),y.jsx("div",{className:"a2d"}),y.jsx("div",{className:"a_base"})]}),y.jsxs("div",{className:"tv",children:[y.jsx("div",{className:"cruve",children:y.jsx("svg",{xmlSpace:"preserve",viewBox:"0 0 189.929 189.929",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"curve_svg",children:y.jsx("path",{d:`M70.343,70.343c-30.554,30.553-44.806,72.7-39.102,115.635l-29.738,3.951C-5.442,137.659,11.917,86.34,49.129,49.13\r
                C86.34,11.918,137.664-5.445,189.928,1.502l-3.95,29.738C143.041,25.54,100.895,39.789,70.343,70.343z`})})}),y.jsx("div",{className:"display_div",children:y.jsx("div",{className:"screen_out",children:y.jsx("div",{className:"screen_out1",children:y.jsx("div",{className:"screen",children:y.jsx("span",{className:"notfound_text",children:" NOT FOUND"})})})})}),y.jsxs("div",{className:"lines",children:[y.jsx("div",{className:"line1"}),y.jsx("div",{className:"line2"}),y.jsx("div",{className:"line3"})]}),y.jsxs("div",{className:"buttons_div",children:[y.jsx("div",{className:"b1",children:y.jsx("div",{})}),y.jsx("div",{className:"b2"}),y.jsxs("div",{className:"speakers",children:[y.jsxs("div",{className:"g1",children:[y.jsx("div",{className:"g11"}),y.jsx("div",{className:"g12"}),y.jsx("div",{className:"g13"})]}),y.jsx("div",{className:"g"}),y.jsx("div",{className:"g"})]})]})]}),y.jsxs("div",{className:"bottom",children:[y.jsx("div",{className:"base1"}),y.jsx("div",{className:"base2"}),y.jsx("div",{className:"base3"})]})]}),y.jsxs("div",{className:"text_404",children:[y.jsx("div",{className:"text_4041",children:"4"}),y.jsx("div",{className:"text_4042",children:"0"}),y.jsx("div",{className:"text_4043",children:"4"})]})]})]})})}const Lj=()=>{const{pathname:t}=Oo();return H.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Vj=()=>y.jsxs(KR,{children:[y.jsx(Lj,{}),y.jsxs(UR,{children:[y.jsx(Zn,{path:"/",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(Cj,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"club",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(Rj,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"inscripcion",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(kj,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"noticias",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(Pj,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"galeria",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(Nj,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"contacto",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(Dj,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"login",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(bj,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"register",element:y.jsxs(y.Fragment,{children:[y.jsx(Kr,{}),y.jsx(Gr,{}),y.jsx(Qr,{})]})}),y.jsx(Zn,{path:"*",element:y.jsx(Oj,{})})]})]}),M0=document.getElementById("root");M0?JE(M0).render(y.jsx(Vj,{})):console.error("No se encontró el elemento raíz (root) en el DOM.");
